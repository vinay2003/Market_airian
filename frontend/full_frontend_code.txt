================================================================================
FILE: src/App.css
================================================================================

#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}


================================================================================
FILE: src/App.tsx
================================================================================

import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
import '@fontsource/inter/400.css';
import '@fontsource/inter/600.css';
import '@fontsource/outfit/700.css';
import '@fontsource/outfit/500.css';
import { AuthProvider } from '@/context/AuthContext';
import Landing from '@/pages/Landing';
import Login from '@/pages/auth/Login';

// Vendor Pages
import VendorOnboarding from '@/pages/vendor/Onboarding';
import VendorDashboard from '@/pages/vendor/Dashboard';
import VendorPublicProfile from '@/pages/public/VendorProfile';
import BrowseVendors from '@/pages/public/BrowseVendors';
import VendorProfileEditor from '@/pages/vendor/ProfileEditor';
import PackageManager from '@/pages/vendor/PackageManager';
import GalleryManager from '@/pages/vendor/GalleryManager';
import BookingsManager from '@/pages/vendor/BookingsManager';
import VendorSettings from '@/pages/vendor/Settings';

// User Pages
import UserOnboarding from '@/pages/user/Onboarding';
import UserDashboard from '@/pages/user/Dashboard';
import UserBookings from '@/pages/user/Bookings';
import UserSettings from '@/pages/user/Settings';

// Layout & Components
import { ProtectedRoute } from '@/components/layout/ProtectedRoute';
import { DashboardLayout } from '@/components/layout/DashboardLayout';
import { PublicLayout } from '@/components/layout/PublicLayout';

function App() {
  return (
    <BrowserRouter>
      <AuthProvider>
        <Routes>
          {/* Public Routes */}
          <Route element={<PublicLayout />}>
            <Route path="/" element={<Landing />} />
            <Route path="/vendors" element={<BrowseVendors />} />
            <Route path="/vendor/:id" element={<VendorPublicProfile />} />
          </Route>

          {/* Auth Routes */}
          <Route path="/login" element={<Login />} />
          <Route path="/onboarding/user" element={<UserOnboarding />} />
          <Route path="/onboarding/vendor" element={<VendorOnboarding />} />

          {/* Protected Vendor Dashboard */}
          <Route element={<ProtectedRoute allowedRoles={['vendor']} />}>
            <Route element={<DashboardLayout />}>
              <Route path="/vendor/dashboard" element={<VendorDashboard />} />
              <Route path="/vendor/bookings" element={<BookingsManager />} />
              <Route path="/vendor/packages" element={<PackageManager />} />
              <Route path="/vendor/gallery" element={<GalleryManager />} />
              <Route path="/vendor/profile" element={<VendorProfileEditor />} />
              <Route path="/vendor/settings" element={<VendorSettings />} />
            </Route>
          </Route>

          {/* Protected User Dashboard */}
          <Route element={<ProtectedRoute allowedRoles={['user']} />}>
            <Route element={<DashboardLayout />}>
              <Route path="/user/dashboard" element={<UserDashboard />} />
              <Route path="/user/bookings" element={<UserBookings />} />
              <Route path="/user/favorites" element={<div>Favorites (Coming Soon)</div>} />
              <Route path="/user/profile" element={<UserSettings />} />
              <Route path="/user/settings" element={<UserSettings />} />
            </Route>
          </Route>

          {/* Catch all redirects */}
          <Route path="/vendor" element={<Navigate to="/vendor/dashboard" replace />} />
          <Route path="/user" element={<Navigate to="/user/dashboard" replace />} />

          {/* Legacy Onboarding Redirects */}
          <Route path="/vendor/onboarding" element={<Navigate to="/onboarding/vendor" replace />} />
          <Route path="/user/onboarding" element={<Navigate to="/onboarding/user" replace />} />
          <Route path="/dashboard" element={<Navigate to="/" replace />} />

        </Routes>
      </AuthProvider>
    </BrowserRouter>
  );
}

export default App;


================================================================================
FILE: src/components/home/Categories.tsx
================================================================================

import { motion } from 'framer-motion';
import { Sparkles, PartyPopper, Cake, Music, Camera, Utensils } from 'lucide-react';
import { Card } from '@/components/ui/card';

const categories = [
    { name: 'Weddings', icon: Sparkles, color: 'bg-rose-100 text-rose-600', desc: 'Venues, planners, photographers' },
    { name: 'Birthdays', icon: Cake, color: 'bg-blue-100 text-blue-600', desc: 'Decor, cakes, entertainers' },
    { name: 'Corporate', icon: PartyPopper, color: 'bg-amber-100 text-amber-600', desc: 'Conferences, retreats, parties' },
    { name: 'Music & DJs', icon: Music, color: 'bg-purple-100 text-purple-600', desc: 'Live bands, DJs, sound systems' },
    { name: 'Photography', icon: Camera, color: 'bg-emerald-100 text-emerald-600', desc: 'Wedding shoots, portraits' },
    { name: 'Catering', icon: Utensils, color: 'bg-orange-100 text-orange-600', desc: 'Buffets, sit-down dinners' },
];

export default function Categories() {
    return (
        <section className="py-24 bg-secondary/30 relative" id="services">
            <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10" />

            <div className="max-w-7xl mx-auto px-6 relative z-10">
                <motion.div
                    initial={{ opacity: 0, y: 20 }}
                    whileInView={{ opacity: 1, y: 0 }}
                    viewport={{ once: true }}
                    className="text-center mb-16 space-y-4"
                >
                    <h2 className="text-4xl md:text-5xl font-heading font-bold text-gray-900">Curated Categories</h2>
                    <p className="text-gray-500 max-w-2xl mx-auto text-lg">Everything you need to plan the perfect celebration, organized for your convenience.</p>
                </motion.div>

                <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
                    {categories.map((cat, i) => (
                        <motion.div
                            key={i}
                            initial={{ opacity: 0, y: 20 }}
                            whileInView={{ opacity: 1, y: 0 }}
                            viewport={{ once: true }}
                            transition={{ delay: i * 0.1 }}
                            whileHover={{ y: -5, scale: 1.02 }}
                            className="h-full"
                        >
                            <Card className="h-full border-0 shadow-sm hover:shadow-xl transition-all duration-300 p-6 flex flex-col items-center text-center bg-white/60 backdrop-blur-sm cursor-pointer group">
                                <div className={`w-14 h-14 rounded-full flex items-center justify-center mb-4 transition-transform group-hover:scale-110 ${cat.color}`}>
                                    <cat.icon className="h-7 w-7" />
                                </div>
                                <h3 className="font-heading font-bold text-lg mb-1 group-hover:text-primary transition-colors">{cat.name}</h3>
                                <p className="text-xs text-gray-500 line-clamp-2">{cat.desc}</p>
                            </Card>
                        </motion.div>
                    ))}
                </div>
            </div>
        </section>
    );
}


================================================================================
FILE: src/components/home/FeaturedShowcase.tsx
================================================================================

import { motion } from 'framer-motion';
import { Star, MapPin, ArrowRight } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';

const packages = [
    {
        title: "Royal Wedding Package",
        vendor: "Elegant Events Co.",
        price: "₹1,50,000",
        rating: 4.9,
        location: "Mumbai",
        image: "https://images.unsplash.com/photo-1519167758481-83f550bb49b3?q=80&w=2098&auto=format&fit=crop",
        tags: ["Photography", "Decor", "Catering"]
    },
    {
        title: "Sunset Beach Party",
        vendor: "Goa Vibes",
        price: "₹80,000",
        rating: 4.8,
        location: "Goa",
        image: "https://images.unsplash.com/photo-1639945506968-3dea2042c861?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8d2VkZGluZyUyMGltYWdlc3xlbnwwfHwwfHx8MA%3D%3D",
        tags: ["Music", "Drinks", "Venue"]
    },
    {
        title: "Corporate Gala Dinner",
        vendor: "Elite Planners",
        price: "₹2,00,000",
        rating: 5.0,
        location: "Delhi",
        image: "https://images.unsplash.com/photo-1511578314322-379afb476865?q=80&w=2069&auto=format&fit=crop",
        tags: ["Full Service", "Premium"]
    }
];

export default function FeaturedShowcase() {
    return (
        <section className="py-24 bg-white relative" id="venues">
            <div className="max-w-7xl mx-auto px-6">
                <div className="flex flex-col md:flex-row justify-between items-end mb-12 gap-6">
                    <motion.div
                        initial={{ opacity: 0, x: -20 }}
                        whileInView={{ opacity: 1, x: 0 }}
                        viewport={{ once: true }}
                        className="space-y-2"
                    >
                        <h2 className="text-4xl md:text-5xl font-heading font-bold text-gray-900">Trending Packages</h2>
                        <p className="text-gray-500 max-w-xl">Curated selection of the most popular packages loved by our community.</p>
                    </motion.div>
                    <Button variant="outline" className="rounded-full border-2 hover:bg-gray-50">
                        View All Packages <ArrowRight className="ml-2 h-4 w-4" />
                    </Button>
                </div>

                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    {packages.map((pkg, i) => (
                        <motion.div
                            key={i}
                            initial={{ opacity: 0, y: 30 }}
                            whileInView={{ opacity: 1, y: 0 }}
                            viewport={{ once: true }}
                            transition={{ delay: i * 0.1 }}
                            whileHover={{ y: -5 }}
                            className="group relative bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100"
                        >
                            <div className="h-48 overflow-hidden relative">
                                <img
                                    src={pkg.image}
                                    alt={pkg.title}
                                    className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                                />
                                <div className="absolute top-3 left-3 flex gap-1.5">
                                    {pkg.tags.map((tag, j) => (
                                        <Badge key={j} className="bg-white/90 text-gray-900 backdrop-blur-sm shadow-sm hover:bg-white text-[10px] px-2 py-0.5">{tag}</Badge>
                                    ))}
                                </div>
                                <div className="absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-1.5 py-0.5 rounded flex items-center gap-1 text-xs font-bold shadow-sm">
                                    <Star className="h-3 w-3 text-primary fill-primary" /> {pkg.rating}
                                </div>
                            </div>

                            <div className="p-4 space-y-3">
                                <div>
                                    <div className="text-[10px] text-primary font-bold uppercase tracking-wider mb-0.5">{pkg.vendor}</div>
                                    <h3 className="text-lg font-heading font-bold text-gray-900 leading-tight group-hover:text-primary transition-colors">{pkg.title}</h3>
                                </div>

                                <div className="flex items-center text-gray-500 text-xs">
                                    <MapPin className="h-3 w-3 mr-1" /> {pkg.location}
                                </div>

                                <div className="flex items-center justify-between pt-3 border-t border-gray-100">
                                    <div className="text-xl font-bold text-gray-900">{pkg.price}</div>
                                    <Button size="sm" className="rounded-full bg-gray-900 text-white hover:bg-primary transition-colors px-4 h-8 text-xs">
                                        Book Now
                                    </Button>
                                </div>
                            </div>
                        </motion.div>
                    ))}
                </div>
            </div>
        </section>
    );
}


================================================================================
FILE: src/components/home/Footer.tsx
================================================================================

import { Link } from 'react-router-dom';
import { Facebook, Instagram, Twitter, Linkedin, Heart } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';

export default function Footer() {
    return (
        <footer className="bg-gray-900 text-white pt-24 pb-12">
            <div className="max-w-7xl mx-auto px-6">
                <div className="grid md:grid-cols-4 gap-12 mb-16">
                    <div className="space-y-6">
                        <div className="flex items-center gap-2">
                            <div className="bg-white text-gray-900 h-8 w-8 rounded-lg flex items-center justify-center font-bold font-heading">M</div>
                            <span className="font-heading font-bold text-xl tracking-tight">MarketFly</span>
                        </div>
                        <p className="text-gray-400 leading-relaxed">
                            Elevating celebrations with curated vendors and seamless planning tools.
                        </p>
                        <div className="flex gap-4">
                            {[Facebook, Instagram, Twitter, Linkedin].map((Icon, i) => (
                                <a key={i} href="#" className="bg-white/10 p-2 rounded-full hover:bg-primary hover:text-white transition-colors">
                                    <Icon className="h-4 w-4" />
                                </a>
                            ))}
                        </div>
                    </div>

                    <div>
                        <h4 className="font-heading font-bold text-lg mb-6">Company</h4>
                        <ul className="space-y-4 text-gray-400">
                            <li><Link to="/about" className="hover:text-primary transition-colors">About Us</Link></li>
                            <li><Link to="/careers" className="hover:text-primary transition-colors">Careers</Link></li>
                            <li><Link to="/blog" className="hover:text-primary transition-colors">Blog</Link></li>
                            <li><Link to="/contact" className="hover:text-primary transition-colors">Contact</Link></li>
                        </ul>
                    </div>

                    <div>
                        <h4 className="font-heading font-bold text-lg mb-6">Support</h4>
                        <ul className="space-y-4 text-gray-400">
                            <li><Link to="/help" className="hover:text-primary transition-colors">Help Center</Link></li>
                            <li><Link to="/terms" className="hover:text-primary transition-colors">Terms of Service</Link></li>
                            <li><Link to="/privacy" className="hover:text-primary transition-colors">Privacy Policy</Link></li>
                            <li><Link to="/vendors" className="hover:text-primary transition-colors">Vendor Guidelines</Link></li>
                        </ul>
                    </div>

                    <div>
                        <h4 className="font-heading font-bold text-lg mb-6">Stay Updated</h4>
                        <p className="text-gray-400 mb-4">Subscribe to our newsletter for the latest trends.</p>
                        <div className="flex gap-2">
                            <Input placeholder="Email address" className="bg-white/10 border-white/10 text-white placeholder:text-gray-500 focus:ring-primary" />
                            <Button className="bg-primary hover:bg-primary-600 text-white">
                                Subscribe
                            </Button>
                        </div>
                    </div>
                </div>

                <div className="pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-500">
                    <p>&copy; 2026 MarketFly Inc. All rights reserved.</p>
                    <p className="flex items-center gap-1">
                        Made with <Heart className="h-3 w-3 text-red-500 fill-red-500" /> in India
                    </p>
                </div>
            </div>
        </footer>
    );
}


================================================================================
FILE: src/components/home/Gallery.tsx
================================================================================

import { motion } from 'framer-motion';
import { Camera } from 'lucide-react';

const images = [
    { src: "/images/WhatsApp Image 2026-02-10 at 22.00.18.jpeg", span: "md:col-span-2 md:row-span-2" },
    { src: "/images/WhatsApp Image 2026-02-10 at 22.00.19.jpeg", span: "md:col-span-1 md:row-span-1" },
    { src: "/images/WhatsApp Image 2026-02-10 at 22.00.20.jpeg", span: "md:col-span-1 md:row-span-1" },
    { src: "/images/WhatsApp Image 2026-02-10 at 22.00.21.jpeg", span: "md:col-span-1 md:row-span-1" },
    { src: "/images/WhatsApp Image 2026-02-10 at 22.00.23.jpeg", span: "md:col-span-1 md:row-span-1" },
];

export default function Gallery() {
    return (
        <section className="py-24 bg-white" id="gallery">
            <div className="max-w-7xl mx-auto px-6">
                <div className="flex flex-col items-center text-center mb-16 space-y-4">
                    <div className="bg-primary/10 text-primary p-3 rounded-full">
                        <Camera className="h-6 w-6" />
                    </div>
                    <h2 className="text-4xl md:text-5xl font-heading font-bold text-gray-900">Captured Moments</h2>
                    <p className="text-gray-500 max-w-xl mx-auto">Real weddings, real parties, real memories created by our vendors.</p>
                </div>

                <div className="grid grid-cols-2 md:grid-cols-4 grid-rows-4 md:grid-rows-2 gap-3 h-[500px] md:h-[600px]">
                    {images.map((img, i) => (
                        <motion.div
                            key={i}
                            initial={{ opacity: 0, scale: 0.95 }}
                            whileInView={{ opacity: 1, scale: 1 }}
                            viewport={{ once: true }}
                            transition={{ delay: i * 0.1 }}
                            className={`relative rounded-2xl overflow-hidden group ${i === 0 ? 'col-span-2 row-span-2' : 'col-span-1 row-span-1'}`}
                        >
                            <img
                                src={img.src}
                                alt="Gallery"
                                className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                            />
                            <div className="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
                        </motion.div>
                    ))}
                </div>
            </div>
        </section>
    );
}


================================================================================
FILE: src/components/home/Hero.tsx
================================================================================

import { motion } from 'framer-motion';
import { ArrowRight, Star } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Link } from 'react-router-dom';

export default function Hero() {
    return (
        <section className="relative min-h-[90vh] flex items-center pt-20 overflow-hidden bg-background">
            {/* Background Decor */}
            <div className="absolute inset-0 z-0 pointer-events-none">
                <div className="absolute top-0 right-0 w-[50vw] h-full bg-secondary/30 blur-[120px] rounded-l-full translate-x-1/4 animate-float" />
                <div className="absolute bottom-0 left-0 w-[40vw] h-[60vh] bg-primary/10 blur-[100px] rounded-r-full -translate-x-1/4 animate-float" style={{ animationDelay: '2s' }} />

                {/* Floating Elements (replace with actual images later) */}
                <motion.div
                    animate={{ y: [0, -20, 0] }}
                    transition={{ duration: 6, repeat: Infinity, ease: "easeInOut" }}
                    className="absolute top-1/4 right-[10%] w-24 h-24 bg-gradient-to-br from-primary/20 to-transparent rounded-full blur-xl"
                />
            </div>

            <div className="max-w-7xl mx-auto px-6 w-full relative z-10 grid lg:grid-cols-2 gap-12 items-center">
                {/* Text Content */}
                <div className="space-y-8 text-center lg:text-left">
                    <motion.div
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.6 }}
                        className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white shadow-sm border border-gray-100 text-sm font-medium text-gray-600 mb-4"
                    >
                        <Star className="h-4 w-4 text-primary fill-primary" />
                        <span>The Premier Marketplace for Events</span>
                    </motion.div>

                    <motion.h1
                        initial={{ opacity: 0, y: 30 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.8, delay: 0.2 }}
                        className="text-6xl md:text-7xl lg:text-8xl font-heading font-bold text-foreground leading-[1.1] tracking-tight"
                    >
                        Celebrate <br />
                        <span className="text-transparent bg-clip-text bg-gradient-to-r from-primary to-primary-600 italic font-serif">
                            Life's Moments
                        </span>
                    </motion.h1>

                    <motion.p
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.8, delay: 0.4 }}
                        className="text-lg md:text-xl text-muted-foreground max-w-xl mx-auto lg:mx-0 leading-relaxed"
                    >
                        From intimate weddings to grand galas, connect with curated vendors who bring your vision to life with elegance and ease.
                    </motion.p>

                    <motion.div
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.8, delay: 0.6 }}
                        className="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start"
                    >
                        <Link to="/login">
                            <Button size="lg" className="rounded-full h-14 px-8 text-lg bg-primary hover:bg-primary-600 text-white shadow-lg shadow-primary/30 transition-all hover:scale-105 active:scale-95">
                                Find Vendors
                            </Button>
                        </Link>
                        <Link to="/vendor/onboarding">
                            <Button size="lg" variant="outline" className="rounded-full h-14 px-8 text-lg border-2 hover:bg-secondary/50 transition-all">
                                For Vendors <ArrowRight className="ml-2 h-5 w-5" />
                            </Button>
                        </Link>
                    </motion.div>

                    {/* Quick Stats */}
                    <motion.div
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        transition={{ duration: 1, delay: 0.8 }}
                        className="pt-8 flex items-center justify-center lg:justify-start gap-8 text-sm text-gray-500"
                    >
                        <div className="flex -space-x-3">
                            {[1, 2, 3, 4].map(i => (
                                <div key={i} className="w-10 h-10 rounded-full border-2 border-white bg-gray-200" />
                            ))}
                        </div>
                        <p>Trusted by <span className="font-bold text-gray-900">15,000+</span> planners</p>
                    </motion.div>
                </div>

                {/* Hero Image/Visual */}
                <motion.div
                    initial={{ opacity: 0, scale: 0.95 }}
                    animate={{ opacity: 1, scale: 1 }}
                    transition={{ duration: 1, delay: 0.4 }}
                    className="relative hidden lg:block h-[700px]"
                >
                    <div className="absolute top-10 right-10 w-full h-full bg-secondary/50 rounded-[3rem] -z-10" />
                    <img
                        src="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=2070&auto=format&fit=crop"
                        alt="Wedding Celebration"
                        className="w-full h-full object-cover rounded-[3rem] shadow-2xl"
                    />

                    {/* Floating Cards */}
                    <motion.div
                        initial={{ y: 20, opacity: 0 }}
                        animate={{ y: 0, opacity: 1 }}
                        transition={{ delay: 1.2, duration: 0.8 }}
                        className="absolute bottom-20 -left-12 glass p-4 rounded-2xl flex items-center gap-4 max-w-xs animate-float"
                    >
                        <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600 text-xl">✨</div>
                        <div>
                            <p className="font-heading font-bold text-gray-900">Best Wedding 2024</p>
                            <p className="text-xs text-gray-500">Awarded to Photography Co.</p>
                        </div>
                    </motion.div>
                </motion.div>
            </div>
        </section>
    );
}


================================================================================
FILE: src/components/home/Navbar.tsx
================================================================================

import { useState } from 'react';
import { Link } from 'react-router-dom';
import { Button } from '@/components/ui/button';
import { motion, useScroll, useMotionValueEvent } from 'framer-motion';
import { Menu, X } from 'lucide-react';

export default function Navbar() {
    const [scrolled, setScrolled] = useState(false);
    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
    const { scrollY } = useScroll();

    useMotionValueEvent(scrollY, "change", (latest) => {
        setScrolled(latest > 50);
    });

    return (
        <motion.nav
            initial={{ y: -100 }}
            animate={{ y: 0 }}
            transition={{ duration: 0.5 }}
            className={`fixed top-0 w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white/80 backdrop-blur-md shadow-sm py-4 border-b border-gray-100' : 'bg-transparent py-6'}`}
        >
            <div className="max-w-7xl mx-auto px-6 flex items-center justify-between">
                <Link to="/" className="flex items-center gap-2 group">
                    <div className="bg-primary text-white h-10 w-10 rounded-xl flex items-center justify-center font-bold font-heading text-xl shadow-lg shadow-primary/25 transition-transform group-hover:scale-105 duration-300">M</div>
                    <span className={`font-heading font-extrabold text-2xl tracking-tight transition-colors ${scrolled ? 'text-gray-900' : 'text-gray-900'}`}>MarketFly</span>
                </Link>

                {/* Desktop Nav */}
                <div className="hidden md:flex items-center gap-8">
                    {['Venues', 'Services', 'Gallery', 'About'].map((item) => (
                        <a key={item} href={`#${item.toLowerCase()}`} className="text-sm font-bold text-gray-700 hover:text-primary transition-colors uppercase tracking-wide">
                            {item}
                        </a>
                    ))}
                </div>

                <div className="hidden md:flex items-center gap-4">
                    <Link to="/login">
                        <Button variant="ghost" className="hover:bg-primary/5 hover:text-primary font-bold text-gray-700">Log in</Button>
                    </Link>
                    <Link to="/vendor/onboarding">
                        <Button className="bg-indigo-600 hover:bg-indigo-700 text-white font-bold shadow-lg shadow-indigo-600/25 rounded-full px-6 transition-all hover:scale-105 active:scale-95 duration-200">
                            List Your Business
                        </Button>
                    </Link>
                </div>

                {/* Mobile Menu Toggle */}
                <button className="md:hidden p-2 text-gray-600" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>
                    {mobileMenuOpen ? <X /> : <Menu />}
                </button>
            </div>

            {/* Mobile Menu */}
            {mobileMenuOpen && (
                <motion.div
                    initial={{ opacity: 0, height: 0 }}
                    animate={{ opacity: 1, height: 'auto' }}
                    exit={{ opacity: 0, height: 0 }}
                    className="md:hidden bg-white border-b border-gray-100 px-6 py-4 space-y-4 shadow-xl"
                >
                    {['Venues', 'Services', 'Gallery', 'About'].map((item) => (
                        <a key={item} href={`#${item.toLowerCase()}`} className="block text-sm font-bold text-gray-700 py-2" onClick={() => setMobileMenuOpen(false)}>
                            {item}
                        </a>
                    ))}
                    <div className="pt-4 flex flex-col gap-3">
                        <Link to="/login" onClick={() => setMobileMenuOpen(false)}>
                            <Button variant="outline" className="w-full justify-center font-bold">Log in</Button>
                        </Link>
                        <Link to="/vendor/onboarding" onClick={() => setMobileMenuOpen(false)}>
                            <Button className="w-full justify-center bg-indigo-600 hover:bg-indigo-700 text-white font-bold">List Your Business</Button>
                        </Link>
                    </div>
                </motion.div>
            )}
        </motion.nav>
    );
}


================================================================================
FILE: src/components/home/Testimonials.tsx
================================================================================

import { motion } from 'framer-motion';
import { Star, Quote } from 'lucide-react';

const testimonials = [
    {
        name: "Sarah & James",
        role: "Wedding Clients",
        text: "The most seamless experience! We found our dream photographer and venue within days. The platform is elegant and so easy to use.",
        image: "https://images.unsplash.com/photo-1623184663110-89ba5b565eb6?q=80&w=2070&auto=format&fit=crop"
    },
    {
        name: "Event Horizon Co.",
        role: "Corporate Vendor",
        text: "Since listing on MarketFly, our bookings have doubled. The quality of leads is outstanding compared to other platforms.",
        image: "https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1974&auto=format&fit=crop"
    },
    {
        name: "Priya Sharma",
        role: "Birthday Planner",
        text: "I planned my daughter's first birthday entirely through this site. The verified vendors gave me such peace of mind.",
        image: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=1976&auto=format&fit=crop"
    }
];

export default function Testimonials() {
    return (
        <section className="py-24 bg-secondary/20 relative overflow-hidden" id="testimonials">
            <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/diamond-upholstery.png')] opacity-5 pointer-events-none" />

            <div className="max-w-7xl mx-auto px-6 relative z-10">
                <div className="text-center mb-16">
                    <h2 className="text-4xl md:text-5xl font-heading font-bold text-gray-900 mb-4">Love Stories</h2>
                    <p className="text-gray-500 max-w-xl mx-auto">Hear from the people who made their dreams come true with us.</p>
                </div>

                <div className="grid md:grid-cols-3 gap-8">
                    {testimonials.map((t, i) => (
                        <motion.div
                            key={i}
                            initial={{ opacity: 0, scale: 0.9 }}
                            whileInView={{ opacity: 1, scale: 1 }}
                            viewport={{ once: true }}
                            transition={{ delay: i * 0.2 }}
                            className="bg-white/80 backdrop-blur-md p-8 rounded-3xl shadow-sm border border-white/40 flex flex-col relative"
                        >
                            <Quote className="h-10 w-10 text-primary/20 absolute top-6 right-6" />

                            <div className="flex gap-1 text-primary mb-6">
                                {[1, 2, 3, 4, 5].map(star => <Star key={star} className="h-4 w-4 fill-current" />)}
                            </div>

                            <p className="text-gray-600 italic mb-8 flex-grow leading-relaxed">"{t.text}"</p>

                            <div className="flex items-center gap-4">
                                <img src={t.image} alt={t.name} className="h-12 w-12 rounded-full object-cover border-2 border-primary/20" />
                                <div>
                                    <div className="font-bold text-gray-900">{t.name}</div>
                                    <div className="text-xs text-primary font-medium">{t.role}</div>
                                </div>
                            </div>
                        </motion.div>
                    ))}
                </div>
            </div>
        </section>
    );
}


================================================================================
FILE: src/components/layout/DashboardLayout.tsx
================================================================================

import { useState } from 'react';
import { Outlet } from 'react-router-dom';
import { Sidebar } from '@/components/navigation/Sidebar';
import { Navbar } from '@/components/navigation/Navbar';
import { Breadcrumbs } from '@/components/navigation/Breadcrumbs';

export function DashboardLayout() {
    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

    return (
        <div className="min-h-screen bg-muted/20">
            <Sidebar className={`transition-transform duration-300 md:translate-x-0 ${isMobileMenuOpen ? 'translate-x-0 z-50' : '-translate-x-full'}`} />

            {/* Mobile Overlay */}
            {isMobileMenuOpen && (
                <div
                    className="fixed inset-0 bg-black/50 z-40 md:hidden"
                    onClick={() => setIsMobileMenuOpen(false)}
                />
            )}

            <div className="md:pl-64 flex flex-col min-h-screen transition-all duration-300">
                <Navbar onMenuClick={() => setIsMobileMenuOpen(true)} />

                <main className="flex-1 p-6 md:p-8 max-w-7xl mx-auto w-full">
                    <Breadcrumbs />
                    <Outlet />
                </main>
            </div>
        </div>
    );
}


================================================================================
FILE: src/components/layout/ProtectedRoute.tsx
================================================================================

import { Navigate, Outlet } from 'react-router-dom';
import { useAuth } from '@/context/AuthContext';

interface ProtectedRouteProps {
    allowedRoles?: string[];
}

export const ProtectedRoute = ({ allowedRoles }: ProtectedRouteProps) => {
    const { user, token } = useAuth();

    if (!token) {
        return <Navigate to="/login" replace />;
    }

    if (allowedRoles && user && !allowedRoles.includes(user.role)) {
        return <Navigate to="/unauthorized" replace />;
    }

    return <Outlet />;
};


================================================================================
FILE: src/components/layout/PublicLayout.tsx
================================================================================

import { Outlet } from 'react-router-dom';
import Navbar from '@/components/home/Navbar';
import Footer from '@/components/home/Footer';

export function PublicLayout() {
    return (
        <div className="min-h-screen flex flex-col font-sans">
            <Navbar />
            <main className="flex-1">
                <Outlet />
            </main>
            <Footer />
        </div>
    );
}


================================================================================
FILE: src/components/navigation/Breadcrumbs.tsx
================================================================================

import { Link, useLocation } from 'react-router-dom';
import { ChevronRight, Home } from 'lucide-react';

export function Breadcrumbs() {
    const location = useLocation();
    const pathnames = location.pathname.split('/').filter((x) => x);

    // Don't show on dashboard home as it's redundant with the title
    if (pathnames.length === 0) return null;

    return (
        <nav aria-label="Breadcrumb" className="mb-4 hidden md:flex">
            <ol className="flex items-center gap-2 text-sm text-muted-foreground">
                <li>
                    <Link to="/" className="flex items-center hover:text-foreground transition-colors">
                        <Home className="h-4 w-4" />
                    </Link>
                </li>
                {pathnames.map((value, index) => {
                    const to = `/${pathnames.slice(0, index + 1).join('/')}`;
                    const isLast = index === pathnames.length - 1;
                    const title = value.charAt(0).toUpperCase() + value.slice(1);

                    return (
                        <li key={to} className="flex items-center gap-2">
                            <ChevronRight className="h-4 w-4" />
                            {isLast ? (
                                <span className="font-medium text-foreground">{title}</span>
                            ) : (
                                <Link to={to} className="hover:text-foreground transition-colors">
                                    {title}
                                </Link>
                            )}
                        </li>
                    );
                })}
            </ol>
        </nav>
    );
}


================================================================================
FILE: src/components/navigation/Navbar.tsx
================================================================================

import { Link } from 'react-router-dom';
import { useAuth } from '@/context/AuthContext';
import { Button } from '@/components/ui/button';
import {
    DropdownMenu,
    DropdownMenuContent,
    DropdownMenuItem,
    DropdownMenuLabel,
    DropdownMenuSeparator,
    DropdownMenuTrigger
} from '@/components/ui/dropdown-menu';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import { Bell, Search, Menu } from 'lucide-react';
import { Input } from '@/components/ui/input';

export function Navbar({ onMenuClick }: { onMenuClick?: () => void }) {
    const { user, logout } = useAuth();

    return (
        <header className="sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-6 shadow-sm">
            <Button variant="ghost" size="icon" className="md:hidden" onClick={onMenuClick}>
                <Menu className="h-5 w-5" />
            </Button>

            <div className="w-full flex-1">
                <form className="hidden md:flex items-center gap-2 max-w-md">
                    <div className="relative w-full">
                        <Search className="absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" />
                        <Input
                            type="search"
                            placeholder="Search..."
                            className="w-full bg-background pl-8 md:w-[300px] lg:w-[300px]"
                        />
                    </div>
                </form>
            </div>

            <div className="flex items-center gap-4">
                <Button variant="ghost" size="icon" className="relative">
                    <Bell className="h-5 w-5" />
                    <span className="absolute top-2 right-2 h-2 w-2 rounded-full bg-primary" />
                </Button>

                <DropdownMenu>
                    <DropdownMenuTrigger asChild>
                        <Button variant="ghost" className="relative h-8 w-8 rounded-full">
                            <Avatar className="h-8 w-8">
                                <AvatarImage src={user?.avatar} alt={user?.firstName || "User"} />
                                <AvatarFallback className="bg-primary/10 text-primary">
                                    {(user?.firstName || user?.role || "U").charAt(0).toUpperCase()}
                                </AvatarFallback>
                            </Avatar>
                        </Button>
                    </DropdownMenuTrigger>
                    <DropdownMenuContent className="w-56" align="end" forceMount>
                        <DropdownMenuLabel className="font-normal">
                            <div className="flex flex-col space-y-1">
                                <p className="text-sm font-medium leading-none">
                                    {user?.firstName ? `${user.firstName} ${user.lastName || ''}` : "User"}
                                </p>
                                <p className="text-xs leading-none text-muted-foreground">
                                    {user?.phone}
                                </p>
                            </div>
                        </DropdownMenuLabel>
                        <DropdownMenuSeparator />
                        <DropdownMenuItem asChild>
                            <Link to={user?.role === 'vendor' ? '/vendor/profile' : '/user/profile'}>
                                Profile
                            </Link>
                        </DropdownMenuItem>
                        <DropdownMenuItem asChild>
                            <Link to={user?.role === 'vendor' ? '/vendor/settings' : '/user/settings'}>
                                Settings
                            </Link>
                        </DropdownMenuItem>
                        <DropdownMenuSeparator />
                        <DropdownMenuItem onClick={logout} className="text-red-600 focus:text-red-600 focus:bg-red-50">
                            Log out
                        </DropdownMenuItem>
                    </DropdownMenuContent>
                </DropdownMenu>
            </div>
        </header>
    );
}


================================================================================
FILE: src/components/navigation/Sidebar.tsx
================================================================================

import { Link, useLocation } from 'react-router-dom';
import { cn } from '@/lib/utils';
import { Button } from '@/components/ui/button';
import {
    LayoutDashboard,
    Calendar,
    Package,
    Image,
    Settings,
    LogOut,
    Heart,
    ShoppingBag,
    User,
    Store
} from 'lucide-react';
import { useAuth } from '@/context/AuthContext';

interface SidebarProps extends React.HTMLAttributes<HTMLDivElement> { }

export function Sidebar({ className }: SidebarProps) {
    const { user, logout } = useAuth();
    const location = useLocation();
    const pathname = location.pathname;

    const vendorRoutes = [
        {
            label: "Dashboard",
            icon: LayoutDashboard,
            href: "/vendor/dashboard",
            pattern: "/vendor/dashboard"
        },
        {
            label: "Bookings",
            icon: Calendar,
            href: "/vendor/bookings",
            pattern: "/vendor/bookings"
        },
        {
            label: "Packages",
            icon: Package,
            href: "/vendor/packages",
            pattern: "/vendor/packages"
        },
        {
            label: "Gallery",
            icon: Image,
            href: "/vendor/gallery",
            pattern: "/vendor/gallery"
        },
        {
            label: "Profile",
            icon: Store,
            href: "/vendor/profile",
            pattern: "/vendor/profile"
        },
        {
            label: "Settings",
            icon: Settings,
            href: "/vendor/settings",
            pattern: "/vendor/settings"
        },
    ];

    const userRoutes = [
        {
            label: "Dashboard",
            icon: LayoutDashboard,
            href: "/user/dashboard",
            pattern: "/user/dashboard"
        },
        {
            label: "My Bookings",
            icon: ShoppingBag,
            href: "/user/bookings",
            pattern: "/user/bookings"
        },
        {
            label: "Favorites",
            icon: Heart,
            href: "/user/favorites",
            pattern: "/user/favorites"
        },
        {
            label: "Profile",
            icon: User,
            href: "/user/profile",
            pattern: "/user/profile"
        },
        {
            label: "Settings",
            icon: Settings,
            href: "/user/settings",
            pattern: "/user/settings"
        },
    ];

    const routes = user?.role === 'vendor' ? vendorRoutes : userRoutes;

    return (
        <div className={cn("pb-12 w-64 border-r bg-card h-screen fixed left-0 top-0 hidden md:block", className)}>
            <div className="space-y-4 py-4 h-full flex flex-col">
                <div className="px-4 py-2 flex-none">
                    <h2 className="mb-2 px-2 text-xl font-heading font-bold tracking-tight text-primary">
                        Market Airian
                    </h2>
                    <p className="px-2 text-xs text-muted-foreground uppercase tracking-wider font-semibold">
                        {user?.role === 'vendor' ? 'Vendor Portal' : 'User Portal'}
                    </p>
                </div>
                <ScrollAreaStub className="px-3 py-2 flex-1">
                    <div className="space-y-1">
                        {routes.map((route) => (
                            <Link key={route.href} to={route.href}>
                                <Button
                                    variant={pathname.startsWith(route.pattern) ? "secondary" : "ghost"}
                                    className={cn(
                                        "w-full justify-start gap-2",
                                        pathname.startsWith(route.pattern) && "font-semibold text-primary bg-primary/10"
                                    )}
                                >
                                    <route.icon className="h-4 w-4" />
                                    {route.label}
                                </Button>
                            </Link>
                        ))}
                    </div>
                </ScrollAreaStub>
            </div>
            <div className="absolute bottom-4 left-0 w-full px-3">
                <Button
                    variant="ghost"
                    className="w-full justify-start gap-2 text-red-500 hover:text-red-600 hover:bg-red-50"
                    onClick={logout}
                >
                    <LogOut className="h-4 w-4" />
                    Logout
                </Button>
            </div>
        </div>
    );
}

// Simple fallback for ScrollArea since we might not have it installed
function ScrollAreaStub({ className, children }: any) {
    return <div className={cn("overflow-auto", className)}>{children}</div>;
}


================================================================================
FILE: src/components/shared/BookingRequestDialog.tsx
================================================================================

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Calendar } from '@/components/ui/calendar';
import { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';
import { cn } from '@/lib/utils';
import { format } from 'date-fns';
import { CalendarIcon, Loader2 } from 'lucide-react';
import { useToast } from '@/components/ui/use-toast';

export function BookingRequestDialog({ vendorName, packs }: { vendorName: string, packs?: any[] }) {
    const { toast } = useToast();
    const [open, setOpen] = useState(false);
    const [date, setDate] = useState<Date>();
    const [loading, setLoading] = useState(false);
    const [step, setStep] = useState(1);

    const handleSubmit = async () => {
        setLoading(true);
        // Simulate API call
        await new Promise(resolve => setTimeout(resolve, 1500));
        setLoading(false);
        setOpen(false);
        setStep(1);
        toast({
            title: "Request Sent!",
            description: `Your booking request has been sent to ${vendorName}. They will contact you shortly.`,
        });
    };

    return (
        <Dialog open={open} onOpenChange={setOpen}>
            <DialogTrigger asChild>
                <Button size="lg" className="w-full text-lg">Request Booking</Button>
            </DialogTrigger>
            <DialogContent className="sm:max-w-[500px]">
                <DialogHeader>
                    <DialogTitle>Book {vendorName}</DialogTitle>
                    <DialogDescription>
                        Fill in the details for your event. The vendor will confirm availability.
                    </DialogDescription>
                </DialogHeader>

                {step === 1 && (
                    <div className="grid gap-4 py-4">
                        <div className="grid gap-2">
                            <Label>Event Date</Label>
                            <Popover>
                                <PopoverTrigger asChild>
                                    <Button
                                        variant={"outline"}
                                        className={cn(
                                            "w-full justify-start text-left font-normal",
                                            !date && "text-muted-foreground"
                                        )}
                                    >
                                        <CalendarIcon className="mr-2 h-4 w-4" />
                                        {date ? format(date, "PPP") : <span>Pick a date</span>}
                                    </Button>
                                </PopoverTrigger>
                                <PopoverContent className="w-auto p-0">
                                    <Calendar
                                        mode="single"
                                        selected={date}
                                        onSelect={setDate}
                                        initialFocus
                                    />
                                </PopoverContent>
                            </Popover>
                        </div>
                        <div className="grid gap-2">
                            <Label>Event Type</Label>
                            <Input placeholder="e.g. Wedding, Birthday, Corporate" />
                        </div>
                        <div className="grid gap-2">
                            <Label>Select Package (Optional)</Label>
                            <select className="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                                <option value="">No specific package</option>
                                {packs?.map((p: any) => (
                                    <option key={p.id} value={p.id}>{p.name} - ₹{p.price}</option>
                                ))}
                            </select>
                        </div>
                    </div>
                )}

                {step === 2 && (
                    <div className="grid gap-4 py-4">
                        <div className="grid gap-2">
                            <Label>Your Name</Label>
                            <Input placeholder="John Doe" />
                        </div>
                        <div className="grid gap-2">
                            <Label>Phone Number</Label>
                            <Input placeholder="+91 99999 99999" />
                        </div>
                        <div className="grid gap-2">
                            <Label>Message / Special Requests</Label>
                            <Textarea placeholder="Tell us more about your event requirements..." />
                        </div>
                    </div>
                )}

                <DialogFooter>
                    {step === 1 ? (
                        <Button onClick={() => setStep(2)} disabled={!date}>Next Step</Button>
                    ) : (
                        <div className="flex gap-2 w-full">
                            <Button variant="outline" onClick={() => setStep(1)} className="flex-1">Back</Button>
                            <Button onClick={handleSubmit} disabled={loading} className="flex-1">
                                {loading && <Loader2 className="mr-2 h-4 w-4 animate-spin" />}
                                {loading ? "Sending..." : "Send Request"}
                            </Button>
                        </div>
                    )}
                </DialogFooter>
            </DialogContent>
        </Dialog>
    );
}


================================================================================
FILE: src/components/shared/MetricCard.tsx
================================================================================

import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { cn } from '@/lib/utils';
import type { LucideIcon } from 'lucide-react';

interface MetricCardProps {
    title: string;
    value: string | number;
    description?: string;
    icon: LucideIcon;
    trend?: {
        value: number;
        isPositive: boolean;
    };
    className?: string;
}

export function MetricCard({ title, value, description, icon: Icon, trend, className }: MetricCardProps) {
    return (
        <Card className={cn("overflow-hidden", className)}>
            <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
                <CardTitle className="text-sm font-medium text-muted-foreground">
                    {title}
                </CardTitle>
                <Icon className="h-4 w-4 text-muted-foreground" />
            </CardHeader>
            <CardContent>
                <div className="text-2xl font-bold">{value}</div>
                {(description || trend) && (
                    <p className="text-xs text-muted-foreground mt-1">
                        {trend && (
                            <span className={cn("font-medium mr-1", trend.isPositive ? "text-green-500" : "text-red-500")}>
                                {trend.isPositive ? "+" : ""}{trend.value}%
                            </span>
                        )}
                        {description}
                    </p>
                )}
            </CardContent>
        </Card>
    );
}


================================================================================
FILE: src/components/ui/avatar.tsx
================================================================================

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }


================================================================================
FILE: src/components/ui/badge.tsx
================================================================================

import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }


================================================================================
FILE: src/components/ui/button.tsx
================================================================================

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",
        outline:
          "border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md px-3 text-xs",
        lg: "h-10 rounded-md px-8",
        icon: "h-9 w-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }


================================================================================
FILE: src/components/ui/calendar.tsx
================================================================================

import * as React from "react"
import { DayPicker } from "react-day-picker"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

export type CalendarProps = React.ComponentProps<typeof DayPicker>

function Calendar({
    className,
    classNames,
    showOutsideDays = true,
    ...props
}: CalendarProps) {
    return (
        <DayPicker
            showOutsideDays={showOutsideDays}
            className={cn("p-3", className)}
            classNames={{
                months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
                month: "space-y-4",
                caption: "flex justify-center pt-1 relative items-center",
                caption_label: "text-sm font-medium",
                nav: "space-x-1 flex items-center",
                nav_button: cn(
                    buttonVariants({ variant: "outline" }),
                    "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"
                ),
                nav_button_previous: "absolute left-1",
                nav_button_next: "absolute right-1",
                table: "w-full border-collapse space-y-1",
                head_row: "flex",
                head_cell:
                    "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
                row: "flex w-full mt-2",
                cell: "h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
                day: cn(
                    buttonVariants({ variant: "ghost" }),
                    "h-9 w-9 p-0 font-normal aria-selected:opacity-100"
                ),
                day_range_end: "day-range-end",
                day_selected:
                    "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
                day_today: "bg-accent text-accent-foreground",
                day_outside:
                    "day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",
                day_disabled: "text-muted-foreground opacity-50",
                day_range_middle:
                    "aria-selected:bg-accent aria-selected:text-accent-foreground",
                day_hidden: "invisible",
                ...classNames,
            }}
            {...props}
        />
    )
}
Calendar.displayName = "Calendar"

export { Calendar }


================================================================================
FILE: src/components/ui/card.tsx
================================================================================

import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-xl border bg-card text-card-foreground shadow",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("font-semibold leading-none tracking-tight", className)}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }


================================================================================
FILE: src/components/ui/checkbox.tsx
================================================================================

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { Check } from "lucide-react"

import { cn } from "@/lib/utils"

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn("grid place-content-center text-current")}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }


================================================================================
FILE: src/components/ui/command.tsx
================================================================================

import * as React from "react"
import { type DialogProps } from "@radix-ui/react-dialog"
import { Command as CommandPrimitive } from "cmdk"
import { Search } from "lucide-react"

import { cn } from "@/lib/utils"
import { Dialog, DialogContent } from "@/components/ui/dialog"

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      "flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",
      className
    )}
    {...props}
  />
))
Command.displayName = CommandPrimitive.displayName

const CommandDialog = ({ children, ...props }: DialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        "flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    />
  </div>
))

CommandInput.displayName = CommandPrimitive.Input.displayName

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn("max-h-[300px] overflow-y-auto overflow-x-hidden", className)}
    {...props}
  />
))

CommandList.displayName = CommandPrimitive.List.displayName

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty
    ref={ref}
    className="py-6 text-center text-sm"
    {...props}
  />
))

CommandEmpty.displayName = CommandPrimitive.Empty.displayName

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      "overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",
      className
    )}
    {...props}
  />
))

CommandGroup.displayName = CommandPrimitive.Group.displayName

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 h-px bg-border", className)}
    {...props}
  />
))
CommandSeparator.displayName = CommandPrimitive.Separator.displayName

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      className
    )}
    {...props}
  />
))

CommandItem.displayName = CommandPrimitive.Item.displayName

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
CommandShortcut.displayName = "CommandShortcut"

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}


================================================================================
FILE: src/components/ui/dialog.tsx
================================================================================

"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogTrigger,
  DialogClose,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}


================================================================================
FILE: src/components/ui/dropdown-menu.tsx
================================================================================

"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",
      className
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}


================================================================================
FILE: src/components/ui/error-fallback.tsx
================================================================================

import { Button } from '@/components/ui/button';
import { AlertCircle } from 'lucide-react';

interface ErrorFallbackProps {
    error?: Error;
    resetErrorBoundary?: () => void;
}

export function ErrorFallback({ error, resetErrorBoundary }: ErrorFallbackProps) {
    return (
        <div className="flex h-screen w-full flex-col items-center justify-center bg-background p-6 text-center">
            <div className="flex h-20 w-20 items-center justify-center rounded-full bg-red-100 mb-6">
                <AlertCircle className="h-10 w-10 text-red-600" />
            </div>
            <h1 className="text-2xl font-bold tracking-tight text-foreground mb-2">
                Something went wrong
            </h1>
            <p className="text-muted-foreground max-w-md mb-8">
                {error?.message || "An unexpected error occurred. Please try again later."}
            </p>
            <div className="flex gap-4">
                <Button onClick={() => window.location.reload()} variant="outline">
                    Reload Page
                </Button>
                {resetErrorBoundary && (
                    <Button onClick={resetErrorBoundary}>Try Again</Button>
                )}
            </div>
        </div>
    );
}


================================================================================
FILE: src/components/ui/input.tsx
================================================================================

import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }


================================================================================
FILE: src/components/ui/label.tsx
================================================================================

"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }


================================================================================
FILE: src/components/ui/page-loader.tsx
================================================================================

import { Loader2 } from 'lucide-react';

export function PageLoader() {
    return (
        <div className="flex h-screen w-full items-center justify-center bg-background">
            <div className="flex flex-col items-center gap-4">
                <Loader2 className="h-10 w-10 animate-spin text-primary" />
                <p className="text-sm font-medium text-muted-foreground animate-pulse">Loading...</p>
            </div>
        </div>
    );
}


================================================================================
FILE: src/components/ui/popover.tsx
================================================================================

import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

const Popover = PopoverPrimitive.Root

const PopoverTrigger = PopoverPrimitive.Trigger

const PopoverAnchor = PopoverPrimitive.Anchor

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",
        className
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
))
PopoverContent.displayName = PopoverPrimitive.Content.displayName

export { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }


================================================================================
FILE: src/components/ui/select.tsx
================================================================================

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("px-2 py-1.5 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute right-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>
    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}


================================================================================
FILE: src/components/ui/slider.tsx
================================================================================

import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

const Slider = React.forwardRef<
    React.ElementRef<typeof SliderPrimitive.Root>,
    React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
    <SliderPrimitive.Root
        ref={ref}
        className={cn(
            "relative flex w-full touch-none select-none items-center",
            className
        )}
        {...props}
    >
        <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
            <SliderPrimitive.Range className="absolute h-full bg-primary" />
        </SliderPrimitive.Track>
        <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
        <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
    </SliderPrimitive.Root>
))
Slider.displayName = SliderPrimitive.Root.displayName

export { Slider }


================================================================================
FILE: src/components/ui/tabs.tsx
================================================================================

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",
      className
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }


================================================================================
FILE: src/components/ui/textarea.tsx
================================================================================

import * as React from "react"

import { cn } from "@/lib/utils"

export interface TextareaProps
    extends React.TextareaHTMLAttributes<HTMLTextAreaElement> { }

const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
    ({ className, ...props }, ref) => {
        return (
            <textarea
                className={cn(
                    "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
                    className
                )}
                ref={ref}
                {...props}
            />
        )
    }
)
Textarea.displayName = "Textarea"

export { Textarea }


================================================================================
FILE: src/components/ui/toast.tsx
================================================================================

import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold [&+div]:text-xs", className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}


================================================================================
FILE: src/components/ui/toaster.tsx
================================================================================

import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport />
    </ToastProvider>
  )
}


================================================================================
FILE: src/components/ui/use-toast.ts
================================================================================

// Inspired by shadcn/ui toast
import { useState, useEffect } from "react"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = any

let count = 0

function genId() {
    count = (count + 1) % Number.MAX_SAFE_INTEGER
    return count.toString()
}

type Action = any

interface State {
    toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
    if (toastTimeouts.has(toastId)) {
        return
    }

    const timeout = setTimeout(() => {
        toastTimeouts.delete(toastId)
        dispatch({
            type: "REMOVE_TOAST",
            toastId,
        })
    }, TOAST_REMOVE_DELAY)

    toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
    switch (action.type) {
        case "ADD_TOAST":
            return {
                ...state,
                toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
            }

        case "UPDATE_TOAST":
            return {
                ...state,
                toasts: state.toasts.map((t) =>
                    t.id === action.toast.id ? { ...t, ...action.toast } : t
                ),
            }

        case "DISMISS_TOAST": {
            const { toastId } = action

            if (toastId) {
                addToRemoveQueue(toastId)
            } else {
                state.toasts.forEach((toast) => {
                    addToRemoveQueue(toast.id)
                })
            }

            return {
                ...state,
                toasts: state.toasts.map((t) =>
                    t.id === toastId || action.toastId === undefined
                        ? {
                            ...t,
                            open: false,
                        }
                        : t
                ),
            }
        }
        case "REMOVE_TOAST":
            if (action.toastId === undefined) {
                return {
                    ...state,
                    toasts: [],
                }
            }
            return {
                ...state,
                toasts: state.toasts.filter((t) => t.id !== action.toastId),
            }
        default:
            return state
    }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
    memoryState = reducer(memoryState, action)
    listeners.forEach((listener) => {
        listener(memoryState)
    })
}

interface Toast {
    title?: string;
    description?: string;
    action?: any;
    variant?: "default" | "destructive";
}

function toast({ ...props }: Toast) {
    const id = genId()

    const update = (props: ToasterToast) =>
        dispatch({
            type: "UPDATE_TOAST",
            toast: { ...props, id },
        })
    const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

    dispatch({
        type: "ADD_TOAST",
        toast: {
            ...props,
            id,
            open: true,
            onOpenChange: (open: boolean) => {
                if (!open) dismiss()
            },
        },
    })

    return {
        id,
        dismiss,
        update,
    }
}

function useToast() {
    const [state, setState] = useState<State>(memoryState)

    useEffect(() => {
        listeners.push(setState)
        return () => {
            const index = listeners.indexOf(setState)
            if (index > -1) {
                listeners.splice(index, 1)
            }
        }
    }, [state])

    return {
        ...state,
        toast,
        dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
    }
}

export { useToast, toast }


================================================================================
FILE: src/components/vendor/GalleryManager.tsx
================================================================================

import { useState, useEffect } from 'react';
import { api } from '@/lib/api';
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { Trash2, Loader2, Image as ImageIcon, Video } from 'lucide-react';
import { useToast } from '@/hooks/use-toast';

export default function GalleryManager() {
    const { toast } = useToast();
    const [gallery, setGallery] = useState<any[]>([]);
    const [loading, setLoading] = useState(true);
    const [uploading, setUploading] = useState(false);

    useEffect(() => {
        fetchGallery();
    }, []);

    const fetchGallery = async () => {
        try {
            const res = await api.get('/vendors/profile');
            setGallery(res.data.gallery || []);
        } catch (error) {
            console.error("Failed to load gallery", error);
        } finally {
            setLoading(false);
        }
    };

    const handleUpload = async (e: any) => {
        const file = e.target.files?.[0];
        if (!file) return;

        // Basic validation
        if (file.size > 10 * 1024 * 1024) { // 10MB limit
            toast({ title: "File too large", description: "Please upload files smaller than 10MB.", variant: "destructive" });
            return;
        }

        const formData = new FormData();
        formData.append('file', file);

        setUploading(true);
        try {
            await api.post('/vendors/gallery', formData, {
                headers: { 'Content-Type': 'multipart/form-data' }
            });
            toast({ title: "Uploaded", description: "Media added to gallery." });
            fetchGallery();
        } catch (error) {
            console.error(error);
            toast({ title: "Upload failed", description: "Could not upload file.", variant: "destructive" });
        } finally {
            setUploading(false);
        }
    };

    const handleDelete = async (id: string) => {
        if (!confirm('Are you sure you want to delete this item?')) return;
        try {
            await api.delete(`/vendors/gallery/${id}`);
            setGallery(gallery.filter(item => item.id !== id));
            toast({ title: "Deleted", description: "Item removed from gallery." });
        } catch (error) {
            toast({ title: "Error", description: "Failed to delete item.", variant: "destructive" });
        }
    };

    if (loading) return <div className="p-8 flex justify-center"><Loader2 className="animate-spin" /></div>;

    return (
        <div className="space-y-6">
            <div className="flex justify-between items-center">
                <div>
                    <h2 className="text-2xl font-bold tracking-tight">Gallery</h2>
                    <p className="text-gray-500">Manage photos and videos showcasing your work.</p>
                </div>
            </div>

            <Card className="border-dashed bg-gray-50/50 transition-colors hover:bg-gray-50">
                <CardContent className="flex flex-col items-center justify-center p-12 text-center">
                    <div className="bg-primary/10 p-4 rounded-full mb-4">
                        <ImageIcon className="h-8 w-8 text-primary" />
                    </div>
                    <h3 className="font-semibold text-lg">Upload Media</h3>
                    <p className="text-gray-500 mb-6 max-w-sm">
                        Support for JPG, PNG and MP4. Max file size 10MB.
                    </p>
                    <div className="relative">
                        <Button disabled={uploading} size="lg">
                            {uploading ? <Loader2 className="mr-2 h-4 w-4 animate-spin" /> : null}
                            {uploading ? "Uploading..." : "Select Files"}
                        </Button>
                        <input
                            type="file"
                            className="absolute inset-0 opacity-0 cursor-pointer"
                            onChange={handleUpload}
                            accept="image/*,video/*"
                            disabled={uploading}
                        />
                    </div>
                </CardContent>
            </Card>

            <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                {gallery.length === 0 && (
                    <div className="col-span-full text-center py-12 text-gray-400">
                        No items in gallery yet.
                    </div>
                )}

                {gallery.map((item) => (
                    <div key={item.id} className="group relative rounded-xl overflow-hidden border bg-gray-100 aspect-square shadow-sm hover:shadow-md transition-all">
                        {item.type === 'video' || item.url.endsWith('.mp4') ? (
                            <div className="relative w-full h-full">
                                <video src={item.url} className="w-full h-full object-cover" />
                                <div className="absolute top-2 right-2 bg-black/50 text-white p-1 rounded-full">
                                    <Video className="h-4 w-4" />
                                </div>
                            </div>
                        ) : (
                            <img src={item.url} alt="Gallery item" className="w-full h-full object-cover" />
                        )}

                        <div className="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2">
                            <Button
                                variant="destructive"
                                size="sm"
                                onClick={() => handleDelete(item.id)}
                            >
                                <Trash2 className="h-4 w-4 mr-2" /> Delete
                            </Button>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    );
}


================================================================================
FILE: src/components/vendor/LeadDashboard.tsx
================================================================================

import { useState } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { Search, User, Calendar, MapPin, MessageSquare, Phone } from 'lucide-react';
import { Input } from '@/components/ui/input';

export default function LeadDashboard() {
    // Mock Data
    const [leads] = useState([
        { id: 1, name: "Priya Sharma", type: "Wedding Photography", date: "2024-12-15", location: "Mumbai", status: "new", budget: "1.5L" },
        { id: 2, name: "Rahul Verma", type: "Pre-wedding Shoot", date: "2024-11-20", location: "Pune", status: "contacted", budget: "50k" },
        { id: 3, name: "Amit & Neha", type: "Engagement", date: "2024-10-05", location: "Delhi", status: "booked", budget: "75k" },
    ]);

    const getStatusColor = (status: string) => {
        switch (status) {
            case 'new': return 'bg-blue-100 text-blue-700 hover:bg-blue-200';
            case 'contacted': return 'bg-yellow-100 text-yellow-700 hover:bg-yellow-200';
            case 'booked': return 'bg-green-100 text-green-700 hover:bg-green-200';
            default: return 'bg-gray-100 text-gray-700';
        }
    };

    return (
        <div className="space-y-6">
            <div className="flex flex-col md:flex-row justify-between md:items-center gap-4">
                <div>
                    <h2 className="text-2xl font-bold tracking-tight">Leads & Inquiries</h2>
                    <p className="text-gray-500">Track and manage your potential clients.</p>
                </div>
                <div className="flex gap-2">
                    <div className="relative">
                        <Search className="absolute left-2.5 top-2.5 h-4 w-4 text-gray-500" />
                        <Input placeholder="Search name or phone..." className="pl-9 w-[250px]" />
                    </div>
                </div>
            </div>

            <div className="grid md:grid-cols-4 gap-4">
                <Card className="bg-blue-50 border-blue-100">
                    <CardHeader className="pb-2"><CardTitle className="text-sm font-medium text-blue-900">Total Inquiries</CardTitle></CardHeader>
                    <CardContent><div className="text-2xl font-bold text-blue-700">24</div></CardContent>
                </Card>
                <Card className="bg-green-50 border-green-100">
                    <CardHeader className="pb-2"><CardTitle className="text-sm font-medium text-green-900">Booked</CardTitle></CardHeader>
                    <CardContent><div className="text-2xl font-bold text-green-700">8</div></CardContent>
                </Card>
                <Card className="bg-orange-50 border-orange-100">
                    <CardHeader className="pb-2"><CardTitle className="text-sm font-medium text-orange-900">Pending</CardTitle></CardHeader>
                    <CardContent><div className="text-2xl font-bold text-orange-700">5</div></CardContent>
                </Card>
                <Card className="bg-purple-50 border-purple-100">
                    <CardHeader className="pb-2"><CardTitle className="text-sm font-medium text-purple-900">Conversion Rate</CardTitle></CardHeader>
                    <CardContent><div className="text-2xl font-bold text-purple-700">33%</div></CardContent>
                </Card>
            </div>

            <Tabs defaultValue="all" className="space-y-4">
                <TabsList>
                    <TabsTrigger value="all">All Leads</TabsTrigger>
                    <TabsTrigger value="new">New</TabsTrigger>
                    <TabsTrigger value="contacted">In Progress</TabsTrigger>
                    <TabsTrigger value="booked">Booked</TabsTrigger>
                </TabsList>
                <TabsContent value="all" className="space-y-4">
                    {leads.map((lead) => (
                        <Card key={lead.id} className="hover:shadow-md transition-shadow cursor-pointer group">
                            <CardContent className="p-6">
                                <div className="flex flex-col md:flex-row gap-4 justify-between md:items-center">
                                    <div className="flex items-start gap-4">
                                        <div className="h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 group-hover:bg-primary group-hover:text-white transition-colors">
                                            <User className="h-6 w-6" />
                                        </div>
                                        <div>
                                            <h3 className="font-bold text-lg text-gray-900">{lead.name}</h3>
                                            <div className="flex flex-wrap gap-2 text-sm text-gray-500 mt-1">
                                                <span className="flex items-center gap-1"><Calendar className="h-3 w-3" /> {lead.date}</span>
                                                <span className="flex items-center gap-1"><MapPin className="h-3 w-3" /> {lead.location}</span>
                                            </div>
                                            <div className="mt-2 text-sm font-medium text-primary bg-primary/5 inline-block px-2 py-0.5 rounded">
                                                Looking for: {lead.type} (Budget: {lead.budget})
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex flex-col md:items-end gap-2">
                                        <Badge variant="outline" className={`${getStatusColor(lead.status)} border-0 px-3 capitalize`}>
                                            {lead.status}
                                        </Badge>
                                        <div className="flex gap-2 mt-2">
                                            <Button size="sm" variant="outline" className="gap-2"><Phone className="h-3 w-3" /> Call</Button>
                                            <Button size="sm" className="gap-2"><MessageSquare className="h-3 w-3" /> Chat</Button>
                                        </div>
                                    </div>
                                </div>
                            </CardContent>
                        </Card>
                    ))}
                </TabsContent>
            </Tabs>
        </div>
    );
}


================================================================================
FILE: src/components/vendor/PackageEditor.tsx
================================================================================

import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import { Badge } from '@/components/ui/badge';
import { X, Plus, Loader2 } from 'lucide-react';
import { api } from '@/lib/api';
import { useToast } from '@/hooks/use-toast';

interface PackageEditorProps {
    isOpen: boolean;
    onClose: () => void;
    onSuccess: () => void;
    pkg?: any; // If provided, we are editing
}

export default function PackageEditor({ isOpen, onClose, onSuccess, pkg }: PackageEditorProps) {
    const { toast } = useToast();
    const [loading, setLoading] = useState(false);
    const [files, setFiles] = useState<FileList | null>(null);

    const [formData, setFormData] = useState({
        name: '',
        description: '',
        price: '',
        tier: 'basic',
        features: [] as string[],
        currentFeature: ''
    });

    useEffect(() => {
        if (pkg) {
            setFormData({
                name: pkg.name,
                description: pkg.description,
                price: pkg.price?.toString(),
                tier: pkg.tier || 'basic',
                features: Array.isArray(pkg.features) ? pkg.features : [],
                currentFeature: ''
            });
        } else {
            // Reset for new package
            setFormData({
                name: '',
                description: '',
                price: '',
                tier: 'basic',
                features: [],
                currentFeature: ''
            });
            setFiles(null);
        }
    }, [pkg, isOpen]);

    const handleAddFeature = () => {
        if (!formData.currentFeature.trim()) return;
        setFormData(prev => ({
            ...prev,
            features: [...prev.features, prev.currentFeature.trim()],
            currentFeature: ''
        }));
    };

    const removeFeature = (index: number) => {
        setFormData(prev => ({
            ...prev,
            features: prev.features.filter((_, i) => i !== index)
        }));
    };

    const handleSubmit = async () => {
        setLoading(true);
        try {
            const data = new FormData();
            data.append('name', formData.name);
            data.append('description', formData.description);
            data.append('price', formData.price);
            data.append('tier', formData.tier);

            // Backend expects simple array or comma separated? 
            // Based on previous code it seemed backend handles array or split.
            // Let's send as loop for array if backend uses NestJS FileInterceptor logic properly for arrays, 
            // OR join them if it expects string. Assuming entity uses `simple-array`, TypeORM handles comma separation string internally, 
            // but controller typically expects array or string. 
            // Let's normalize to multiple append for array if supporting that, or join.
            // Safe bet: JSON stringify or join for now if backend logic is simple.
            // Re-checking vendor controller... previous code used `formData.append('features', newPackage.features)` which was text.
            // So we join them.
            data.append('features', formData.features.join(','));

            if (files) {
                for (let i = 0; i < files.length; i++) {
                    data.append('images', files[i]);
                }
            }

            if (pkg?.id) {
                await api.patch(`/vendors/packages/${pkg.id}`, data, {
                    headers: { 'Content-Type': 'multipart/form-data' }
                });
                toast({ title: "Updated", description: "Package updated successfully." });
            } else {
                await api.post('/vendors/packages', data, {
                    headers: { 'Content-Type': 'multipart/form-data' }
                });
                toast({ title: "Created", description: "Package created successfully." });
            }
            onSuccess();
            onClose();
        } catch (error) {
            console.error(error);
            toast({ title: "Error", description: "Failed to save package.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    return (
        <Dialog open={isOpen} onOpenChange={onClose}>
            <DialogContent className="sm:max-w-[600px] max-h-[90vh] overflow-y-auto">
                <DialogHeader>
                    <DialogTitle>{pkg ? 'Edit Package' : 'Create New Package'}</DialogTitle>
                    <DialogDescription>
                        Configure your {formData.tier} offering details.
                    </DialogDescription>
                </DialogHeader>

                <div className="grid gap-4 py-4">
                    <div className="grid grid-cols-2 gap-4">
                        <div className="space-y-2">
                            <Label>Package Name</Label>
                            <Input
                                placeholder="e.g. Gold Wedding"
                                value={formData.name}
                                onChange={e => setFormData({ ...formData, name: e.target.value })}
                            />
                        </div>
                        <div className="space-y-2">
                            <Label>Tier</Label>
                            <Select
                                value={formData.tier}
                                onValueChange={v => setFormData({ ...formData, tier: v })}
                            >
                                <SelectTrigger><SelectValue /></SelectTrigger>
                                <SelectContent>
                                    <SelectItem value="basic">Basic (Entry)</SelectItem>
                                    <SelectItem value="standard">Standard (Most Popular)</SelectItem>
                                    <SelectItem value="premium">Premium (High End)</SelectItem>
                                    <SelectItem value="custom">Custom</SelectItem>
                                </SelectContent>
                            </Select>
                        </div>
                    </div>

                    <div className="space-y-2">
                        <Label>Price (₹)</Label>
                        <Input
                            type="number"
                            placeholder="50000"
                            value={formData.price}
                            onChange={e => setFormData({ ...formData, price: e.target.value })}
                        />
                    </div>

                    <div className="space-y-2">
                        <Label>Description</Label>
                        <Textarea
                            placeholder="Describe what's included..."
                            value={formData.description}
                            onChange={e => setFormData({ ...formData, description: e.target.value })}
                        />
                    </div>

                    <div className="space-y-2">
                        <Label>Features</Label>
                        <div className="flex gap-2">
                            <Input
                                placeholder="Add feature (e.g. 4K Video)"
                                value={formData.currentFeature}
                                onChange={e => setFormData({ ...formData, currentFeature: e.target.value })}
                                onKeyDown={e => e.key === 'Enter' && handleAddFeature()}
                            />
                            <Button type="button" variant="secondary" onClick={handleAddFeature}><Plus className="h-4 w-4" /></Button>
                        </div>
                        <div className="flex flex-wrap gap-2 mt-2">
                            {formData.features.map((f, i) => (
                                <Badge key={i} variant="outline" className="pl-2 pr-1 py-1 flex gap-1 items-center">
                                    {f}
                                    <X className="h-3 w-3 cursor-pointer hover:text-red-500" onClick={() => removeFeature(i)} />
                                </Badge>
                            ))}
                        </div>
                    </div>

                    <div className="space-y-2">
                        <Label>Images</Label>
                        <Input type="file" multiple accept="image/*" onChange={e => setFiles(e.target.files)} />
                        <p className="text-xs text-gray-500">Upload high quality images for this specific package.</p>
                    </div>
                </div>

                <DialogFooter>
                    <Button variant="outline" onClick={onClose} disabled={loading}>Cancel</Button>
                    <Button onClick={handleSubmit} disabled={loading || !formData.name || !formData.price}>
                        {loading && <Loader2 className="mr-2 h-4 w-4 animate-spin" />}
                        Save Package
                    </Button>
                </DialogFooter>
            </DialogContent>
        </Dialog>
    );
}


================================================================================
FILE: src/components/vendor/ProfileEditor.tsx
================================================================================

import { useState, useEffect } from 'react';
import { api } from '@/lib/api';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { Plus, Trash2, MapPin, Globe, Instagram, Facebook, Save, Loader2, Store, Image } from 'lucide-react';
import { useToast } from '@/hooks/use-toast';

interface Location {
    address: string;
    city: string;
    pincode?: string;
    landmark?: string;
    mapUrl?: string;
}

interface SocialLinks {
    instagram?: string;
    website?: string;
    facebook?: string;
}

export default function VendorProfileEditor() {
    const { toast } = useToast();
    const [loading, setLoading] = useState(true);
    const [saving, setSaving] = useState(false);

    // Form State
    const [formData, setFormData] = useState({
        businessName: '',
        businessType: 'individual',
        description: '',
        termsAndConditions: '',
        gstNumber: '',
        yearsInBusiness: '',
        locations: [] as Location[],
        socialLinks: { instagram: '', website: '', facebook: '' } as SocialLinks,
        logoUrl: '',
        bannerUrl: ''
    });

    useEffect(() => {
        fetchProfile();
    }, []);

    const fetchProfile = async () => {
        try {
            const res = await api.get('/vendors/profile');
            const data = res.data;
            setFormData({
                businessName: data.businessName || '',
                businessType: data.businessType || 'individual',
                description: data.description || '',
                termsAndConditions: data.termsAndConditions || '',
                gstNumber: data.gstNumber || '',
                yearsInBusiness: data.yearsInBusiness?.toString() || '',
                locations: data.locations || [],
                socialLinks: data.socialLinks || { instagram: '', website: '', facebook: '' },
                logoUrl: data.logoUrl || '',
                bannerUrl: data.bannerUrl || ''
            });
        } catch (error) {
            console.error("Failed to load profile", error);
        } finally {
            setLoading(false);
        }
    };

    const handleSave = async () => {
        setSaving(true);
        try {
            await api.post('/vendors/profile', {
                ...formData,
                yearsInBusiness: parseInt(formData.yearsInBusiness) || 0
            });
            toast({ title: "Success", description: "Profile updated successfully." });
        } catch (error) {
            console.error("Failed to save", error);
            toast({ title: "Error", description: "Failed to update profile.", variant: "destructive" });
        } finally {
            setSaving(false);
        }
    };

    // Location Handlers
    const addLocation = () => {
        setFormData(prev => ({
            ...prev,
            locations: [...prev.locations, { address: '', city: '' }]
        }));
    };

    const updateLocation = (index: number, field: keyof Location, value: string) => {
        const newLocations = [...formData.locations];
        newLocations[index] = { ...newLocations[index], [field]: value };
        setFormData(prev => ({ ...prev, locations: newLocations }));
    };

    const removeLocation = (index: number) => {
        setFormData(prev => ({
            ...prev,
            locations: prev.locations.filter((_, i) => i !== index)
        }));
    };

    const handleImageUpload = async (e: any, type: 'logo' | 'banner') => {
        const file = e.target.files?.[0];
        if (!file) return;

        const uploadData = new FormData();
        uploadData.append('file', file);

        try {
            setLoading(true); // Show global loading or local loading state
            const endpoint = type === 'logo' ? '/vendors/upload-logo' : '/vendors/upload-banner';
            const res = await api.post(endpoint, uploadData, {
                headers: { 'Content-Type': 'multipart/form-data' }
            });

            const newUrl = type === 'logo' ? res.data.logoUrl : res.data.bannerUrl;

            setFormData(prev => ({
                ...prev,
                [type === 'logo' ? 'logoUrl' : 'bannerUrl']: newUrl
            }));

            toast({ title: "Success", description: `${type === 'logo' ? 'Logo' : 'Banner'} uploaded successfully.` });
        } catch (error) {
            console.error(error);
            toast({ title: "Error", description: "Failed to upload image.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    if (loading) return <div className="p-8 flex justify-center"><Loader2 className="animate-spin" /></div>;

    return (
        <div className="max-w-4xl mx-auto space-y-6">
            <div className="flex justify-between items-center">
                <div>
                    <h2 className="text-2xl font-bold tracking-tight">Profile Settings</h2>
                    <p className="text-gray-500">Manage your business details and public presence.</p>
                </div>
                <Button onClick={handleSave} disabled={saving}>
                    {saving && <Loader2 className="mr-2 h-4 w-4 animate-spin" />}
                    <Save className="mr-2 h-4 w-4" /> Save Changes
                </Button>
            </div>

            <Tabs defaultValue="business" className="space-y-6">
                <TabsList>
                    <TabsTrigger value="business">Business Details</TabsTrigger>
                    <TabsTrigger value="locations">Locations & Contact</TabsTrigger>
                    <TabsTrigger value="legal">Terms & Legal</TabsTrigger>
                </TabsList>

                <TabsContent value="business" className="space-y-6">
                    <Card>
                        <CardHeader>
                            <CardTitle>Branding & Images</CardTitle>
                            <CardDescription>Upload your logo and a profile banner.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            <div className="grid md:grid-cols-2 gap-8">
                                <div className="space-y-4">
                                    <Label>Business Logo</Label>
                                    <div className="flex items-center gap-4">
                                        <div className="h-24 w-24 rounded-full border-2 border-dashed border-gray-300 bg-gray-50 flex items-center justify-center overflow-hidden relative">
                                            {formData.logoUrl ? (
                                                <img src={formData.logoUrl} alt="Logo" className="h-full w-full object-cover" />
                                            ) : (
                                                <Store className="h-8 w-8 text-gray-400" />
                                            )}
                                        </div>
                                        <div>
                                            <Button variant="outline" size="sm" className="relative">
                                                <input
                                                    type="file"
                                                    className="absolute inset-0 opacity-0 cursor-pointer"
                                                    onChange={(e) => handleImageUpload(e, 'logo')}
                                                    accept="image/*"
                                                />
                                                Change Logo
                                            </Button>
                                            <p className="text-xs text-gray-500 mt-1">Recommended: 400x400px</p>
                                        </div>
                                    </div>
                                </div>
                                <div className="space-y-4">
                                    <Label>Profile Banner</Label>
                                    <div className="w-full h-32 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 flex items-center justify-center overflow-hidden relative">
                                        {formData.bannerUrl ? (
                                            <img src={formData.bannerUrl} alt="Banner" className="h-full w-full object-cover" />
                                        ) : (
                                            <div className="text-gray-400 flex flex-col items-center">
                                                <Image className="h-8 w-8 mb-1" />
                                                <span className="text-xs">No banner uploaded</span>
                                            </div>
                                        )}
                                        <div className="absolute bottom-2 right-2">
                                            <Button variant="secondary" size="sm" className="relative shadow-sm">
                                                <input
                                                    type="file"
                                                    className="absolute inset-0 opacity-0 cursor-pointer"
                                                    onChange={(e) => handleImageUpload(e, 'banner')}
                                                    accept="image/*"
                                                />
                                                <Plus className="h-3 w-3 mr-1" /> Upload Banner
                                            </Button>
                                        </div>
                                    </div>
                                    <p className="text-xs text-gray-500">Recommended: 1200x400px. Shows on your public profile header.</p>
                                </div>
                            </div>
                        </CardContent>
                    </Card>

                    <Card>
                        <CardHeader>
                            <CardTitle>Basic Information</CardTitle>
                            <CardDescription>This information is displayed on your public profile.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-4">
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="space-y-2">
                                    <Label>Business Name</Label>
                                    <Input
                                        value={formData.businessName}
                                        onChange={e => setFormData({ ...formData, businessName: e.target.value })}
                                        placeholder="e.g. Royal Weddings"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label>Business Type</Label>
                                    <Select
                                        value={formData.businessType}
                                        onValueChange={v => setFormData({ ...formData, businessType: v })}
                                    >
                                        <SelectTrigger><SelectValue /></SelectTrigger>
                                        <SelectContent>
                                            <SelectItem value="individual">Freelancer</SelectItem>
                                            <SelectItem value="company">Company</SelectItem>
                                            <SelectItem value="agency">Agency</SelectItem>
                                        </SelectContent>
                                    </Select>
                                </div>
                            </div>

                            <div className="space-y-2">
                                <Label>About your Business</Label>
                                <Textarea
                                    className="h-32"
                                    value={formData.description}
                                    onChange={e => setFormData({ ...formData, description: e.target.value })}
                                    placeholder="Tell clients what makes your service special..."
                                />
                            </div>

                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="space-y-2">
                                    <Label>Years in Business</Label>
                                    <Input
                                        type="number"
                                        value={formData.yearsInBusiness}
                                        onChange={e => setFormData({ ...formData, yearsInBusiness: e.target.value })}
                                    />
                                </div>
                            </div>
                        </CardContent>
                    </Card>

                    <Card>
                        <CardHeader>
                            <CardTitle>Social Presence</CardTitle>
                            <CardDescription>Link your social media profiles to build trust.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-4">
                            <div className="space-y-2">
                                <Label className="flex items-center gap-2"><Instagram className="h-4 w-4" /> Instagram URL</Label>
                                <Input
                                    placeholder="https://instagram.com/..."
                                    value={formData.socialLinks.instagram}
                                    onChange={e => setFormData({
                                        ...formData,
                                        socialLinks: { ...formData.socialLinks, instagram: e.target.value }
                                    })}
                                />
                            </div>
                            <div className="space-y-2">
                                <Label className="flex items-center gap-2"><Globe className="h-4 w-4" /> Website URL</Label>
                                <Input
                                    placeholder="https://yourwebsite.com"
                                    value={formData.socialLinks.website}
                                    onChange={e => setFormData({
                                        ...formData,
                                        socialLinks: { ...formData.socialLinks, website: e.target.value }
                                    })}
                                />
                            </div>
                            <div className="space-y-2">
                                <Label className="flex items-center gap-2"><Facebook className="h-4 w-4" /> Facebook URL</Label>
                                <Input
                                    placeholder="https://facebook.com/..."
                                    value={formData.socialLinks.facebook}
                                    onChange={e => setFormData({
                                        ...formData,
                                        socialLinks: { ...formData.socialLinks, facebook: e.target.value }
                                    })}
                                />
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>

                <TabsContent value="locations" className="space-y-6">
                    <Card>
                        <CardHeader className="flex flex-row items-center justify-between">
                            <div>
                                <CardTitle>Service Locations</CardTitle>
                                <CardDescription>Add all locations where you have a physical presence or office.</CardDescription>
                            </div>
                            <Button size="sm" variant="outline" onClick={addLocation}>
                                <Plus className="mr-2 h-4 w-4" /> Add Location
                            </Button>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            {formData.locations.length === 0 && (
                                <div className="text-center py-8 text-gray-500 border-2 border-dashed rounded-lg">
                                    <MapPin className="h-8 w-8 mx-auto mb-2 opacity-50" />
                                    No locations added yet. Add your primary office address.
                                </div>
                            )}

                            {formData.locations.map((loc, index) => (
                                <div key={index} className="grid md:grid-cols-12 gap-4 items-start p-4 border rounded-lg bg-gray-50/50">
                                    <div className="md:col-span-1 flex justify-center pt-3">
                                        <div className="h-8 w-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-sm">
                                            {index + 1}
                                        </div>
                                    </div>
                                    <div className="md:col-span-10 grid gap-4">
                                        <div className="space-y-2">
                                            <Label>Full Address</Label>
                                            <Input
                                                value={loc.address}
                                                onChange={e => updateLocation(index, 'address', e.target.value)}
                                                placeholder="Shop No, Building, Street..."
                                            />
                                        </div>
                                        <div className="grid md:grid-cols-2 gap-4">
                                            <div className="space-y-2">
                                                <Label>City</Label>
                                                <Input
                                                    value={loc.city}
                                                    onChange={e => updateLocation(index, 'city', e.target.value)}
                                                    placeholder="Delhi"
                                                />
                                            </div>
                                            <div className="space-y-2">
                                                <Label>Pincode</Label>
                                                <Input
                                                    value={loc.pincode || ''}
                                                    onChange={e => updateLocation(index, 'pincode', e.target.value)}
                                                    placeholder="110001"
                                                />
                                            </div>
                                            <div className="space-y-2">
                                                <Label>Landmark</Label>
                                                <Input
                                                    value={loc.landmark || ''}
                                                    onChange={e => updateLocation(index, 'landmark', e.target.value)}
                                                    placeholder="Near Metro Station"
                                                />
                                            </div>
                                            <div className="space-y-2">
                                                <Label>Google Maps URL (Optional)</Label>
                                                <Input
                                                    value={loc.mapUrl}
                                                    onChange={e => updateLocation(index, 'mapUrl', e.target.value)}
                                                    placeholder="https://maps.google.com/..."
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <div className="md:col-span-1 flex justify-end pt-1">
                                        <Button variant="ghost" size="icon" className="text-red-500 hover:bg-red-50" onClick={() => removeLocation(index)}>
                                            <Trash2 className="h-4 w-4" />
                                        </Button>
                                    </div>
                                </div>
                            ))}
                        </CardContent>
                    </Card>
                </TabsContent>

                <TabsContent value="legal" className="space-y-6">
                    <Card>
                        <CardHeader>
                            <CardTitle>Terms & Conditions</CardTitle>
                            <CardDescription>Define your booking terms, cancellation policies, and payment rules for clients.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-4">
                            <div className="space-y-2">
                                <Label>Terms & Policy Text</Label>
                                <Textarea
                                    className="min-h-[300px] font-mono text-sm"
                                    value={formData.termsAndConditions}
                                    onChange={e => setFormData({ ...formData, termsAndConditions: e.target.value })}
                                    placeholder={`1. Booking Confirmation...\n2. Cancellation Policy...\n3. Payment Terms...`}
                                />
                                <p className="text-xs text-gray-500">This text will be shown to clients before they book your service.</p>
                            </div>

                            <div className="space-y-2">
                                <Label>GST Number</Label>
                                <Input
                                    value={formData.gstNumber}
                                    onChange={e => setFormData({ ...formData, gstNumber: e.target.value })}
                                    placeholder="GSTIN..."
                                    className="max-w-xs"
                                />
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>
            </Tabs>
        </div>
    );
}


================================================================================
FILE: src/components/vendor/ServiceManager.tsx
================================================================================

import { useState, useEffect } from 'react';
import { api } from '@/lib/api';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Plus, X, Layers, Lightbulb, Loader2 } from 'lucide-react';
import { useToast } from '@/hooks/use-toast';

export default function ServiceManager() {
    const { toast } = useToast();
    const [categories, setCategories] = useState<string[]>([]);
    const [newCategory, setNewCategory] = useState('');
    const [loading, setLoading] = useState(true);
    const [saving, setSaving] = useState(false);

    // Initial load
    useEffect(() => {
        fetchProfile();
    }, []);

    const fetchProfile = async () => {
        try {
            const res = await api.get('/vendors/profile');
            // Mapping to serviceCategories
            setCategories(res.data.serviceCategories || []);
        } catch (error) {
            console.error(error);
        } finally {
            setLoading(false);
        }
    };

    const handleAddCategory = () => {
        if (!newCategory.trim()) return;
        if (categories.includes(newCategory.trim())) {
            toast({ title: "Duplicate", description: "Category already exists.", variant: "destructive" });
            return;
        }
        setCategories([...categories, newCategory.trim()]);
        setNewCategory('');
    };

    const handleRemoveCategory = (cat: string) => {
        setCategories(categories.filter(c => c !== cat));
    };

    const handleSave = async () => {
        setSaving(true);
        try {
            // Updating profile with new categories
            await api.patch('/vendors/profile', { serviceCategories: categories });
            toast({ title: "Saved", description: "Service categories updated." });
        } catch (error) {
            toast({ title: "Error", description: "Failed to save categories.", variant: "destructive" });
        } finally {
            setSaving(false);
        }
    };

    if (loading) return <div className="p-8 flex justify-center"><Loader2 className="animate-spin" /></div>;

    return (
        <div className="max-w-4xl mx-auto space-y-6">
            <div>
                <h2 className="text-2xl font-bold tracking-tight">Service Categories</h2>
                <p className="text-gray-500">Define the types of services you officer to helps clients find you.</p>
            </div>

            <Card>
                <CardHeader>
                    <CardTitle className="flex items-center gap-2">
                        <Layers className="h-5 w-5 text-primary" /> Active Categories
                    </CardTitle>
                    <CardDescription>
                        Tags that describe your business (e.g., "Wedding Photography", "Candid Shoots", "Drone Coverage").
                    </CardDescription>
                </CardHeader>
                <CardContent className="space-y-6">
                    <div className="flex gap-2">
                        <Input
                            placeholder="Add a new category..."
                            value={newCategory}
                            onChange={(e) => setNewCategory(e.target.value)}
                            onKeyDown={(e) => e.key === 'Enter' && handleAddCategory()}
                            className="max-w-sm"
                        />
                        <Button onClick={handleAddCategory} disabled={!newCategory.trim()}>
                            <Plus className="mr-2 h-4 w-4" /> Add
                        </Button>
                    </div>

                    <div className="flex flex-wrap gap-2 p-4 bg-gray-50 rounded-lg min-h-[100px] border-dashed border-2">
                        {categories.length === 0 && (
                            <div className="w-full flex flex-col items-center justify-center text-gray-400">
                                <Lightbulb className="h-8 w-8 mb-2 opacity-50" />
                                <p>No categories added yet. Add tags to get discovered.</p>
                            </div>
                        )}
                        {categories.map((cat) => (
                            <Badge key={cat} variant="secondary" className="pl-3 pr-1 py-1 text-sm flex items-center gap-2 bg-white border border-gray-200 shadow-sm">
                                {cat}
                                <Button
                                    variant="ghost"
                                    size="icon"
                                    className="h-4 w-4 rounded-full hover:bg-red-50 hover:text-red-500"
                                    onClick={() => handleRemoveCategory(cat)}
                                >
                                    <X className="h-3 w-3" />
                                </Button>
                            </Badge>
                        ))}
                    </div>

                    <div className="flex justify-end pt-4 border-t">
                        <Button onClick={handleSave} disabled={saving} className="w-full sm:w-auto">
                            {saving && <Loader2 className="mr-2 h-4 w-4 animate-spin" />}
                            Save Changes
                        </Button>
                    </div>
                </CardContent>
            </Card>
        </div>
    );
}


================================================================================
FILE: src/components/vendor/VendorLayout.tsx
================================================================================

import { useState, useEffect } from 'react';
import { Link, useLocation, useNavigate } from 'react-router-dom';
import { api } from '@/lib/api';
import { useAuth } from '@/context/AuthContext';
import { Button } from '@/components/ui/button';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import {
    LayoutDashboard,
    Briefcase,
    Image as ImageIcon,
    Users,
    Settings,
    LogOut,
    Menu,
    Store,
    Bell,
    ChevronDown
} from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';
import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu';

interface VendorLayoutProps {
    children: React.ReactNode;
}

export default function VendorLayout({ children }: VendorLayoutProps) {
    const { user, logout } = useAuth();
    const location = useLocation();
    const navigate = useNavigate();
    const [isSidebarOpen, setIsSidebarOpen] = useState(false);
    const [vendorLogo, setVendorLogo] = useState<string | null>(null);

    useEffect(() => {
        if (user?.role === 'vendor') {
            api.get('/vendors/profile')
                .then(res => setVendorLogo(res.data.logoUrl))
                .catch(err => console.error("Failed to load vendor logo", err));
        }
    }, [user]);

    const navItems = [
        { label: 'Overview', icon: LayoutDashboard, path: '/vendor/dashboard' },
        { label: 'Services & Packages', icon: Briefcase, path: '/vendor/services' },
        { label: 'Gallery', icon: ImageIcon, path: '/vendor/gallery' },
        { label: 'Leads & Inquiries', icon: Users, path: '/vendor/leads' },
        { label: 'Profile Settings', icon: Store, path: '/vendor/profile' },
        { label: 'Account Settings', icon: Settings, path: '/vendor/settings' },
    ];

    const isActive = (path: string) => {
        if (path === '/vendor/dashboard' && location.pathname === '/vendor/dashboard') return true;
        if (path !== '/vendor/dashboard' && location.pathname.startsWith(path)) return true;
        return false;
    };

    return (
        <div className="min-h-screen bg-gray-50 flex font-sans">
            {/* Mobile Sidebar Overlay */}
            <AnimatePresence>
                {isSidebarOpen && (
                    <motion.div
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        exit={{ opacity: 0 }}
                        onClick={() => setIsSidebarOpen(false)}
                        className="fixed inset-0 bg-black/50 z-40 md:hidden"
                    />
                )}
            </AnimatePresence>

            {/* Sidebar */}
            <motion.aside
                className={`fixed md:sticky top-0 h-screen w-72 bg-white border-r border-gray-100 z-50 flex flex-col transition-transform duration-300 ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}`}
            >
                <div className="p-6 border-b border-gray-50">
                    <div className="flex items-center gap-2">
                        {vendorLogo ? (
                            <img src={vendorLogo} alt="Logo" className="h-8 w-8 rounded-lg object-cover" />
                        ) : (
                            <div className="h-8 w-8 bg-primary rounded-lg flex items-center justify-center text-white font-bold text-lg">M</div>
                        )}
                        <div>
                            <h2 className="font-heading font-bold text-lg tracking-tight">MarketFly</h2>
                            <p className="text-[10px] uppercase tracking-wider text-gray-500 font-semibold">Vendor Portal</p>
                        </div>
                    </div>
                </div>

                <nav className="flex-1 p-4 space-y-1 overflow-y-auto">
                    {navItems.map((item) => (
                        <Link
                            key={item.path}
                            to={item.path}
                            onClick={() => setIsSidebarOpen(false)}
                            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${isActive(item.path) ? 'bg-primary text-white shadow-lg shadow-primary/25' : 'text-gray-500 hover:bg-gray-50 hover:text-gray-900'}`}
                        >
                            <item.icon className={`h-5 w-5 ${isActive(item.path) ? 'text-white' : 'text-gray-400 group-hover:text-gray-600'}`} />
                            <span className="font-medium">{item.label}</span>
                        </Link>
                    ))}
                </nav>

                <div className="p-4 border-t border-gray-50">
                    <div className="bg-gray-50 rounded-xl p-4 mb-4">
                        <div className="flex items-center gap-3 mb-3">
                            <div className="h-8 w-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center">
                                <Users className="h-4 w-4" />
                            </div>
                            <div>
                                <div className="text-xs text-gray-500 font-medium">Monthly Views</div>
                                <div className="text-sm font-bold text-gray-900">1,240</div>
                            </div>
                        </div>
                        <div className="h-1.5 w-full bg-gray-200 rounded-full overflow-hidden">
                            <div className="h-full bg-blue-500 w-[70%]" />
                        </div>
                    </div>

                    <Button
                        variant="ghost"
                        onClick={logout}
                        className="w-full justify-start text-red-500 hover:text-red-600 hover:bg-red-50"
                    >
                        <LogOut className="mr-2 h-4 w-4" /> Sign Out
                    </Button>
                </div>
            </motion.aside>

            {/* Main Content */}
            <main className="flex-1 flex flex-col min-w-0">
                {/* Header */}
                <header className="h-16 bg-white/80 backdrop-blur-md border-b border-gray-100 sticky top-0 z-30 flex items-center justify-between px-6">
                    <div className="flex items-center gap-4">
                        <Button variant="ghost" size="icon" className="md:hidden" onClick={() => setIsSidebarOpen(true)}>
                            <Menu className="h-5 w-5" />
                        </Button>
                        <h1 className="text-xl font-heading font-bold text-gray-900 md:hidden">My Dashboard</h1>
                    </div>

                    <div className="flex items-center gap-4 ml-auto">
                        <Button variant="ghost" size="icon" className="relative text-gray-400 hover:text-primary transition-colors">
                            <Bell className="h-5 w-5" />
                            <span className="absolute top-2 right-2 h-2 w-2 bg-red-500 rounded-full border-2 border-white" />
                        </Button>

                        <div className="h-8 w-px bg-gray-200 mx-2 hidden sm:block" />

                        <DropdownMenu>
                            <DropdownMenuTrigger asChild>
                                <Button variant="ghost" className="pl-2 pr-1 h-auto py-1.5 rounded-full hover:bg-gray-50">
                                    <div className="flex items-center gap-3 text-left">
                                        <Avatar className="h-8 w-8 border border-gray-200">
                                            <AvatarImage src={user?.avatar} />
                                            <AvatarFallback className="bg-primary/10 text-primary font-bold">
                                                {user?.firstName?.[0] || 'V'}
                                            </AvatarFallback>
                                        </Avatar>
                                        <div className="hidden sm:block">
                                            <div className="text-sm font-bold text-gray-900 leading-none mb-1">{user?.firstName}</div>
                                            <div className="text-xs text-gray-500 font-medium">Vendor Account</div>
                                        </div>
                                        <ChevronDown className="h-4 w-4 text-gray-400" />
                                    </div>
                                </Button>
                            </DropdownMenuTrigger>
                            <DropdownMenuContent align="end" className="w-56">
                                <DropdownMenuItem onClick={() => navigate('/vendor/profile')}>Profile</DropdownMenuItem>
                                <DropdownMenuItem onClick={() => navigate('/vendor/settings')}>Settings</DropdownMenuItem>
                                <DropdownMenuItem className="text-red-600 focus:text-red-600 focus:bg-red-50" onClick={logout}>
                                    Log out
                                </DropdownMenuItem>
                            </DropdownMenuContent>
                        </DropdownMenu>
                    </div>
                </header>

                <div className="p-6 md:p-8 max-w-7xl mx-auto w-full">
                    {children}
                </div>
            </main>
        </div>
    );
}


================================================================================
FILE: src/context/AuthContext.tsx
================================================================================

import { createContext, useContext, useState, useEffect, type ReactNode } from 'react';


type UserRole = 'admin' | 'vendor' | 'user';

interface User {
    id: string;
    phone: string;
    role: UserRole;
    firstName?: string;
    lastName?: string;
    avatar?: string;
    email?: string;
    notificationPreferences?: {
        email: boolean;
        sms: boolean;
        bookingUpdates: boolean;
        marketing: boolean;
    };
}

interface AuthContextType {
    user: User | null;
    token: string | null;
    login: (token: string, user: User) => void;
    logout: () => void;
    updateUser: (data: Partial<User>) => void;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export function AuthProvider({ children }: { children: ReactNode }) {
    const [user, setUser] = useState<User | null>(null);
    const [token, setToken] = useState<string | null>(localStorage.getItem('token'));

    useEffect(() => {
        if (token) {
            // Decode JWT here or fetch profile if needed.
            // For now, we simulate persistence if token exists
            // In real app, verify token with /auth/me endpoint
            const savedUser = localStorage.getItem('user');
            if (savedUser) {
                setUser(JSON.parse(savedUser));
            }
        }
    }, [token]);

    const login = (newToken: string, newUser: User) => {
        localStorage.setItem('token', newToken);
        localStorage.setItem('user', JSON.stringify(newUser));
        setToken(newToken);
        setUser(newUser);
    };

    const logout = () => {
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        setToken(null);
        setUser(null);
    };

    const updateUser = (data: Partial<User>) => {
        if (!user) return;
        const updatedUser = { ...user, ...data };
        setUser(updatedUser);
        localStorage.setItem('user', JSON.stringify(updatedUser));
    };

    return (
        <AuthContext.Provider value={{ user, token, login, logout, updateUser }}>
            {children}
        </AuthContext.Provider>
    );
}

export function useAuth() {
    const context = useContext(AuthContext);
    if (context === undefined) {
        throw new Error('useAuth must be used within an AuthProvider');
    }
    return context;
}


================================================================================
FILE: src/hooks/use-toast.ts
================================================================================

"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }


================================================================================
FILE: src/index.css
================================================================================

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 60 20% 97%;
    /* Soft Ivory */
    --foreground: 0 0% 18%;
    /* Deep Charcoal */

    --card: 0 0% 100%;
    --card-foreground: 0 0% 18%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 18%;

    --primary: 46 65% 52%;
    /* Champagne Gold */
    --primary-foreground: 0 0% 100%;

    --secondary: 0 56% 94%;
    /* Blush Pink */
    --secondary-foreground: 0 0% 18%;

    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;

    --accent: 46 65% 95%;
    /* Light Gold Tint */
    --accent-foreground: 46 65% 40%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 46 20% 90%;
    --input: 46 20% 90%;
    --ring: 46 65% 52%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 10%;
    --foreground: 0 0% 98%;

    --card: 0 0% 12%;
    --card-foreground: 0 0% 98%;

    --popover: 0 0% 12%;
    --popover-foreground: 0 0% 98%;

    --primary: 46 65% 52%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 15%;
    --secondary-foreground: 0 0% 98%;

    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 65%;

    --accent: 0 0% 15%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 46 65% 52%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading tracking-tight;
  }
}

@layer utilities {
  .glass {
    @apply bg-white/70 dark:bg-black/50 backdrop-blur-lg border border-white/20 dark:border-white/10 shadow-lg;
  }

  .glass-card {
    @apply bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-300;
  }
}

================================================================================
FILE: src/lib/api.ts
================================================================================

import axios from 'axios';

export const api = axios.create({
    baseURL: import.meta.env.VITE_API_URL || 'http://localhost:3000',
});

api.interceptors.request.use((config) => {
    const token = localStorage.getItem('token');
    console.log('API Request Interceptor - Token exists:', !!token);
    if (token) {
        config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
});


================================================================================
FILE: src/lib/image-compression.ts
================================================================================

/**
 * Compresses an image file using the Canvas API.
 * @param file - The original image file.
 * @param maxWidth - The maximum width of the compressed image.
 * @param quality - The image quality (0 to 1).
 * @returns A Promise that resolves to the compressed Blob (as a File object).
 */
export async function compressImage(file: File, maxWidth = 800, quality = 0.7): Promise<File> {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = (event) => {
            const img = new Image();
            img.src = event.target?.result as string;
            img.onload = () => {
                const canvas = document.createElement('canvas');
                let width = img.width;
                let height = img.height;

                if (width > maxWidth) {
                    height = (height * maxWidth) / width;
                    width = maxWidth;
                }

                canvas.width = width;
                canvas.height = height;
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    reject(new Error('Failed to get canvas context'));
                    return;
                }
                ctx.drawImage(img, 0, 0, width, height);

                canvas.toBlob((blob) => {
                    if (blob) {
                        const compressedFile = new File([blob], file.name, {
                            type: 'image/jpeg',
                            lastModified: Date.now(),
                        });
                        resolve(compressedFile);
                    } else {
                        reject(new Error('Compression failed'));
                    }
                }, 'image/jpeg', quality);
            };
            img.onerror = (error) => reject(error);
        };
        reader.onerror = (error) => reject(error);
    });
}


================================================================================
FILE: src/lib/utils.ts
================================================================================

import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}


================================================================================
FILE: src/main.tsx
================================================================================

import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.tsx'

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
)


================================================================================
FILE: src/pages/Landing.tsx
================================================================================

import { useRef, useState, useEffect } from 'react';
import { motion, useScroll, useTransform } from 'framer-motion';

// --- Typewriter Effect Component ---
const TypewriterEffect = ({ words }: { words: string[] }) => {
    const [index, setIndex] = useState(0);
    const [subIndex, setSubIndex] = useState(0);
    const [reverse, setReverse] = useState(false);
    const [blink, setBlink] = useState(true);

    // Blinking cursor
    useEffect(() => {
        const timeout2 = setTimeout(() => {
            setBlink((prev) => !prev);
        }, 500);
        return () => clearTimeout(timeout2);
    }, [blink]);

    // Typing logic
    useEffect(() => {
        if (index === words.length) return;

        if (subIndex === words[index].length + 1 && !reverse) {
            setReverse(true);
            return;
        }

        if (subIndex === 0 && reverse) {
            setReverse(false);
            setIndex((prev) => (prev + 1) % words.length);
            return;
        }

        const timeout = setTimeout(() => {
            setSubIndex((prev) => prev + (reverse ? -1 : 1));
        }, Math.max(reverse ? 75 : subIndex === words[index].length ? 1000 : 150, parseInt((Math.random() * 350).toString())));

        return () => clearTimeout(timeout);
    }, [subIndex, index, reverse, words]);

    return (
        <span className="text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-amber-500">
            {`${words[index].substring(0, subIndex)}${blink ? "|" : " "}`}
        </span>
    );
};

// --- Countdown Timer Component ---
const CountdownTimer = () => {
    const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });

    useEffect(() => {
        const targetDate = new Date();
        targetDate.setDate(targetDate.getDate() + 2); // 2 days from now

        const interval = setInterval(() => {
            const now = new Date();
            const difference = targetDate.getTime() - now.getTime();

            if (difference > 0) {
                setTimeLeft({
                    days: Math.floor(difference / (1000 * 60 * 60 * 24)),
                    hours: Math.floor((difference / (1000 * 60 * 60)) % 24),
                    minutes: Math.floor((difference / 1000 / 60) % 60),
                    seconds: Math.floor((difference / 1000) % 60)
                });
            }
        }, 1000);

        return () => clearInterval(interval);
    }, []);

    return (
        <div className="flex gap-4 justify-center py-6">
            {Object.entries(timeLeft).map(([unit, value]) => (
                <div key={unit} className="flex flex-col items-center bg-white/10 backdrop-blur-md rounded-lg p-3 min-w-[80px] border border-white/20">
                    <span className="text-3xl font-bold font-mono text-yellow-400">
                        {value.toString().padStart(2, '0')}
                    </span>
                    <span className="text-xs text-uppercase tracking-wider opacity-80 uppercase">{unit}</span>
                </div>
            ))}
        </div>
    );
};

// --- Slots Counter Component ---
const SlotsCounter = () => {
    const [count, setCount] = useState(0);
    const target = 472; // Slots filled

    useEffect(() => {
        const interval = setInterval(() => {
            setCount(prev => {
                if (prev < target) {
                    const diff = target - prev;
                    return prev + Math.ceil(diff / 10);
                }
                return target;
            });
        }, 50);
        return () => clearInterval(interval);
    }, []);

    return (
        <div className="mt-4">
            <div className="flex justify-between text-sm mb-2 font-medium">
                <span>Slots Filled</span>
                <span className="text-yellow-400">{count} / 500</span>
            </div>
            <div className="h-3 w-full bg-white/10 rounded-full overflow-hidden border border-white/10">
                <motion.div
                    initial={{ width: 0 }}
                    animate={{ width: `${(count / 500) * 100}%` }}
                    transition={{ duration: 1.5, ease: "easeOut" }}
                    className="h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full"
                />
            </div>
            <p className="text-xs text-gray-400 mt-2 text-right">Only {500 - count} spots remaining!</p>
        </div>
    );
};


import { Button } from '@/components/ui/button';

import { Search, MapPin, ArrowRight, Star, Heart, Camera, Music, Utensils, Home } from 'lucide-react';
import { Link } from 'react-router-dom';
import Gallery from '@/components/home/Gallery';

const CATEGORIES = [
    { name: 'Venues', icon: Home, color: 'bg-rose-100 text-rose-600', image: '/images/WhatsApp Image 2026-02-10 at 22.00.07.jpeg' },
    { name: 'Photography', icon: Camera, color: 'bg-blue-100 text-blue-600', image: '/images/WhatsApp Image 2026-02-10 at 22.00.08.jpeg' },
    { name: 'Catering', icon: Utensils, color: 'bg-orange-100 text-orange-600', image: '/images/WhatsApp Image 2026-02-10 at 22.00.09.jpeg' },
    { name: 'Entertainment', icon: Music, color: 'bg-purple-100 text-purple-600', image: '/images/WhatsApp Image 2026-02-10 at 22.00.10.jpeg' },
];

const FEATURED_VENDORS = [
    {
        id: '1',
        name: 'Luxe Moments Photography',
        category: 'Photography',
        rating: 4.9,
        reviews: 124,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.11.jpeg',
        location: 'Mumbai, India',
        price: 'From ₹45,000'
    },
    {
        id: '2',
        name: 'Royal Palace Gardens',
        category: 'Venue',
        rating: 4.8,
        reviews: 89,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.14.jpeg',
        location: 'Udaipur, India',
        price: 'From ₹2,00,000'
    },
    {
        id: '3',
        name: 'Gourmet Delights Catering',
        category: 'Catering',
        rating: 5.0,
        reviews: 56,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.16.jpeg',
        location: 'Delhi, India',
        price: 'From ₹1,200/plate'
    }
];

export default function Landing() {
    const targetRef = useRef<HTMLDivElement>(null);
    const { scrollYProgress } = useScroll({
        target: targetRef,
        offset: ["start start", "end start"],
    });

    const opacity = useTransform(scrollYProgress, [0, 0.5], [1, 0]);
    const scale = useTransform(scrollYProgress, [0, 0.5], [1, 0.8]);
    const y = useTransform(scrollYProgress, [0, 0.5], [0, -50]);

    return (
        <div className="flex flex-col min-h-screen bg-background text-foreground overflow-x-hidden">

            {/* Hero Section */}
            <section ref={targetRef} className="relative h-[90vh] flex items-center justify-center overflow-hidden">
                <div className="absolute inset-0">
                    <img
                        src="/images/WhatsApp Image 2026-02-10 at 21.59.51.jpeg"
                        alt="Background"
                        className="h-full w-full object-cover brightness-[0.4]"
                    />
                    <div className="absolute" />
                </div>

                <motion.div
                    style={{ opacity, scale, y }}
                    className="container px-4 md:px-6 relative z-20 text-center text-white space-y-8"
                >
                    <motion.div
                        initial={{ opacity: 0, y: 30 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.8, ease: "easeOut" }}
                    >
                        <h1 className="text-4xl md:text-6xl lg:text-7xl font-bold font-heading mb-4 tracking-tight drop-shadow-xl">
                            Create Unforgettable <br className="hidden md:block" />
                            <TypewriterEffect words={["Weddings", "Parties", "Events", "Moments"]} />
                        </h1>
                        <p className="max-w-[700px] mx-auto text-lg md:text-xl text-gray-200 drop-shadow-md">
                            Discover and book the best vendors for your wedding, corporate event, or private party.
                        </p>
                    </motion.div>

                    {/* Search Bar - Responsive Optimization */}
                    <motion.div
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ delay: 0.3, duration: 0.8 }}
                        className="max-w-3xl mx-auto bg-white/10 backdrop-blur-xl p-3 md:p-2 rounded-3xl md:rounded-full border border-white/40 shadow-2xl flex flex-col md:flex-row gap-3 md:gap-2 ring-1 ring-black/5"
                    >
                        <div className="flex-1 flex items-center px-4 h-14 bg-white/5 md:bg-transparent rounded-2xl md:rounded-none border border-white/30 md:border-none focus-within:bg-white/10 transition-colors">
                            <Search className="text-gray-200 w-5 h-5 mr-3 shrink-0" />
                            <input
                                type="text"
                                placeholder="Service (e.g. Photography)"
                                className="bg-transparent border-none outline-none text-white placeholder:text-gray-300 w-full h-full text-base font-medium"
                            />
                        </div>
                        <div className="flex-1 flex items-center px-4 h-14 md:border-l md:border-white/30 bg-white/5 md:bg-transparent rounded-2xl md:rounded-none border border-white/30 md:border-none focus-within:bg-white/10 transition-colors">
                            <MapPin className="text-gray-200 w-5 h-5 mr-3 shrink-0" />
                            <input
                                type="text"
                                placeholder="City (e.g. Mumbai)"
                                className="bg-transparent border-none outline-none text-white placeholder:text-gray-300 w-full h-full text-base font-medium"
                            />
                        </div>
                        <Button size="lg" className="rounded-2xl md:rounded-full w-full md:w-auto px-8 h-14 text-lg font-bold bg-amber-500 hover:bg-amber-600 text-white shadow-lg hover:shadow-amber-500/25 transition-all duration-300 border border-amber-400/50">
                            Search
                        </Button>
                    </motion.div>

                    {/* Quick Tags */}
                    <motion.div
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        transition={{ delay: 0.6 }}
                        className="flex flex-wrap justify-center gap-3 text-sm text-gray-300"
                    >
                        <span>Popular:</span>
                        {['Wedding Photography', 'Banquet Halls', 'Makeup Artists', 'DJs'].map((tag) => (
                            <button key={tag} className="hover:text-white underline decoration-dotted underline-offset-4 decoration-gray-500 transition-colors">
                                {tag}
                            </button>
                        ))}
                    </motion.div>
                </motion.div>
            </section >

            {/* Categories Section */}
            <section className="py-16 md:py-24 container px-4 md:px-6 space-y-12">
                <div className="flex flex-col md:flex-row justify-between items-end gap-4 text-center md:text-left">
                    <div className="space-y-2 w-full md:w-auto">
                        <h2 className="text-3xl md:text-4xl font-bold tracking-tight">Explore by Category</h2>
                        <p className="text-muted-foreground text-lg">Find exactly what you need for your event.</p>
                    </div>
                    <Link to="/vendors">
                        <Button variant="ghost" className="group hidden md:inline-flex">
                            View All Categories <ArrowRight className="ml-2 w-4 h-4 transition-transform group-hover:translate-x-1" />
                        </Button>
                    </Link>
                </div>

                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    {CATEGORIES.map((cat, i) => (
                        <motion.div
                            key={cat.name}
                            initial={{ opacity: 0, y: 20 }}
                            whileInView={{ opacity: 1, y: 0 }}
                            viewport={{ once: true, margin: "-50px" }}
                            transition={{ delay: i * 0.1, duration: 0.5 }}
                            whileHover={{ y: -8, scale: 1.02 }}
                            className="group relative h-64 md:h-72 rounded-2xl overflow-hidden cursor-pointer shadow-md hover:shadow-2xl transition-all duration-300"
                        >
                            <img
                                src={cat.image}
                                alt={cat.name}
                                className="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            />
                            <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity" />
                            <div className="absolute bottom-0 left-0 p-6 w-full transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300">
                                <div className={`inline-flex p-3 rounded-full mb-3 backdrop-blur-md ${cat.color} bg-white/95 shadow-lg`}>
                                    <cat.icon className="w-5 h-5" />
                                </div>
                                <h3 className="text-2xl font-bold text-white mb-1">{cat.name}</h3>
                                <p className="text-white/80 text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0">
                                    Explore {cat.name} &rarr;
                                </p>
                            </div>
                        </motion.div>
                    ))}
                </div>

                <div className="md:hidden text-center pt-4">
                    <Link to="/vendors">
                        <Button variant="outline" className="w-full">
                            View All Categories
                        </Button>
                    </Link>
                </div>
            </section>

            {/* Featured Vendors Section */}
            <section className="py-20 bg-muted/30">
                <div className="container px-4 md:px-6 space-y-12">
                    <div className="text-center space-y-4 max-w-2xl mx-auto">
                        <motion.div
                            initial={{ opacity: 0, y: 20 }}
                            whileInView={{ opacity: 1, y: 0 }}
                            viewport={{ once: true }}
                        >
                            <h2 className="text-3xl md:text-4xl font-bold tracking-tight">Featured Vendors</h2>
                            <p className="text-muted-foreground text-lg mt-2">Top-rated professionals loved by our customers.</p>
                        </motion.div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {FEATURED_VENDORS.map((vendor, i) => (
                            <motion.div
                                key={vendor.id}
                                initial={{ opacity: 0, y: 30 }}
                                whileInView={{ opacity: 1, y: 0 }}
                                viewport={{ once: true, margin: "-50px" }}
                                transition={{ delay: i * 0.1, duration: 0.5 }}
                                whileHover={{ y: -5 }}
                                className="group bg-card rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-border/50"
                            >
                                <div className="relative h-64 overflow-hidden">
                                    <img
                                        src={vendor.image}
                                        alt={vendor.name}
                                        className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                                    />
                                    <div className="absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors" />
                                    <button className="absolute top-4 right-4 p-2.5 rounded-full bg-white/20 backdrop-blur-md hover:bg-white/40 transition-all text-white hover:scale-110 active:scale-95">
                                        <Heart className="w-5 h-5" />
                                    </button>
                                    <div className="absolute bottom-4 left-4 bg-white/95 backdrop-blur-md px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider shadow-sm text-foreground">
                                        {vendor.category}
                                    </div>
                                </div>
                                <div className="p-6 space-y-4">
                                    <div>
                                        <div className="flex justify-between items-start gap-4">
                                            <h3 className="font-bold text-xl group-hover:text-primary transition-colors line-clamp-1">{vendor.name}</h3>
                                            <div className="flex items-center gap-1 text-sm font-medium bg-secondary/50 px-2 py-1 rounded-md shrink-0">
                                                <Star className="w-3.5 h-3.5 fill-amber-400 text-amber-400" />
                                                {vendor.rating}
                                                <span className="text-muted-foreground text-xs ml-0.5">({vendor.reviews})</span>
                                            </div>
                                        </div>
                                        <div className="flex items-center gap-2 text-muted-foreground text-sm mt-2">
                                            <MapPin className="w-4 h-4 shrink-0" />
                                            {vendor.location}
                                        </div>
                                    </div>

                                    <div className="pt-4 border-t flex items-center justify-between">
                                        <div className="text-sm">
                                            <span className="text-muted-foreground block text-xs uppercase tracking-wide">Starting from</span>
                                            <p className="font-bold text-primary text-base">{vendor.price}</p>
                                        </div>
                                        <Link to={`/vendor/${vendor.id}`}>
                                            <Button size="sm" className="rounded-full px-4 group-hover:bg-primary group-hover:text-primary-foreground transition-colors">
                                                View Profile
                                            </Button>
                                        </Link>
                                    </div>
                                </div>
                            </motion.div>
                        ))}
                    </div>

                </div>
            </section>

            {/* How It Works Section */}
            < section className="py-20 bg-white" >
                <div className="container px-4 md:px-6">
                    <div className="text-center mb-16 space-y-4">
                        <span className="text-primary font-bold tracking-wider uppercase text-sm">Simple Process</span>
                        <h2 className="text-3xl md:text-5xl font-bold font-heading text-gray-900">How MarketFly Works</h2>
                        <p className="text-gray-500 max-w-2xl mx-auto text-lg">Planning your dream event has never been easier. Follow these simple steps.</p>
                    </div>

                    <div className="grid md:grid-cols-3 gap-12 relative">
                        {/* Connecting Line (Desktop) */}
                        <div className="hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gray-200 -z-10"></div>

                        {[
                            {
                                step: "01",
                                title: "Discover",
                                desc: "Browse thousands of top-rated vendors with transparent pricing and reviews.",
                                icon: Search,
                                color: "bg-blue-100 text-blue-600"
                            },
                            {
                                step: "02",
                                title: "Connect",
                                desc: "Chat directly with vendors, get quotes, and check availability instantly.",
                                icon: Heart, // Using Heart as a placeholder for 'Connect/Chat' vibe
                                color: "bg-purple-100 text-purple-600"
                            },
                            {
                                step: "03",
                                title: "Book",
                                desc: "Secure your date with a small deposit and enjoy a stress-free event.",
                                icon: Star, // Using Star for 'Success/Book'
                                color: "bg-green-100 text-green-600"
                            }
                        ].map((item, idx) => (
                            <motion.div
                                key={idx}
                                initial={{ opacity: 0, y: 30 }}
                                whileInView={{ opacity: 1, y: 0 }}
                                viewport={{ once: true }}
                                transition={{ delay: idx * 0.2 }}
                                className="relative flex flex-col items-center text-center space-y-6"
                            >
                                <div className={`w-24 h-24 rounded-full ${item.color} flex items-center justify-center shadow-xl relative z-10 group transition-transform hover:scale-110 duration-300`}>
                                    <item.icon className="w-10 h-10" />
                                    <div className="absolute -top-2 -right-2 bg-gray-900 text-white text-xs font-bold w-8 h-8 flex items-center justify-center rounded-full border-4 border-white">
                                        {item.step}
                                    </div>
                                </div>
                                <div>
                                    <h3 className="text-2xl font-bold mb-3 text-gray-900">{item.title}</h3>
                                    <p className="text-gray-600 leading-relaxed">{item.desc}</p>
                                </div>
                            </motion.div>
                        ))}
                    </div>
                </div>
            </section >



            {/* Early Bird Offer Section */}
            <section className="py-20 bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-900 text-white relative overflow-hidden">
                <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10 animate-pulse"></div>

                {/* Floating Elements */}
                <div className="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
                    <motion.div
                        animate={{ y: [0, -20, 0], opacity: [0.3, 0.6, 0.3] }}
                        transition={{ duration: 5, repeat: Infinity, ease: "easeInOut" }}
                        className="absolute top-20 left-10 w-32 h-32 bg-yellow-500/20 rounded-full blur-3xl"
                    />
                    <motion.div
                        animate={{ y: [0, 30, 0], opacity: [0.3, 0.5, 0.3] }}
                        transition={{ duration: 7, repeat: Infinity, ease: "easeInOut" }}
                        className="absolute bottom-20 right-10 w-48 h-48 bg-purple-500/20 rounded-full blur-3xl"
                    />
                </div>

                <div className="container px-4 md:px-6 relative z-10 text-center space-y-8">
                    <motion.div
                        initial={{ opacity: 0, scale: 0.9 }}
                        whileInView={{ opacity: 1, scale: 1 }}
                        viewport={{ once: true }}
                        className="inline-block"
                    >
                        <span className="bg-yellow-400 text-indigo-900 font-bold px-4 py-1.5 rounded-full text-sm uppercase tracking-wider mb-4 inline-block shadow-lg">
                            Early Bird Offer
                        </span>
                    </motion.div>

                    <h2 className="text-4xl md:text-5xl font-heading font-bold mb-2 leading-tight">
                        Be Among the First 500 Vendors. <br />
                        <span className="text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-yellow-400">
                            Get 50% Launch Discount
                        </span>
                    </h2>

                    <CountdownTimer />

                    <div className="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto my-12 text-left">
                        {[
                            { title: "0% Commission", desc: "Keep 100% of what you earn on all bookings. No hidden fees.", color: "text-yellow-300" },
                            { title: "Founding Member Badge", desc: "Exclusive profile badge to standout and build trust instantly.", color: "text-yellow-300" },
                            { title: "Premium Visibility", desc: "Secure top spots in search results before the market gets crowded.", color: "text-yellow-300" }
                        ].map((card, idx) => (
                            <motion.div
                                key={idx}
                                whileHover={{ y: -10, scale: 1.02 }}
                                className="bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/20 hover:bg-white/15 hover:border-yellow-400/50 transition-colors shadow-lg"
                            >
                                <h3 className={`text-xl font-bold mb-2 ${card.color}`}>{card.title}</h3>
                                <p className="text-gray-200">{card.desc}</p>
                            </motion.div>
                        ))}
                    </div>

                    <div className="bg-white/5 p-8 rounded-3xl max-w-3xl mx-auto border border-white/10 relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-1 h-full bg-yellow-400"></div>
                        <p className="text-xl md:text-2xl font-light mb-8 italic">
                            "Whether you run a banquet hall, photography studio, catering service, or décor business — <strong className="font-bold text-white not-italic">Airion helps you scale faster.</strong>"
                        </p>

                        <div className="max-w-md mx-auto">
                            <SlotsCounter />

                            <div className="mt-8">
                                <Link to="/vendor/onboarding">
                                    <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                                        <Button size="lg" className="bg-yellow-400 text-indigo-900 hover:bg-yellow-300 font-bold text-lg px-10 h-16 rounded-full shadow-xl hover:shadow-yellow-400/30 transition-all w-full md:w-auto relative overflow-hidden group">
                                            <span className="relative z-10 flex items-center gap-2">
                                                Secure Your Spot Today <ArrowRight className="w-5 h-5 group-hover:translate-x-1 transition-transform" />
                                            </span>
                                            <div className="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                                        </Button>
                                    </motion.div>
                                </Link>
                                <p className="text-sm text-gray-400 mt-3 animate-pulse">
                                    Launch Offer Ends Soon!
                                </p>
                            </div>
                        </div>
                    </div>

                    <div className="pt-12 grid grid-cols-2 md:grid-cols-4 gap-8 opacity-70">
                        <div className="text-center">
                            <h4 className="text-3xl font-bold mb-1">500+</h4>
                            <p className="text-sm">Vendors Joined</p>
                        </div>
                        <div className="text-center">
                            <h4 className="text-3xl font-bold mb-1">0%</h4>
                            <p className="text-sm">Commission Fee</p>
                        </div>
                        <div className="text-center">
                            <h4 className="text-3xl font-bold mb-1">10x</h4>
                            <p className="text-sm">Reach Increase</p>
                        </div>
                        <div className="text-center">
                            <h4 className="text-3xl font-bold mb-1">24/7</h4>
                            <p className="text-sm">Support Team</p>
                        </div>
                    </div>
                </div>
            </section>

            {/* Gallery Section */}
            < Gallery />
        </div >
    );
}


================================================================================
FILE: src/pages/auth/ArtisticBackground.tsx
================================================================================

import { useEffect, useRef } from 'react';
import { motion, useTransform, useSpring, useMotionValue } from 'framer-motion';
import gsap from 'gsap';

export const ArtisticBackground = () => {
    const containerRef = useRef<HTMLDivElement>(null);
    const mouseX = useMotionValue(0);
    const mouseY = useMotionValue(0);

    const smoothMouseX = useSpring(mouseX, { stiffness: 50, damping: 20 });
    const smoothMouseY = useSpring(mouseY, { stiffness: 50, damping: 20 });

    useEffect(() => {
        const handleMouseMove = (e: MouseEvent) => {
            const { clientX, clientY } = e;
            const { innerWidth, innerHeight } = window;
            mouseX.set(clientX / innerWidth);
            mouseY.set(clientY / innerHeight);

            // GSAP trail effect
            gsap.to('.cursor-trail', {
                x: clientX,
                y: clientY,
                duration: 0.8,
                ease: 'power2.out',
                stagger: 0.05
            });
        };

        window.addEventListener('mousemove', handleMouseMove);
        return () => window.removeEventListener('mousemove', handleMouseMove);
    }, [mouseX, mouseY]);

    // Complex abstract paths for the "drawing" effect
    const paths = [
        "M10,10 C50,100 150,50 200,150 S350,200 400,100",
        "M50,300 C100,200 200,400 300,300 S500,100 600,200",
        "M600,50 C500,150 400,50 300,150 S100,200 50,100",
        "M200,500 C250,400 350,550 450,450 S650,300 700,400",
    ];

    return (
        <div ref={containerRef} className="absolute inset-0 overflow-hidden bg-[#faf9f6] text-[#1a1a1a] z-0 pointer-events-none">
            {/* Grain Texture */}
            <div className="absolute inset-0 opacity-40 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] mix-blend-multiply" />

            {/* Cursor Trails */}
            {[...Array(3)].map((_, i) => (
                <div
                    key={`trail-${i}`}
                    className="cursor-trail fixed top-0 left-0 w-32 h-32 bg-primary/10 rounded-full blur-3xl pointer-events-none -translate-x-1/2 -translate-y-1/2 z-0 mix-blend-multiply"
                />
            ))}

            {/* Abstract Animated Shapes */}
            <svg className="absolute inset-0 w-full h-full z-10" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style={{ stopColor: "#D4AF37", stopOpacity: 1 }} />
                        <stop offset="100%" style={{ stopColor: "#f0e68c", stopOpacity: 1 }} />
                    </linearGradient>
                </defs>

                {paths.map((path, i) => (
                    <motion.path
                        key={i}
                        d={path}
                        fill="none"
                        stroke="url(#grad1)"
                        strokeWidth="1.5"
                        initial={{ pathLength: 0, opacity: 0 }}
                        animate={{ pathLength: 1, opacity: 0.8 }}
                        transition={{
                            duration: 8,
                            ease: "easeInOut",
                            delay: i * 0.5,
                            repeat: Infinity,
                            repeatType: "reverse",
                            repeatDelay: 0.5
                        }}
                        style={{
                            scale: 1.2,
                            x: useTransform(smoothMouseX, [0, 1], [-30 * (i + 1), 30 * (i + 1)]),
                            y: useTransform(smoothMouseY, [0, 1], [-30 * (i + 1), 30 * (i + 1)]),
                            rotate: useTransform(smoothMouseX, [0, 1], [-5, 5]),
                        }}
                    />
                ))}

                {/* Floating Circles */}
                {[...Array(8)].map((_, i) => (
                    <motion.circle
                        key={`c-${i}`}
                        cx={Math.random() * 100 + "%"}
                        cy={Math.random() * 100 + "%"}
                        r={Math.random() * 40 + 10}
                        fill="rgba(212, 175, 55, 0.05)"
                        initial={{ scale: 0 }}
                        animate={{
                            scale: [1, 1.5, 1],
                            opacity: [0.2, 0.5, 0.2],
                            x: [0, 40, 0],
                            y: [0, -40, 0],
                        }}
                        transition={{
                            duration: 8 + Math.random() * 5,
                            repeat: Infinity,
                            ease: "easeInOut",
                            delay: i * 0.5
                        }}
                    />
                ))}
            </svg>
        </div>
    );
};


================================================================================
FILE: src/pages/auth/BackgroundAnimations.tsx
================================================================================

import { useEffect, useRef } from 'react';
import gsap from 'gsap';

export const BackgroundAnimations = () => {
    const containerRef = useRef<HTMLDivElement>(null);

    useEffect(() => {
        if (!containerRef.current) return;

        const ctx = gsap.context(() => {
            const orbs = document.querySelectorAll('.orb');

            // Random floating animation
            orbs.forEach((orb, i) => {
                gsap.to(orb, {
                    x: "random(-50, 50, 5)",
                    y: "random(-50, 50, 5)",
                    scale: "random(0.8, 1.2)",
                    duration: "random(10, 20)",
                    ease: "sine.inOut",
                    repeat: -1,
                    yoyo: true,
                    opacity: "random(0.3, 0.6)",
                    delay: i * 2
                });
            });

            // Parallax mouse effect
            const handleMouseMove = (e: MouseEvent) => {
                const { clientX, clientY } = e;
                const sw = window.innerWidth;
                const sh = window.innerHeight;
                const x = (clientX - sw / 2) / sw;
                const y = (clientY - sh / 2) / sh;

                orbs.forEach((orb, i) => {
                    const factor = (i + 1) * 20; // Different depth for each orb
                    gsap.to(orb, {
                        x: `+=${x * factor}`,
                        y: `+=${y * factor}`,
                        duration: 1,
                        ease: "power2.out",
                        overwrite: "auto"
                    });
                });
            };

            window.addEventListener('mousemove', handleMouseMove);

            return () => {
                window.removeEventListener('mousemove', handleMouseMove);
            };
        }, containerRef);

        return () => ctx.revert();
    }, []);

    return (
        <div ref={containerRef} className="fixed inset-0 overflow-hidden pointer-events-none z-0 bg-slate-950">
            {/* Base Gradient */}
            <div className="absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950" />

            {/* Animated Orbs */}
            <div className="orb absolute top-[-10%] left-[-10%] w-[50vh] h-[50vh] rounded-full bg-purple-900/20 blur-[100px]" />
            <div className="orb absolute top-[20%] right-[-10%] w-[40vh] h-[40vh] rounded-full bg-blue-900/20 blur-[100px]" />
            <div className="orb absolute bottom-[-10%] left-[20%] w-[60vh] h-[60vh] rounded-full bg-indigo-900/10 blur-[120px]" />

            {/* Grid Pattern Overlay */}
            <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"></div>
        </div>
    );
};


================================================================================
FILE: src/pages/auth/Login.tsx
================================================================================

import { useState, useRef } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useAuth } from '@/context/AuthContext';
import { api } from '@/lib/api';
import { Button } from '@/components/ui/button';
import { motion, AnimatePresence, useSpring, useMotionValue } from 'framer-motion';
import { ArrowRight, Loader2, ArrowLeft, ArrowUpRight } from 'lucide-react';
import { ArtisticBackground } from './ArtisticBackground';


export default function Login() {
    const [step, setStep] = useState<'role' | 'phone'>('role');
    const [role, setRole] = useState<'user' | 'vendor' | 'admin'>('user');
    const [phone, setPhone] = useState('');
    const [isLoading, setIsLoading] = useState(false);
    const [error, setError] = useState('');
    const { login } = useAuth();
    const navigate = useNavigate();

    const handleLogin = async () => {
        if (phone.length < 10) {
            setError('Please enter a valid phone number');
            return;
        }
        setIsLoading(true);
        setError('');

        try {
            const response = await api.post('/auth/login', { phone, role });
            const { accessToken, user } = response.data;
            login(accessToken, user);

            if (user.role === 'vendor') {
                navigate('/vendor/onboarding');
            } else if (user.role === 'user') {
                navigate('/user/onboarding');
            } else {
                navigate('/');
            }
        } catch (error) {
            console.error('Login failed', error);
            if (import.meta.env.DEV) {
                setTimeout(() => {
                    login('demo-token', { role, id: '1', phone });
                    if (role === 'vendor') navigate('/vendor/onboarding');
                    else navigate('/user/onboarding');
                }, 1500);
            } else {
                setError('Login failed. Please try again.');
            }
        } finally {
            // setIsLoading(false);
        }
    };

    return (
        <div className="min-h-screen grid lg:grid-cols-2 bg-[#faf9f6] text-[#1a1a1a] font-sans selection:bg-primary/20">
            {/* Left: Artistic Canvas */}
            <div className="relative hidden lg:flex flex-col justify-between p-12 overflow-hidden bg-[#f4f1ea]">
                <ArtisticBackground />

                <div className="relative z-10 pointer-events-none">
                    <motion.div
                        initial={{ opacity: 0, y: 30 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ delay: 0.5, duration: 1, ease: 'easeOut' }}
                    >
                        <h2 className="text-6xl font-heading font-bold leading-tight tracking-tighter mb-6">
                            Where <span className="italic font-serif text-primary">moments</span> <br />
                            become art.
                        </h2>
                        <p className="text-lg text-gray-600 max-w-md leading-relaxed">
                            Join a curated community of creators, planners, and visionaries designed to elevate every celebration.
                        </p>
                    </motion.div>
                </div>

                <div className="relative z-10 flex gap-4 text-sm font-medium text-gray-500 pointer-events-auto">
                    <span>© 2026 Market Airian</span>
                    <span>•</span>
                    <a href="#" className="hover:text-primary transition-colors">Privacy Policy</a>
                </div>
            </div>

            {/* Right: Login Form */}
            <div className="flex flex-col justify-center p-8 md:p-16 lg:p-24 bg-white relative">
                <Link to="/" className="absolute top-8 right-8 flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-primary transition-colors group">
                    Back to Home <ArrowUpRight className="h-4 w-4 transition-transform group-hover:-translate-y-0.5 group-hover:translate-x-0.5" />
                </Link>

                <div className="w-full max-w-sm mx-auto space-y-12">
                    <div className="space-y-4">
                        <motion.div
                            initial={{ width: 0 }}
                            animate={{ width: "4rem" }}
                            transition={{ delay: 0.2, duration: 0.8, ease: "circOut" }}
                            className="h-1 bg-primary mb-8 rounded-full"
                        />
                        <AnimatedHeading text={step === 'role' ? 'Get Started' : 'Verify Identity'} />
                        <motion.p
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            transition={{ delay: 0.6 }}
                            className="text-gray-500 text-lg"
                        >
                            {step === 'role' ? 'Select your account type to begin.' : 'Enter your mobile number for a secure code.'}
                        </motion.p>
                    </div>

                    <AnimatePresence mode="wait">
                        {step === 'role' && (
                            <motion.div
                                key="role"
                                initial={{ opacity: 0, x: -20 }}
                                animate={{ opacity: 1, x: 0 }}
                                exit={{ opacity: 0, x: 20 }}
                                transition={{ duration: 0.4 }}
                                className="space-y-4"
                            >
                                <RoleCard
                                    title="Plan an Event"
                                    description="I want to hire vendors"
                                    active={role === 'user'}
                                    onClick={() => setRole('user')}
                                    delay={0.1}
                                />
                                <RoleCard
                                    title="List My Business"
                                    description="I am a service provider"
                                    active={role === 'vendor'}
                                    onClick={() => setRole('vendor')}
                                    delay={0.2}
                                />

                                <motion.div
                                    initial={{ opacity: 0, y: 20 }}
                                    animate={{ opacity: 1, y: 0 }}
                                    transition={{ delay: 0.4 }}
                                    className="pt-8"
                                >
                                    <MagneticButton onClick={() => setStep('phone')} className="w-full h-14 text-lg bg-slate-900 text-white rounded-full">
                                        Continue <ArrowRight className="ml-2 h-5 w-5" />
                                    </MagneticButton>
                                </motion.div>
                            </motion.div>
                        )}

                        {step === 'phone' && (
                            <motion.div
                                key="phone"
                                initial={{ opacity: 0, x: 20 }}
                                animate={{ opacity: 1, x: 0 }}
                                exit={{ opacity: 0, x: -20 }}
                                className="space-y-8"
                            >
                                <div className="space-y-4">
                                    <label className="uppercase text-xs font-semibold tracking-wider text-gray-400">Mobile Number</label>
                                    <AnimatedInput
                                        placeholder="98765 43210"
                                        value={phone}
                                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {
                                            setPhone(e.target.value);
                                            setError('');
                                        }}
                                        type="tel"
                                        autoFocus
                                        error={error}
                                    />
                                </div>

                                <div className="flex flex-col gap-4 pt-4">
                                    <MagneticButton onClick={handleLogin} disabled={isLoading} className="w-full h-14 text-lg bg-slate-900 text-white rounded-full">
                                        {isLoading ? (
                                            <><Loader2 className="mr-2 h-5 w-5 animate-spin" /> Verifying...</>
                                        ) : (
                                            'Login'
                                        )}
                                    </MagneticButton>

                                    <Button
                                        variant="ghost"
                                        className="w-full hover:bg-gray-50 text-gray-500"
                                        onClick={() => {
                                            setStep('role');
                                            setError('');
                                        }}
                                        disabled={isLoading}
                                    >
                                        <ArrowLeft className="mr-2 h-4 w-4" /> Go Back
                                    </Button>
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </div>
            </div>
        </div>
    );
}

// --- Components ---

function AnimatedHeading({ text }: { text: string }) {
    return (
        <h1 className="text-4xl font-heading font-bold text-gray-900 overflow-hidden">
            <motion.span
                initial={{ y: "100%" }}
                animate={{ y: 0 }}
                transition={{ duration: 0.8, ease: [0.33, 1, 0.68, 1], delay: 0.2 }}
                className="inline-block"
            >
                {text}
            </motion.span>
        </h1>
    );
}

function RoleCard({ title, description, active, onClick, delay }: { title: string, description: string, active: boolean, onClick: () => void, delay: number }) {
    return (
        <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay, duration: 0.5 }}
            onClick={onClick}
            whileHover={{ scale: 1.02 }}
            whileTap={{ scale: 0.98 }}
            className={`cursor-pointer relative p-6 border transition-all duration-300 rounded-xl overflow-hidden ${active
                ? 'border-slate-900 bg-slate-50 shadow-md'
                : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'
                }`}
        >
            <div className="flex justify-between items-start relative z-10">
                <div>
                    <h3 className={`font-heading font-bold text-xl mb-1 ${active ? 'text-slate-900' : 'text-gray-600'}`}>
                        {title}
                    </h3>
                    <p className="text-sm text-gray-500">{description}</p>
                </div>
                <div className={`h-6 w-6 rounded-full border flex items-center justify-center transition-all duration-300 ${active ? 'border-slate-900 bg-slate-900 text-white scale-110' : 'border-gray-300'
                    }`}>
                    {active && <motion.div layoutId="active-dot" className="h-2 w-2 bg-white rounded-full" />}
                </div>
            </div>
        </motion.div>
    );
}

function AnimatedInput({ value, onChange, placeholder, type, autoFocus, error }: any) {
    const [focused, setFocused] = useState(false);

    return (
        <div className="relative">
            <input
                className="w-full h-14 text-2xl font-serif bg-transparent border-none outline-none placeholder:text-gray-300 text-gray-900 p-0"
                value={value}
                onChange={onChange}
                placeholder={placeholder}
                type={type}
                autoFocus={autoFocus}
                onFocus={() => setFocused(true)}
                onBlur={() => setFocused(false)}
            />
            {/* Base Border */}
            <div className="absolute bottom-0 left-0 right-0 h-[2px] bg-gray-200" />

            {/* Animated SVG Border */}
            <svg className="absolute bottom-[-2px] left-0 w-full h-[4px] overflow-visible pointer-events-none">
                <motion.path
                    d={`M0,2 L${window.innerWidth},2`} // Approximation, driven by CSS width
                    stroke="#0f172a"
                    strokeWidth="3"
                    strokeLinecap="round"
                    initial={{ pathLength: 0 }}
                    animate={{ pathLength: focused ? 1 : 0 }}
                    transition={{ duration: 0.6, ease: "easeInOut" }}
                    className="w-full"
                />
            </svg>

            {error && (
                <motion.p
                    initial={{ opacity: 0, y: -10 }}
                    animate={{ opacity: 1, y: 0 }}
                    className="absolute -bottom-8 left-0 text-sm text-red-500 font-medium"
                >
                    {error}
                </motion.p>
            )}
        </div>
    );
}

function MagneticButton({ children, onClick, className, disabled }: any) {
    const ref = useRef<HTMLButtonElement>(null);
    const x = useMotionValue(0);
    const y = useMotionValue(0);

    const mouseX = useSpring(x, { stiffness: 150, damping: 15, mass: 0.1 });
    const mouseY = useSpring(y, { stiffness: 150, damping: 15, mass: 0.1 });

    const handleMouseMove = (e: React.MouseEvent) => {
        const { clientX, clientY } = e;
        const { left, top, width, height } = ref.current!.getBoundingClientRect();
        const centerX = left + width / 2;
        const centerY = top + height / 2;
        x.set((clientX - centerX) * 0.35); // Magnetic strength
        y.set((clientY - centerY) * 0.35);
    };

    const handleMouseLeave = () => {
        x.set(0);
        y.set(0);
    };

    return (
        <motion.button
            ref={ref}
            onClick={onClick}
            disabled={disabled}
            className={`${className} relative overflow-hidden flex items-center justify-center`}
            style={{ x: mouseX, y: mouseY }}
            onMouseMove={handleMouseMove}
            onMouseLeave={handleMouseLeave}
            whileHover={{ scale: 1.05 }}
            whileTap={{ scale: 0.95 }}
        >
            <span className="relative z-10 flex items-center">{children}</span>
        </motion.button>
    );
}


================================================================================
FILE: src/pages/public/BrowseVendors.tsx
================================================================================

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Badge } from '@/components/ui/badge';
import { Card, CardContent } from '@/components/ui/card';
import { Slider } from '@/components/ui/slider';
import { Checkbox } from '@/components/ui/checkbox';
import { Search, MapPin, Filter, Star, Heart } from 'lucide-react';
import { Link } from 'react-router-dom';


// Mock Data
const VENDORS = [
    {
        id: '1',
        name: 'Luxe Moments Photography',
        category: 'Photography',
        rating: 4.9,
        reviews: 124,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.11.jpeg',
        location: 'Mumbai, India',
        price: 45000,
        tags: ['Wedding', 'Candid', 'Drone']
    },
    {
        id: '2',
        name: 'Royal Palace Gardens',
        category: 'Venue',
        rating: 4.8,
        reviews: 89,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.14.jpeg',
        location: 'Udaipur, India',
        price: 200000,
        tags: ['Outdoor', 'Banquet', 'Heritage']
    },
    {
        id: '3',
        name: 'Gourmet Delights Catering',
        category: 'Catering',
        rating: 5.0,
        reviews: 56,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.16.jpeg',
        location: 'Delhi, India',
        price: 1200,
        priceUnit: '/plate',
        tags: ['Vegetarian', 'Continental', 'Indian']
    },
    {
        id: '4',
        name: 'Beats & Bass DJ',
        category: 'Entertainment',
        rating: 4.7,
        reviews: 42,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.18.jpeg',
        location: 'Bangalore, India',
        price: 25000,
        tags: ['Bollywood', 'EDM', 'Live']
    },
    {
        id: '5',
        name: 'Elegant Decors',
        category: 'Decoration',
        rating: 4.6,
        reviews: 31,
        image: '/images/WhatsApp Image 2026-02-10 at 22.00.19.jpeg',
        location: 'Pune, India',
        price: 35000,
        tags: ['Floral', 'Modern', 'Theme']
    }
];

const CATEGORIES = ['Photography', 'Venue', 'Catering', 'Entertainment', 'Decoration', 'Makeup'];

export default function BrowseVendors() {
    const [searchQuery, setSearchQuery] = useState('');
    const [selectedCategory, setSelectedCategory] = useState<string | null>(null);
    const [priceRange, setPriceRange] = useState([0, 500000]);

    const filteredVendors = VENDORS.filter(vendor => {
        const matchesSearch = vendor.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
            vendor.location.toLowerCase().includes(searchQuery.toLowerCase());
        const matchesCategory = selectedCategory ? vendor.category === selectedCategory : true;
        const matchesPrice = vendor.price >= priceRange[0] && vendor.price <= priceRange[1];

        return matchesSearch && matchesCategory && matchesPrice;
    });

    return (
        <div className="min-h-screen bg-background flex flex-col">
            {/* Header */}
            <div className="bg-primary/5 pt-28 pb-12 border-b">
                <div className="container px-4 md:px-6">
                    <h1 className="text-3xl font-bold tracking-tight mb-4">Find the Perfect Vendor</h1>

                    <div className="flex flex-col md:flex-row gap-4 max-w-4xl">
                        <div className="relative flex-1">
                            <Search className="absolute left-3 top-3.5 h-5 w-5 text-muted-foreground" />
                            <Input
                                placeholder="Search by name or location..."
                                className="pl-10 h-12 bg-background text-base"
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                            />
                        </div>
                        <div className="relative flex-1 md:flex-none md:w-[240px]">
                            <MapPin className="absolute left-3 top-3.5 h-5 w-5 text-muted-foreground" />
                            <Input placeholder="City" className="pl-10 h-12 bg-background text-base" />
                        </div>
                        <Button className="h-12 px-8 text-base">Search</Button>
                    </div>
                </div>
            </div>

            <main className="container px-4 md:px-6 py-8 flex-1">
                <div className="flex flex-col md:flex-row gap-8">
                    {/* Filters Sidebar */}
                    <aside className="w-full md:w-64 space-y-8">
                        <div>
                            <h3 className="font-semibold mb-4 flex items-center gap-2">
                                <Filter className="h-4 w-4" /> Filters
                            </h3>

                            <div className="space-y-4">
                                <div>
                                    <label className="text-sm font-medium mb-2 block">Category</label>
                                    <div className="space-y-2">
                                        {CATEGORIES.map(cat => (
                                            <div key={cat} className="flex items-center space-x-2">
                                                <Checkbox
                                                    id={cat}
                                                    checked={selectedCategory === cat}
                                                    onCheckedChange={(checked) => setSelectedCategory(checked ? cat : null)}
                                                />
                                                <label htmlFor={cat} className="text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                                                    {cat}
                                                </label>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="pt-4 border-t">
                                    <label className="text-sm font-medium mb-4 block">Price Range</label>
                                    <Slider
                                        defaultValue={[0, 500000]}
                                        max={500000}
                                        step={5000}
                                        value={priceRange}
                                        onValueChange={setPriceRange}
                                        className="mb-4"
                                    />
                                    <div className="flex items-center justify-between text-xs text-muted-foreground">
                                        <span>₹{priceRange[0].toLocaleString()}</span>
                                        <span>₹{priceRange[1].toLocaleString()}+</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </aside>

                    {/* Results Grid */}
                    <div className="flex-1">
                        <div className="mb-6 flex items-center justify-between">
                            <p className="text-muted-foreground">
                                Showing <span className="font-medium text-foreground">{filteredVendors.length}</span> results
                            </p>
                            <div className="flex items-center gap-2">
                                <span className="text-sm text-muted-foreground">Sort by:</span>
                                <select className="bg-transparent text-sm font-medium outline-none cursor-pointer">
                                    <option>Recommended</option>
                                    <option>Price: Low to High</option>
                                    <option>Price: High to Low</option>
                                    <option>Rating</option>
                                </select>
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {filteredVendors.map(vendor => (
                                <Link key={vendor.id} to={`/vendor/${vendor.id}`}>
                                    <Card className="h-full overflow-hidden hover:shadow-lg transition-shadow group">
                                        <div className="relative h-48 overflow-hidden">
                                            <img
                                                src={vendor.image}
                                                alt={vendor.name}
                                                className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                                            />
                                            <div className="absolute top-3 right-3">
                                                <Button size="icon" variant="ghost" className="h-8 w-8 rounded-full bg-white/20 backdrop-blur-sm hover:bg-white/40 text-white">
                                                    <Heart className="h-4 w-4" />
                                                </Button>
                                            </div>
                                            <div className="absolute bottom-3 left-3">
                                                <Badge variant="secondary" className="backdrop-blur-md bg-white/90">
                                                    {vendor.category}
                                                </Badge>
                                            </div>
                                        </div>
                                        <CardContent className="p-4 space-y-3">
                                            <div>
                                                <div className="flex justify-between items-start">
                                                    <h3 className="font-bold text-lg line-clamp-1 group-hover:text-primary transition-colors">{vendor.name}</h3>
                                                    <div className="flex items-center gap-1 text-sm font-medium">
                                                        <Star className="w-3.5 h-3.5 fill-yellow-400 text-yellow-400" />
                                                        {vendor.rating}
                                                    </div>
                                                </div>
                                                <div className="flex items-center gap-1 text-xs text-muted-foreground mt-1">
                                                    <MapPin className="w-3 h-3" /> {vendor.location}
                                                </div>
                                            </div>

                                            <p className="text-sm text-muted-foreground line-clamp-2">
                                                Professional {vendor.category.toLowerCase()} services for your special day.
                                            </p>

                                            <div className="flex flex-wrap gap-1">
                                                {vendor.tags.map(tag => (
                                                    <span key={tag} className="text-[10px] bg-muted px-1.5 py-0.5 rounded text-muted-foreground">
                                                        {tag}
                                                    </span>
                                                ))}
                                            </div>

                                            <div className="pt-3 border-t mt-auto flex items-center justify-between">
                                                <div>
                                                    <p className="text-xs text-muted-foreground">Starting from</p>
                                                    <p className="font-bold text-primary">
                                                        ₹{vendor.price.toLocaleString()}
                                                        {vendor.priceUnit && <span className="text-sm font-normal text-muted-foreground">{vendor.priceUnit}</span>}
                                                    </p>
                                                </div>
                                                <Button size="sm" variant="outline">View</Button>
                                            </div>
                                        </CardContent>
                                    </Card>
                                </Link>
                            ))}
                        </div>

                        {filteredVendors.length === 0 && (
                            <div className="flex flex-col items-center justify-center py-12 text-center">
                                <div className="bg-muted p-4 rounded-full mb-4">
                                    <Search className="h-8 w-8 text-muted-foreground" />
                                </div>
                                <h3 className="text-lg font-semibold">No vendors found</h3>
                                <p className="text-muted-foreground">Try adjusting your filters or search query.</p>
                                <Button
                                    variant="link"
                                    onClick={() => {
                                        setSearchQuery('');
                                        setSelectedCategory(null);
                                        setPriceRange([0, 500000]);
                                    }}
                                >
                                    Clear all filters
                                </Button>
                            </div>
                        )}
                    </div>
                </div>
            </main>
        </div>
    );
}


================================================================================
FILE: src/pages/public/VendorProfile.tsx
================================================================================

import { useEffect, useState } from 'react';
import { useParams } from 'react-router-dom';
import { api } from '@/lib/api';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { MapPin, CheckCircle, Mail, Phone, Calendar, Star, ShieldCheck, Image as ImageIcon, Box } from 'lucide-react';
import { motion } from 'framer-motion';
import { BookingRequestDialog } from '@/components/shared/BookingRequestDialog';

export default function VendorPublicProfile() {
    const { id } = useParams<{ id: string }>();
    const [vendor, setVendor] = useState<any>(null);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        const fetchVendor = async () => {
            try {
                const res = await api.get(`/vendors/public/${id}`);
                setVendor(res.data);
            } catch (err) {
                console.error("Failed to fetch vendor", err);
            } finally {
                setLoading(false);
            }
        };
        if (id) fetchVendor();
    }, [id]);

    if (loading) return <div className="min-h-screen flex items-center justify-center"><div className="animate-pulse text-primary font-medium">Loading Profile...</div></div>;
    if (!vendor) return <div className="min-h-screen flex items-center justify-center text-red-500">Vendor not found</div>;

    return (
        <div className="min-h-screen bg-gray-50/50 pb-20">
            {/* Hero Section with Parallax-like effect */}
            <div className="relative h-[400px] w-full overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-b from-black/20 to-black/60 z-10" />
                {vendor.bannerUrl ? (
                    <img src={vendor.bannerUrl} alt="Banner" className="w-full h-full object-cover" />
                ) : (
                    <div className="w-full h-full bg-gradient-to-r from-gray-800 to-gray-900" />
                )}

                <div className="absolute bottom-0 left-0 w-full z-20 container mx-auto px-4 pb-8 flex items-end gap-6">
                    <motion.div
                        initial={{ scale: 0.8, opacity: 0 }}
                        animate={{ scale: 1, opacity: 1 }}
                        className="relative w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white shadow-xl overflow-hidden bg-white shrink-0"
                    >
                        {vendor.logoUrl ? (
                            <img src={vendor.logoUrl} alt="Logo" className="w-full h-full object-cover" />
                        ) : (
                            <div className="w-full h-full flex items-center justify-center bg-primary/10 text-primary text-4xl font-bold">
                                {vendor.businessName?.[0] || 'V'}
                            </div>
                        )}
                    </motion.div>

                    <div className="mb-2 text-white drop-shadow-lg">
                        <div className="flex items-center gap-2 mb-1">
                            <Badge variant="outline" className="text-white border-white/40 bg-white/10 backdrop-blur-sm uppercase tracking-wider text-[10px]">
                                {vendor.businessType || 'Vendor'}
                            </Badge>
                            <div className="flex items-center text-yellow-400 text-sm">
                                <Star fill="currentColor" className="w-4 h-4" />
                                <span className="ml-1 font-medium text-white">4.9</span>
                                <span className="ml-1 text-white/80">(24 reviews)</span>
                            </div>
                        </div>
                        <h1 className="text-3xl md:text-5xl font-heading font-bold flex items-center gap-3">
                            {vendor.businessName}
                            <CheckCircle className="h-6 w-6 md:h-8 md:w-8 text-blue-400 fill-white" />
                        </h1>
                        <p className="text-lg text-white/90 flex items-center gap-2 mt-1">
                            <MapPin className="h-4 w-4" /> {vendor.city} {vendor.landmark && `• ${vendor.landmark}`}
                        </p>
                    </div>
                </div>
            </div>

            <div className="container mx-auto px-4 mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8">
                {/* Main Content Area */}
                <div className="lg:col-span-2 space-y-8">
                    <Tabs defaultValue="overview" className="w-full">
                        <TabsList className="w-full justify-start border-b rounded-none h-auto p-0 bg-transparent gap-6">
                            <TabsTrigger value="overview" className="rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:shadow-none px-4 py-3 text-base">Overview</TabsTrigger>
                            <TabsTrigger value="packages" className="rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:shadow-none px-4 py-3 text-base">Packages</TabsTrigger>
                            <TabsTrigger value="gallery" className="rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:shadow-none px-4 py-3 text-base">Gallery</TabsTrigger>
                            <TabsTrigger value="reviews" className="rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:shadow-none px-4 py-3 text-base">Reviews</TabsTrigger>
                        </TabsList>

                        <div className="mt-6">
                            <TabsContent value="overview" className="space-y-8">
                                <section>
                                    <h2 className="text-2xl font-bold mb-4 font-heading">About</h2>
                                    <p className="text-gray-600 leading-relaxed text-lg">
                                        {vendor.description || "No specific description available. Contact the vendor for more details."}
                                    </p>

                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                                        <div className="bg-white p-4 rounded-xl border flex flex-col items-center justify-center text-center shadow-sm">
                                            <Calendar className="h-8 w-8 text-primary mb-2 opacity-80" />
                                            <span className="text-2xl font-bold">{vendor.yearsInBusiness || 0}+</span>
                                            <span className="text-xs text-gray-500 uppercase tracking-wide">Years Exp</span>
                                        </div>
                                        <div className="bg-white p-4 rounded-xl border flex flex-col items-center justify-center text-center shadow-sm">
                                            <CheckCircle className="h-8 w-8 text-green-500 mb-2 opacity-80" />
                                            <span className="text-2xl font-bold">{vendor.eventVolume || '10+'}</span>
                                            <span className="text-xs text-gray-500 uppercase tracking-wide">Events/Mo</span>
                                        </div>
                                        <div className="bg-white p-4 rounded-xl border flex flex-col items-center justify-center text-center shadow-sm">
                                            <ShieldCheck className="h-8 w-8 text-blue-500 mb-2 opacity-80" />
                                            <span className="text-md font-bold truncate w-full">{vendor.gstNumber ? 'Verified' : 'Registered'}</span>
                                            <span className="text-xs text-gray-500 uppercase tracking-wide">Status</span>
                                        </div>
                                    </div>
                                </section>

                                {vendor.serviceCategories && vendor.serviceCategories.length > 0 && (
                                    <section>
                                        <h2 className="text-xl font-bold mb-4 font-heading">Specialties</h2>
                                        <div className="flex flex-wrap gap-2">
                                            {vendor.serviceCategories.map((cat: string) => (
                                                <Badge key={cat} variant="secondary" className="text-sm px-4 py-1.5">{cat}</Badge>
                                            ))}
                                        </div>
                                    </section>
                                )}
                            </TabsContent>

                            <TabsContent value="packages" className="space-y-6">
                                {vendor.packages && vendor.packages.length > 0 ? (
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        {vendor.packages.map((pkg: any) => (
                                            <Card key={pkg.id} className="overflow-hidden hover:shadow-lg transition-shadow group">
                                                <div className="h-48 bg-gray-100 relative">
                                                    {pkg.images && pkg.images.length > 0 ? (
                                                        <img src={pkg.images[0]} alt={pkg.name} className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
                                                    ) : (
                                                        <div className="w-full h-full flex items-center justify-center text-gray-400">
                                                            <Box className="h-12 w-12 opacity-20" />
                                                        </div>
                                                    )}
                                                    <div className="absolute top-2 right-2">
                                                        <Badge className="bg-white text-black hover:bg-white">{pkg.price ? `₹${pkg.price.toLocaleString()}` : 'Custom Price'}</Badge>
                                                    </div>
                                                </div>
                                                <CardHeader>
                                                    <CardTitle>{pkg.name}</CardTitle>
                                                    <CardDescription>{pkg.description}</CardDescription>
                                                </CardHeader>
                                                <CardContent>
                                                    <div className="space-y-2">
                                                        {pkg.features && Array.isArray(pkg.features) && pkg.features.slice(0, 3).map((feat: string, i: number) => (
                                                            <div key={i} className="flex items-start gap-2 text-sm text-gray-600">
                                                                <CheckCircle className="h-4 w-4 text-green-500 shrink-0 mt-0.5" />
                                                                <span>{feat}</span>
                                                            </div>
                                                        ))}
                                                    </div>
                                                    <Button variant="outline" className="w-full mt-4">View Details</Button>
                                                </CardContent>
                                            </Card>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="text-center py-12 bg-white rounded-xl border border-dashed">
                                        <Box className="h-12 w-12 mx-auto text-gray-300 mb-3" />
                                        <p className="text-gray-500">No packages listed yet.</p>
                                    </div>
                                )}
                            </TabsContent>

                            <TabsContent value="gallery">
                                {vendor.gallery && vendor.gallery.length > 0 ? (
                                    <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
                                        {vendor.gallery.map((item: any) => (
                                            <div key={item.id} className="aspect-square rounded-xl overflow-hidden bg-gray-100 group cursor-pointer relative">
                                                <img src={item.url} alt="Gallery Item" className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                                                <div className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors" />
                                            </div>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="text-center py-12 bg-white rounded-xl border border-dashed">
                                        <ImageIcon className="h-12 w-12 mx-auto text-gray-300 mb-3" />
                                        <p className="text-gray-500">No images in gallery yet.</p>
                                    </div>
                                )}
                            </TabsContent>

                            <TabsContent value="reviews">
                                <div className="text-center py-12 bg-white rounded-xl border border-dashed">
                                    <div className="flex justify-center mb-2">
                                        {[1, 2, 3, 4, 5].map(i => <Star key={i} className="h-6 w-6 text-gray-200" />)}
                                    </div>
                                    <p className="text-gray-500">No reviews yet. Be the first to review!</p>
                                </div>
                            </TabsContent>
                        </div>
                    </Tabs>
                </div>

                {/* Sticky Contact Sidebar */}
                <div className="lg:col-span-1">
                    <div className="sticky top-24 space-y-6">
                        <Card className="border-t-4 border-t-primary shadow-lg">
                            <CardHeader>
                                <CardTitle className="text-xl">Interested in {vendor.businessName}?</CardTitle>
                                <CardDescription>Contact them to get a quote for your event.</CardDescription>
                            </CardHeader>
                            <CardContent className="space-y-4">
                                <div className="space-y-3 p-4 bg-gray-50 rounded-lg">
                                    {vendor.avgBookingPrice && (
                                        <div className="flex justify-between items-center text-sm">
                                            <span className="text-gray-500">Avg. Price</span>
                                            <span className="font-semibold text-gray-900 capitalize">{vendor.avgBookingPrice} Range</span>
                                        </div>
                                    )}
                                    <div className="flex justify-between items-center text-sm">
                                        <span className="text-gray-500">Location</span>
                                        <span className="font-semibold text-gray-900">{vendor.city}</span>
                                    </div>
                                </div>

                                <div className="space-y-3 pt-2">
                                    {vendor.user?.email && (
                                        <a href={`mailto:${vendor.user.email}`} className="flex items-center gap-3 text-sm text-gray-600 hover:text-primary transition-colors p-2 hover:bg-gray-50 rounded-md">
                                            <div className="bg-blue-100 p-2 rounded-full text-blue-600">
                                                <Mail className="h-4 w-4" />
                                            </div>
                                            <span className="truncate">{vendor.user.email}</span>
                                        </a>
                                    )}
                                    {vendor.user?.phone && (
                                        <a href={`tel:${vendor.user.phone}`} className="flex items-center gap-3 text-sm text-gray-600 hover:text-primary transition-colors p-2 hover:bg-gray-50 rounded-md">
                                            <div className="bg-green-100 p-2 rounded-full text-green-600">
                                                <Phone className="h-4 w-4" />
                                            </div>
                                            <span>{vendor.user.phone}</span>
                                        </a>
                                    )}
                                </div>

                                <BookingRequestDialog vendorName={vendor.businessName} packs={vendor.packages} />
                                <p className="text-xs text-center text-gray-400">Response time: Usually within 24h</p>
                            </CardContent>
                        </Card>
                    </div>
                </div>
            </div>
        </div>
    );
}


================================================================================
FILE: src/pages/user/Bookings.tsx
================================================================================

import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Calendar, Clock, MapPin } from 'lucide-react';

type BookingStatus = 'pending' | 'accepted' | 'rejected' | 'completed';

const MOCK_USER_BOOKINGS = [
    {
        id: '1',
        vendorName: 'Luxe Moments Photography',
        vendorImage: 'https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=200',
        date: '2024-11-15',
        time: '10:00 AM',
        package: 'Gold Wedding Package',
        price: '50000',
        status: 'pending' as BookingStatus,
        location: 'Mumbai, India'
    },
    {
        id: '2',
        vendorName: 'Royal Palace Gardens',
        vendorImage: 'https://images.unsplash.com/photo-1519167758481-83f550bb490e?q=80&w=200',
        date: '2024-12-20',
        time: '06:00 PM',
        package: 'Banquet Hall Rental',
        price: '200000',
        status: 'accepted' as BookingStatus,
        location: 'Udaipur, India'
    }
];

export default function UserBookings() {
    return (
        <div className="space-y-8">
            <div>
                <h1 className="text-3xl font-bold tracking-tight">My Bookings</h1>
                <p className="text-muted-foreground">Track the status of your event requests.</p>
            </div>

            <Tabs defaultValue="all">
                <TabsList>
                    <TabsTrigger value="all">All Requests</TabsTrigger>
                    <TabsTrigger value="upcoming">Upcoming</TabsTrigger>
                    <TabsTrigger value="pending">Pending</TabsTrigger>
                </TabsList>

                <TabsContent value="all" className="space-y-4 mt-6">
                    {MOCK_USER_BOOKINGS.map(booking => (
                        <BookingCard key={booking.id} booking={booking} />
                    ))}
                </TabsContent>
                <TabsContent value="upcoming" className="space-y-4 mt-6">
                    {MOCK_USER_BOOKINGS.filter(b => b.status === 'accepted').map(booking => (
                        <BookingCard key={booking.id} booking={booking} />
                    ))}
                </TabsContent>
                <TabsContent value="pending" className="space-y-4 mt-6">
                    {MOCK_USER_BOOKINGS.filter(b => b.status === 'pending').map(booking => (
                        <BookingCard key={booking.id} booking={booking} />
                    ))}
                </TabsContent>
            </Tabs>
        </div>
    );
}

function BookingCard({ booking }: { booking: any }) {
    const getStatusColor = (status: BookingStatus) => {
        switch (status) {
            case 'pending': return 'bg-yellow-100 text-yellow-800';
            case 'accepted': return 'bg-green-100 text-green-800';
            case 'rejected': return 'bg-red-100 text-red-800';
            case 'completed': return 'bg-gray-100 text-gray-800';
        }
    };

    return (
        <Card className="overflow-hidden">
            <CardContent className="p-0 flex flex-col md:flex-row">
                <div className="w-full md:w-48 h-32 md:h-auto relative">
                    <img src={booking.vendorImage} alt={booking.vendorName} className="w-full h-full object-cover" />
                </div>
                <div className="p-6 flex-1 space-y-4">
                    <div className="flex flex-col md:flex-row justify-between items-start gap-2">
                        <div>
                            <h3 className="font-semibold text-lg">{booking.vendorName}</h3>
                            <div className="flex items-center gap-2 text-sm text-muted-foreground mt-1">
                                <MapPin className="h-4 w-4" /> {booking.location}
                            </div>
                        </div>
                        <Badge variant="secondary" className={getStatusColor(booking.status)}>
                            {booking.status.toUpperCase()}
                        </Badge>
                    </div>

                    <div className="grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm bg-gray-50 p-3 rounded-md">
                        <div className="flex items-center gap-2">
                            <Calendar className="h-4 w-4 text-muted-foreground" />
                            <span>{new Date(booking.date).toLocaleDateString()}</span>
                        </div>
                        <div className="flex items-center gap-2">
                            <Clock className="h-4 w-4 text-muted-foreground" />
                            <span>{booking.time}</span>
                        </div>
                        <div className="col-span-2 font-medium">
                            {booking.package} (₹{parseInt(booking.price).toLocaleString()})
                        </div>
                    </div>

                    <div className="flex justify-end gap-2">
                        <Button variant="outline" size="sm">View Details</Button>
                        {booking.status === 'accepted' && (
                            <Button size="sm">Pay Now</Button>
                        )}
                    </div>
                </div>
            </CardContent>
        </Card>
    );
}


================================================================================
FILE: src/pages/user/Dashboard.tsx
================================================================================

import { useEffect, useState } from 'react';
import { useAuth } from '@/context/AuthContext';
import { api } from '@/lib/api';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { Badge } from '@/components/ui/badge';
import { Calendar, MapPin, Heart } from 'lucide-react';

export default function UserDashboard() {
    const { user, logout } = useAuth();
    const [events, setEvents] = useState<any[]>([]);

    useEffect(() => {
        const fetchEvents = async () => {
            try {
                const res = await api.get('/events/my-events');
                setEvents(res.data);
            } catch (err) {
                console.error("Failed to fetch events", err);
            }
        };
        fetchEvents();
    }, []);

    return (
        <div className="min-h-screen bg-gray-50 flex flex-col">
            <header className="bg-white border-b px-8 py-4 flex justify-between items-center sticky top-0 z-10">
                <div className="flex items-center gap-2">
                    <div className="bg-black text-white h-8 w-8 rounded flex items-center justify-center font-bold">M</div>
                    <span className="font-bold text-xl">MarketFly</span>
                </div>
                <div className="flex gap-4">
                    <Button variant="ghost" onClick={logout}>Logout</Button>
                </div>
            </header>

            <main className="flex-1 max-w-6xl mx-auto w-full p-8 space-y-8">
                <div className="flex justify-between items-center">
                    <div>
                        <h1 className="text-3xl font-bold text-gray-900">Hello, {(user as any)?.firstName || 'User'}!</h1>
                        <p className="text-gray-500">Find the perfect vendors for your next event.</p>
                    </div>
                </div>

                <Tabs defaultValue="recommended" className="w-full">
                    <TabsList>
                        <TabsTrigger value="recommended">Recommended</TabsTrigger>
                        <TabsTrigger value="events">My Events</TabsTrigger>
                        <TabsTrigger value="saved">Saved Vendors</TabsTrigger>
                    </TabsList>

                    <TabsContent value="recommended" className="mt-6">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            {/* Mock Recommendations */}
                            {[1, 2, 3].map((i) => (
                                <Card key={i} className="hover:shadow-md transition-shadow cursor-pointer">
                                    <div className="h-40 bg-gray-200 w-full animate-pulse" />
                                    <CardContent className="p-4">
                                        <h3 className="font-bold text-lg">Amazing Vendor {i}</h3>
                                        <p className="text-sm text-gray-500 flex items-center gap-1 mt-1">
                                            <MapPin className="h-3 w-3" /> Mumbai
                                        </p>
                                        <div className="mt-4 flex justify-between items-center">
                                            <Badge variant="secondary">Wedding</Badge>
                                            <Button size="sm" variant="outline">View</Button>
                                        </div>
                                    </CardContent>
                                </Card>
                            ))}
                        </div>
                    </TabsContent>

                    <TabsContent value="events" className="mt-6">
                        {events.length === 0 ? (
                            <Card>
                                <CardHeader>
                                    <CardTitle>No Upcoming Events</CardTitle>
                                    <CardDescription>You haven't booked any vendors yet.</CardDescription>
                                </CardHeader>
                                <CardContent className="h-40 flex items-center justify-center">
                                    <Button>Browse Vendors</Button>
                                </CardContent>
                            </Card>
                        ) : (
                            <div className="space-y-4">
                                {events.map((event) => (
                                    <Card key={event.id}>
                                        <CardContent className="p-6 flex justify-between items-center">
                                            <div>
                                                <h3 className="font-bold text-lg">{event.title}</h3>
                                                <p className="text-sm text-gray-500 flex items-center gap-2">
                                                    <Calendar className="h-4 w-4" /> {new Date(event.date).toLocaleDateString()}
                                                    <span className="text-gray-300">|</span>
                                                    With {event.vendor?.businessName || 'Vendor'}
                                                </p>
                                            </div>
                                            <Badge className={
                                                event.status === 'confirmed' ? 'bg-green-100 text-green-800' :
                                                    event.status === 'requested' ? 'bg-yellow-100 text-yellow-800' :
                                                        'bg-gray-100 text-gray-800'
                                            }>
                                                {event.status}
                                            </Badge>
                                        </CardContent>
                                    </Card>
                                ))}
                            </div>
                        )}
                    </TabsContent>

                    <TabsContent value="saved" className="mt-6">
                        <div className="text-center text-gray-500 py-12">
                            <Heart className="h-12 w-12 mx-auto mb-4 text-gray-300" />
                            <p>You haven't saved any vendors yet.</p>
                        </div>
                    </TabsContent>
                </Tabs>
            </main>
        </div>
    );
}


================================================================================
FILE: src/pages/user/Onboarding.tsx
================================================================================

import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { api } from '@/lib/api';
import { useAuth } from '@/context/AuthContext';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Card, CardHeader, CardTitle, CardContent, CardDescription, CardFooter } from '@/components/ui/card';
import { Checkbox } from "@/components/ui/checkbox";
import { Loader2 } from 'lucide-react';

const INTEREST_CATEGORIES = [
    "Weddings", "Corporate Events", "Birthday Parties", "Concerts", "Workshops", "Photography", "Catering"
];

export default function UserOnboarding() {
    const [step, setStep] = useState(1);
    const [loading, setLoading] = useState(false);
    const [formData, setFormData] = useState({
        firstName: '',
        lastName: '',
        email: '',
        city: '',
        interests: [] as string[],
    });
    const { user, login } = useAuth();
    const navigate = useNavigate();

    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
        setFormData({ ...formData, [e.target.id]: e.target.value });
    };

    const toggleInterest = (interest: string) => {
        setFormData(prev => {
            const exists = prev.interests.includes(interest);
            if (exists) {
                return { ...prev, interests: prev.interests.filter(i => i !== interest) };
            }
            return { ...prev, interests: [...prev.interests, interest] };
        });
    };

    const handleSubmit = async () => {
        setLoading(true);
        try {
            // Depending on backend implementation, we might need a specific endpoint or just update user
            // Current VendorsController handles User updates for Vendors, but we need a similar one for Users.
            // Since we don't have a UsersController for updates yet, I'll rely on a new endpoint or existing if available.
            // For now, I'll assume we create a generic user update endpoint or reuse the Auth register logic if applicable.
            // Actually, standard practice: POST /users/profile or PUT /users/:id.
            // I need to implement this in backend. For now, I'll try POST /users/onboarding.

            const res = await api.post('/users/onboarding', formData);

            // Update local context if needed
            if (user && res.data) {
                login(localStorage.getItem('token') || '', { ...user, ...res.data });
            }

            navigate('/dashboard');
        } catch (error) {
            console.error('Onboarding failed', error);
            alert('Failed to save profile. Please try again.');
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className="min-h-screen bg-gray-50 flex items-center justify-center p-4">
            <Card className="w-full max-w-md">
                <CardHeader>
                    <CardTitle>Welcome! Let's get to know you</CardTitle>
                    <CardDescription>Step {step} of 2</CardDescription>
                </CardHeader>
                <CardContent className="space-y-4">
                    {step === 1 && (
                        <>
                            <div className="grid grid-cols-2 gap-4">
                                <div className="space-y-2">
                                    <Label htmlFor="firstName">First Name</Label>
                                    <Input id="firstName" value={formData.firstName} onChange={handleInputChange} placeholder="John" />
                                </div>
                                <div className="space-y-2">
                                    <Label htmlFor="lastName">Last Name</Label>
                                    <Input id="lastName" value={formData.lastName} onChange={handleInputChange} placeholder="Doe" />
                                </div>
                            </div>
                            <div className="space-y-2">
                                <Label htmlFor="email">Email</Label>
                                <Input id="email" type="email" value={formData.email} onChange={handleInputChange} placeholder="john@example.com" />
                            </div>
                            <div className="space-y-2">
                                <Label htmlFor="city">City</Label>
                                <Input id="city" value={formData.city} onChange={handleInputChange} placeholder="e.g. Mumbai" />
                            </div>
                        </>
                    )}

                    {step === 2 && (
                        <>
                            <Label className="text-base">What are you interested in?</Label>
                            <div className="grid grid-cols-2 gap-3 mt-2">
                                {INTEREST_CATEGORIES.map(category => (
                                    <div key={category} className="flex items-center space-x-2 border p-3 rounded-md hover:bg-gray-50">
                                        <Checkbox
                                            id={category}
                                            checked={formData.interests.includes(category)}
                                            onCheckedChange={() => toggleInterest(category)}
                                        />
                                        <label
                                            htmlFor={category}
                                            className="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer w-full"
                                        >
                                            {category}
                                        </label>
                                    </div>
                                ))}
                            </div>
                        </>
                    )}
                </CardContent>
                <CardFooter className="flex justify-between">
                    {step > 1 ? (
                        <Button variant="outline" onClick={() => setStep(s => s - 1)}>Back</Button>
                    ) : (
                        <div /> // Spacer
                    )}

                    {step < 2 ? (
                        <Button onClick={() => setStep(s => s + 1)}>Next</Button>
                    ) : (
                        <Button onClick={handleSubmit} disabled={loading}>
                            {loading && <Loader2 className="mr-2 h-4 w-4 animate-spin" />}
                            Get Started
                        </Button>
                    )}
                </CardFooter>
            </Card>
        </div>
    );
}


================================================================================
FILE: src/pages/user/Settings.tsx
================================================================================

import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { LogOut } from 'lucide-react';
import { useAuth } from '@/context/AuthContext';
import { api } from '@/lib/api';
import { useToast } from '@/components/ui/use-toast';

export default function UserSettings() {
    const { user, logout, updateUser } = useAuth();
    const { toast } = useToast();
    const [loading, setLoading] = useState(false);

    // Form States
    const [accountForm, setAccountForm] = useState({
        firstName: '',
        lastName: '',
        email: '',
        phone: ''
    });

    const [passwordForm, setPasswordForm] = useState({
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
    });

    const [notificationForm, setNotificationForm] = useState({
        email: true,
        sms: true,
        bookingUpdates: true,
        marketing: false
    });

    useEffect(() => {
        if (user) {
            setAccountForm({
                firstName: user.firstName || '',
                lastName: user.lastName || '',
                email: user.email || '',
                phone: user.phone || ''
            });
            if (user.notificationPreferences) {
                setNotificationForm(user.notificationPreferences);
            }
        }
    }, [user]);

    const handleAccountUpdate = async () => {
        setLoading(true);
        try {
            const { data } = await api.patch('/users/me', {
                firstName: accountForm.firstName,
                lastName: accountForm.lastName,
            });
            updateUser(data);
            toast({ title: "Profile Updated", description: "Your account details have been saved." });
        } catch (error) {
            toast({ title: "Error", description: "Failed to update profile.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    const handlePasswordUpdate = async () => {
        if (passwordForm.newPassword !== passwordForm.confirmPassword) {
            toast({ title: "Mismatch", description: "New passwords do not match.", variant: "destructive" });
            return;
        }
        setLoading(true);
        try {
            await api.patch('/users/me', { password: passwordForm.newPassword });
            toast({ title: "Password Updated", description: "Your password has been changed." });
            setPasswordForm({ currentPassword: '', newPassword: '', confirmPassword: '' });
        } catch (error) {
            toast({ title: "Error", description: "Failed to update password.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    const handleNotificationUpdate = async () => {
        setLoading(true);
        try {
            const { data } = await api.patch('/users/me', { notificationPreferences: notificationForm });
            updateUser(data);
            toast({ title: "Preferences Saved", description: "Notification settings updated." });
        } catch (error) {
            toast({ title: "Error", description: "Failed to update preferences.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className="space-y-8">
            <div>
                <h1 className="text-3xl font-bold tracking-tight">Settings</h1>
                <p className="text-muted-foreground">Manage your account and notification preferences.</p>
            </div>

            <Tabs defaultValue="account" className="space-y-4">
                <TabsList>
                    <TabsTrigger value="account">Account</TabsTrigger>
                    <TabsTrigger value="security">Security</TabsTrigger>
                    <TabsTrigger value="notifications">Notifications</TabsTrigger>
                </TabsList>

                {/* Account Details */}
                <TabsContent value="account">
                    <Card>
                        <CardHeader>
                            <CardTitle>Personal Information</CardTitle>
                            <CardDescription>Your personal account details.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-4">
                            <div className="flex items-center gap-4 mb-4">
                                <div className="h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center text-2xl font-bold text-primary">
                                    {user?.firstName?.[0] || 'U'}
                                </div>
                                <div>
                                    <h3 className="font-medium text-lg">{user?.firstName} {user?.lastName}</h3>
                                    <p className="text-sm text-muted-foreground">{user?.email || user?.phone}</p>
                                </div>
                            </div>
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="space-y-2">
                                    <Label>First Name</Label>
                                    <Input value={accountForm.firstName} onChange={e => setAccountForm({ ...accountForm, firstName: e.target.value })} />
                                </div>
                                <div className="space-y-2">
                                    <Label>Last Name</Label>
                                    <Input value={accountForm.lastName} onChange={e => setAccountForm({ ...accountForm, lastName: e.target.value })} />
                                </div>
                                <div className="space-y-2">
                                    <Label>Email</Label>
                                    <Input value={accountForm.email} disabled className="bg-muted" />
                                </div>
                                <div className="space-y-2">
                                    <Label>Phone</Label>
                                    <Input value={accountForm.phone} disabled className="bg-muted" />
                                </div>
                            </div>
                            <div className="flex justify-end mt-4">
                                <Button onClick={handleAccountUpdate} disabled={loading}>{loading ? 'Saving...' : 'Save Changes'}</Button>
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>

                {/* Security */}
                <TabsContent value="security">
                    <Card>
                        <CardHeader>
                            <CardTitle>Login & Security</CardTitle>
                            <CardDescription>Manage your password.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-4">
                            <div className="space-y-2">
                                <Label>New Password</Label>
                                <Input type="password" value={passwordForm.newPassword} onChange={e => setPasswordForm({ ...passwordForm, newPassword: e.target.value })} />
                            </div>
                            <div className="space-y-2">
                                <Label>Confirm New Password</Label>
                                <Input type="password" value={passwordForm.confirmPassword} onChange={e => setPasswordForm({ ...passwordForm, confirmPassword: e.target.value })} />
                            </div>
                            <div className="flex justify-end mt-4">
                                <Button onClick={handlePasswordUpdate} disabled={loading}>{loading ? 'Updating...' : 'Update Password'}</Button>
                            </div>

                            <div className="border-t pt-6 mt-6">
                                <h3 className="text-lg font-medium text-destructive mb-2">Danger Zone</h3>
                                <div className="flex justify-between items-center p-4 border border-destructive/20 rounded-md bg-destructive/5">
                                    <div>
                                        <p className="font-medium text-destructive">Sign out</p>
                                        <p className="text-sm text-muted-foreground">Log out of your account.</p>
                                    </div>
                                    <Button variant="destructive" onClick={logout}>
                                        <LogOut className="mr-2 h-4 w-4" /> Logout
                                    </Button>
                                </div>
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>

                {/* Notifications */}
                <TabsContent value="notifications">
                    <Card>
                        <CardHeader>
                            <CardTitle>Notifications</CardTitle>
                            <CardDescription>Choose how you want to be notified.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            <div className="space-y-4">
                                <div className="flex items-center justify-between">
                                    <div className="space-y-0.5">
                                        <Label>Email Alerts</Label>
                                        <p className="text-sm text-muted-foreground">Receive emails for important updates.</p>
                                    </div>
                                    <input type="checkbox" className="toggle" checked={notificationForm.email} onChange={e => setNotificationForm({ ...notificationForm, email: e.target.checked })} />
                                </div>
                                <div className="flex items-center justify-between">
                                    <div className="space-y-0.5">
                                        <Label>SMS Alerts</Label>
                                        <p className="text-sm text-muted-foreground">Receive SMS for bookings.</p>
                                    </div>
                                    <input type="checkbox" className="toggle" checked={notificationForm.sms} onChange={e => setNotificationForm({ ...notificationForm, sms: e.target.checked })} />
                                </div>
                            </div>
                            <div className="flex justify-end">
                                <Button onClick={handleNotificationUpdate} disabled={loading}>{loading ? 'Saving...' : 'Save Preferences'}</Button>
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>
            </Tabs>
        </div>
    );
}


================================================================================
FILE: src/pages/vendor/BookingsManager.tsx
================================================================================

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Calendar, Clock, CheckCircle, XCircle, MessageSquare } from 'lucide-react';
import { useToast } from '@/components/ui/use-toast';
import { Avatar, AvatarFallback } from '@/components/ui/avatar';
import { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { Textarea } from '@/components/ui/textarea';

type BookingStatus = 'pending' | 'accepted' | 'rejected' | 'completed';

interface Booking {
    id: string;
    customerName: string;
    customerAvatar?: string;
    date: string;
    time: string;
    package: string;
    price: string;
    status: BookingStatus;
    notes: string;
    requestedAt: string;
}

const MOCK_BOOKINGS: Booking[] = [
    {
        id: '1',
        customerName: 'Aarav Patel',
        date: '2024-11-15',
        time: '10:00 AM',
        package: 'Gold Wedding Package',
        price: '50000',
        status: 'pending',
        notes: 'We are looking for candid photography mostly.',
        requestedAt: '2024-10-01'
    },
    {
        id: '2',
        customerName: 'Diya Sharma',
        date: '2024-12-20',
        time: '06:00 PM',
        package: 'Basic Photography',
        price: '25000',
        status: 'accepted',
        notes: 'Outdoor reception.',
        requestedAt: '2024-09-28'
    },
    {
        id: '3',
        customerName: 'Rohan Gupta',
        date: '2024-10-10',
        time: '09:00 AM',
        package: 'Premium Video',
        price: '85000',
        status: 'rejected',
        notes: 'Destination wedding in Goa.',
        requestedAt: '2024-09-25'
    }
];

export default function BookingsManager() {
    const { toast } = useToast();
    const [bookings, setBookings] = useState<Booking[]>(MOCK_BOOKINGS);
    const [selectedBooking, setSelectedBooking] = useState<Booking | null>(null);
    const [rejectDialogOpen, setRejectDialogOpen] = useState(false);
    const [rejectionReason, setRejectionReason] = useState('');

    const handleStatusChange = (id: string, newStatus: BookingStatus) => {
        setBookings(bookings.map(b => b.id === id ? { ...b, status: newStatus } : b));
        toast({
            title: `Booking ${newStatus === 'accepted' ? 'Accepted' : 'Updated'}`,
            description: `Customer has been notified.`
        });
    };

    const confirmReject = () => {
        if (selectedBooking) {
            handleStatusChange(selectedBooking.id, 'rejected');
            setRejectDialogOpen(false);
            setRejectionReason('');
        }
    };

    const getStatusColor = (status: BookingStatus) => {
        switch (status) {
            case 'pending': return 'bg-yellow-100 text-yellow-800';
            case 'accepted': return 'bg-green-100 text-green-800';
            case 'rejected': return 'bg-red-100 text-red-800';
            case 'completed': return 'bg-gray-100 text-gray-800';
        }
    };

    const BookingCard = ({ booking }: { booking: Booking }) => (
        <Card className="mb-4 overflow-hidden">
            <CardContent className="p-0">
                <div className="flex flex-col md:flex-row">
                    <div className="p-6 flex-1 space-y-4">
                        <div className="flex items-start justify-between">
                            <div className="flex items-center gap-4">
                                <Avatar>
                                    <AvatarFallback>{booking.customerName[0]}</AvatarFallback>
                                </Avatar>
                                <div>
                                    <h3 className="font-semibold text-lg">{booking.customerName}</h3>
                                    <div className="flex items-center gap-2 text-sm text-muted-foreground">
                                        <Calendar className="h-4 w-4" />
                                        {new Date(booking.date).toLocaleDateString()}
                                        <span className="mx-1">•</span>
                                        <Clock className="h-4 w-4" />
                                        {booking.time}
                                    </div>
                                </div>
                            </div>
                            <Badge variant="secondary" className={getStatusColor(booking.status)}>
                                {booking.status.toUpperCase()}
                            </Badge>
                        </div>

                        <div className="grid md:grid-cols-2 gap-4 text-sm mt-4">
                            <div className="space-y-1">
                                <p className="text-muted-foreground">Package</p>
                                <p className="font-medium">{booking.package}</p>
                            </div>
                            <div className="space-y-1">
                                <p className="text-muted-foreground">Price</p>
                                <p className="font-medium">₹{parseInt(booking.price).toLocaleString()}</p>
                            </div>
                        </div>

                        {booking.notes && (
                            <div className="bg-muted/50 p-3 rounded-md text-sm">
                                <p className="font-medium mb-1 flex items-center gap-2">
                                    <MessageSquare className="h-3 w-3" /> Note from Customer:
                                </p>
                                <p className="text-muted-foreground">{booking.notes}</p>
                            </div>
                        )}
                    </div>

                    {booking.status === 'pending' && (
                        <div className="bg-gray-50 md:w-48 p-4 flex flex-col justify-center gap-2 border-t md:border-t-0 md:border-l">
                            <Button
                                className="w-full bg-green-600 hover:bg-green-700 text-white"
                                onClick={() => handleStatusChange(booking.id, 'accepted')}
                            >
                                <CheckCircle className="mr-2 h-4 w-4" /> Accept
                            </Button>
                            <Button
                                variant="outline"
                                className="w-full text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200"
                                onClick={() => {
                                    setSelectedBooking(booking);
                                    setRejectDialogOpen(true);
                                }}
                            >
                                <XCircle className="mr-2 h-4 w-4" /> Reject
                            </Button>
                        </div>
                    )}
                </div>
            </CardContent>
        </Card>
    );

    return (
        <div className="space-y-8">
            <div className="flex items-center justify-between">
                <div>
                    <h1 className="text-3xl font-bold tracking-tight">Bookings</h1>
                    <p className="text-muted-foreground">Manage your incoming requests and schedule.</p>
                </div>
            </div>

            <Tabs defaultValue="pending">
                <TabsList>
                    <TabsTrigger value="all">All Bookings</TabsTrigger>
                    <TabsTrigger value="pending">Pending ({bookings.filter(b => b.status === 'pending').length})</TabsTrigger>
                    <TabsTrigger value="accepted">Upcoming</TabsTrigger>
                    <TabsTrigger value="completed">Past</TabsTrigger>
                </TabsList>

                <TabsContent value="all" className="space-y-4 mt-6">
                    {bookings.map(b => <BookingCard key={b.id} booking={b} />)}
                </TabsContent>
                <TabsContent value="pending" className="space-y-4 mt-6">
                    {bookings.filter(b => b.status === 'pending').length > 0 ? (
                        bookings.filter(b => b.status === 'pending').map(b => <BookingCard key={b.id} booking={b} />)
                    ) : (
                        <div className="text-center py-12 text-muted-foreground">No pending requests.</div>
                    )}
                </TabsContent>
                <TabsContent value="accepted" className="space-y-4 mt-6">
                    {bookings.filter(b => b.status === 'accepted').map(b => <BookingCard key={b.id} booking={b} />)}
                </TabsContent>
                <TabsContent value="completed" className="space-y-4 mt-6">
                    {bookings.filter(b => ['completed', 'rejected'].includes(b.status)).map(b => <BookingCard key={b.id} booking={b} />)}
                </TabsContent>
            </Tabs>

            <Dialog open={rejectDialogOpen} onOpenChange={setRejectDialogOpen}>
                <DialogContent>
                    <DialogHeader>
                        <DialogTitle>Reject Booking Request</DialogTitle>
                        <DialogDescription>
                            Let the customer know why you cannot accept this booking.
                        </DialogDescription>
                    </DialogHeader>
                    <div className="py-4">
                        <Textarea
                            placeholder="Reason for rejection (e.g. date unavailable)..."
                            value={rejectionReason}
                            onChange={(e) => setRejectionReason(e.target.value)}
                        />
                    </div>
                    <DialogFooter>
                        <Button variant="outline" onClick={() => setRejectDialogOpen(false)}>Cancel</Button>
                        <Button variant="destructive" onClick={confirmReject}>Reject Booking</Button>
                    </DialogFooter>
                </DialogContent>
            </Dialog>
        </div>
    );
}


================================================================================
FILE: src/pages/vendor/Dashboard.tsx
================================================================================

import { useAuth } from '@/context/AuthContext';
import { MetricCard } from '@/components/shared/MetricCard';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import {
    DollarSign,
    CalendarCheck,
    Package,
    Eye,
    Plus,
    ArrowRight
} from 'lucide-react';
import { Link } from 'react-router-dom';

export default function VendorDashboard() {
    const { user } = useAuth();

    return (
        <div className="space-y-8">
            <div className="flex items-center justify-between">
                <div>
                    <h1 className="text-3xl font-bold tracking-tight">Dashboard</h1>
                    <p className="text-muted-foreground">
                        Welcome back, {user?.firstName || 'Vendor'}. Here's what's happening today.
                    </p>
                </div>
                <div className="flex gap-2">
                    <Link to="/vendor/bookings">
                        <Button variant="outline">View Bookings</Button>
                    </Link>
                    <Link to="/vendor/packages/new">
                        <Button>
                            <Plus className="mr-2 h-4 w-4" /> Create Package
                        </Button>
                    </Link>
                </div>
            </div>

            <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
                <MetricCard
                    title="Total Revenue"
                    value="$12,450"
                    icon={DollarSign}
                    trend={{ value: 12, isPositive: true }}
                    description="from last month"
                />
                <MetricCard
                    title="Active Bookings"
                    value="4"
                    icon={CalendarCheck}
                    description="2 pending approval"
                />
                <MetricCard
                    title="Active Packages"
                    value="3"
                    icon={Package}
                    description="1 draft package"
                />
                <MetricCard
                    title="Profile Views"
                    value="1,240"
                    icon={Eye}
                    trend={{ value: 8, isPositive: true }}
                    description="in the last 30 days"
                />
            </div>

            <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-7">
                <Card className="col-span-4">
                    <CardHeader>
                        <CardTitle>Recent Bookings</CardTitle>
                        <CardDescription>
                            You have 2 pending booking requests.
                        </CardDescription>
                    </CardHeader>
                    <CardContent>
                        <div className="space-y-4">
                            {[1, 2, 3].map((i) => (
                                <div key={i} className="flex items-center justify-between border-b pb-4 last:border-0 last:pb-0">
                                    <div className="flex items-center gap-4">
                                        <div className="h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 font-bold">
                                            VB
                                        </div>
                                        <div>
                                            <p className="text-sm font-medium">Vihaan Bansal</p>
                                            <p className="text-xs text-muted-foreground">Wedding Photography • Oct 24, 2026</p>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <span className="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200">
                                            Pending
                                        </span>
                                        <Button variant="ghost" size="icon" className="h-8 w-8">
                                            <ArrowRight className="h-4 w-4" />
                                        </Button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </CardContent>
                </Card>

                <Card className="col-span-3">
                    <CardHeader>
                        <CardTitle>Quick Actions</CardTitle>
                        <CardDescription>Manage your store efficiently.</CardDescription>
                    </CardHeader>
                    <CardContent className="grid gap-2">
                        <Link to="/vendor/profile">
                            <Button variant="outline" className="w-full justify-start h-auto py-4">
                                <div className="flex flex-col items-start gap-1">
                                    <span className="font-semibold">Update Profile</span>
                                    <span className="text-xs text-muted-foreground font-normal">Edit bio, contact info, and branding.</span>
                                </div>
                            </Button>
                        </Link>
                        <Link to="/vendor/gallery">
                            <Button variant="outline" className="w-full justify-start h-auto py-4">
                                <div className="flex flex-col items-start gap-1">
                                    <span className="font-semibold">Manage Gallery</span>
                                    <span className="text-xs text-muted-foreground font-normal">Upload new photos of your work.</span>
                                </div>
                            </Button>
                        </Link>
                        <Link to="/vendor/packages">
                            <Button variant="outline" className="w-full justify-start h-auto py-4">
                                <div className="flex flex-col items-start gap-1">
                                    <span className="font-semibold">Edit Packages</span>
                                    <span className="text-xs text-muted-foreground font-normal">Update prices and deliverables.</span>
                                </div>
                            </Button>
                        </Link>
                    </CardContent>
                </Card>
            </div>
        </div>
    );
}


================================================================================
FILE: src/pages/vendor/GalleryManager.tsx
================================================================================

import { useState } from 'react';
import { Button } from '@/components/ui/button';

import { Trash2, Upload, Image as ImageIcon, Loader2 } from 'lucide-react';
import { useToast } from '@/components/ui/use-toast';

interface GalleryItem {
    id: string;
    url: string;
    type: 'image' | 'video';
}

const INITIAL_GALLERY: GalleryItem[] = [
    { id: '1', url: 'https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80', type: 'image' },
    { id: '2', url: 'https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80', type: 'image' },
    { id: '3', url: 'https://images.unsplash.com/photo-1469334031218-e382a71b716b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80', type: 'image' },
    { id: '4', url: 'https://images.unsplash.com/photo-1519225421980-715cb0202128?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80', type: 'image' },
];

export default function GalleryManager() {
    const { toast } = useToast();
    const [items, setItems] = useState<GalleryItem[]>(INITIAL_GALLERY);
    const [uploading, setUploading] = useState(false);

    const validateFile = async (file: File): Promise<boolean> => {
        // Size check (max 50MB)
        if (file.size > 50 * 1024 * 1024) {
            toast({ title: "File too large", description: "Max file size is 50MB.", variant: "destructive" });
            return false;
        }

        // Video duration check
        if (file.type.startsWith('video/')) {
            return new Promise((resolve) => {
                const video = document.createElement('video');
                video.preload = 'metadata';
                video.onloadedmetadata = () => {
                    window.URL.revokeObjectURL(video.src);
                    if (video.duration < 15 || video.duration > 30) {
                        toast({
                            title: "Invalid Video Duration",
                            description: `Video must be between 15 and 30 seconds. Current: ${video.duration.toFixed(1)}s`,
                            variant: "destructive"
                        });
                        resolve(false);
                    } else {
                        resolve(true);
                    }
                };
                video.onerror = () => {
                    toast({ title: "Error", description: "Failed to load video metadata.", variant: "destructive" });
                    resolve(false);
                }
                video.src = URL.createObjectURL(file);
            });
        }
        return true;
    };

    const handleUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {
        const files = e.target.files;
        if (!files || files.length === 0) return;

        setUploading(true);
        const validFiles: File[] = [];

        for (const file of Array.from(files)) {
            const isValid = await validateFile(file);
            if (isValid) validFiles.push(file);
        }

        if (validFiles.length > 0) {
            // Simulate upload delay (Replace with actual API call)
            setTimeout(() => {
                const newItems: GalleryItem[] = validFiles.map((file, i) => ({
                    id: Date.now().toString() + i,
                    url: URL.createObjectURL(file), // In real app, this would be the S3/Supabase URL
                    type: file.type.startsWith('video') ? 'video' : 'image'
                }));
                setItems(prev => [...prev, ...newItems]);
                setUploading(false);
                toast({ title: "Upload Complete", description: `Added ${validFiles.length} items.` });
            }, 1500);
        } else {
            setUploading(false);
        }
    };

    const handleDelete = (id: string) => {
        if (confirm("Delete this image?")) {
            setItems(items.filter(item => item.id !== id));
            toast({ title: "Item Deleted" });
        }
    };

    return (
        <div className="space-y-6">
            <div className="flex items-center justify-between">
                <div>
                    <h1 className="text-3xl font-bold tracking-tight">Gallery</h1>
                    <p className="text-muted-foreground">Showcase your best work to potential clients.</p>
                </div>
                <div className="relative">
                    <input
                        type="file"
                        multiple
                        accept="image/*,video/*"
                        className="absolute inset-0 opacity-0 cursor-pointer z-10"
                        onChange={handleUpload}
                        disabled={uploading}
                    />
                    <Button disabled={uploading}>
                        {uploading ? <Loader2 className="mr-2 h-4 w-4 animate-spin" /> : <Upload className="mr-2 h-4 w-4" />}
                        {uploading ? "Uploading..." : "Upload Photos"}
                    </Button>
                </div>
            </div>

            <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                {items.map((item) => (
                    <div key={item.id} className="group relative aspect-square rounded-lg overflow-hidden border bg-muted">
                        {item.type === 'video' ? (
                            <video src={item.url} controls className="w-full h-full object-cover" />
                        ) : (
                            <img src={item.url} alt="Gallery" className="w-full h-full object-cover transition-transform hover:scale-105" />
                        )}

                        <div className="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2">
                            <Button variant="destructive" size="icon" onClick={() => handleDelete(item.id)}>
                                <Trash2 className="h-4 w-4" />
                            </Button>
                        </div>
                    </div>
                ))}

                {/* Upload Placeholder */}
                <div className="aspect-square rounded-lg border-2 border-dashed flex flex-col items-center justify-center text-muted-foreground hover:bg-muted/50 transition-colors relative">
                    <input
                        type="file"
                        multiple
                        accept="image/*,video/*"
                        className="absolute inset-0 opacity-0 cursor-pointer"
                        onChange={handleUpload}
                        disabled={uploading}
                    />
                    <ImageIcon className="h-8 w-8 mb-2" />
                    <span className="text-sm font-medium">Add More</span>
                </div>
            </div>
        </div>
    );
}


================================================================================
FILE: src/pages/vendor/Onboarding.tsx
================================================================================

import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { api } from '@/lib/api';
import { useAuth } from '@/context/AuthContext';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Card, CardHeader, CardContent, CardFooter } from '@/components/ui/card';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList } from "@/components/ui/command";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
import { Badge } from "@/components/ui/badge";
import { Loader2, Upload, CheckCircle, ArrowRight, ArrowLeft, Building2, TrendingUp, Check, ChevronsUpDown } from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';

export default function VendorOnboarding() {
    const [step, setStep] = useState(1);
    const [loading, setLoading] = useState(false);
    const { user, login, logout } = useAuth();
    const navigate = useNavigate();

    const [formData, setFormData] = useState({
        firstName: '', lastName: '', email: '',
        businessName: '', businessType: 'individual', city: '', address: '', pincode: '', landmark: '', description: '', gstNumber: '', yearsInBusiness: '',
        country: '', state: '', locality: '', plotNo: '', // New Address Fields
        serviceCategories: [] as string[], acquisitionChannels: '', eventVolume: '', avgBookingPrice: '', packagesOffered: '', challenges: '', platformInterest: '', preferredPricing: '',
    });

    const [statusMessage, setStatusMessage] = useState('');
    const [logo, setLogo] = useState<File | null>(null);

    const handleInputChange = (e: any) => setFormData({ ...formData, [e.target.id]: e.target.value });
    const handleSelectChange = (field: string, value: string) => setFormData({ ...formData, [field]: value });

    // Compress image immediately upon selection
    const handleFileChange = async (e: any) => {
        if (e.target.files?.[0]) {
            const file = e.target.files[0];
            try {
                // Determine if compression is needed (e.g. > 500KB)
                if (file.size > 500 * 1024) {
                    // const { compressImage } = await import('@/lib/image-compression'); // Dynamic import if needed, but static is fine here
                    // For now assuming the function is available. 
                    // Since I cannot import inside the function easily without making this component async or using require/import() properly which might be messy with tsconfig.
                    // I will import it at the top level in the next edit step.
                    // IMPORTANT: I will just set the file for now and compress during SUBMIT or rely on top-level import.
                    // Actually better UX: compress on submit to not lag the UI selection? 
                    // No, compress on selection is better for perceived "submit" speed.
                    setLogo(file); // Set original first for immediate feedback
                } else {
                    setLogo(file);
                }
            } catch (err) {
                console.error("Compression check failed", err);
                setLogo(file);
            }
        }
    };

    const handleSubmit = async () => {
        setLoading(true);
        setStatusMessage('Creating your profile...');

        try {
            const payload = {
                ...formData,
                yearsInBusiness: formData.yearsInBusiness ? parseInt(formData.yearsInBusiness) : 0,
                acquisitionChannels: formData.acquisitionChannels ? formData.acquisitionChannels.split(',').map(s => s.trim()) : [],
                address: `${formData.plotNo}, ${formData.locality}, ${formData.city}, ${formData.state}, ${formData.pincode}, ${formData.country}`, // Concat address
            };

            // 1. Save Profile
            const response = await api.post('/vendors/profile', payload);
            const { accessToken, user } = response.data;

            // 2. Update Auth (Vital for role upgrade)
            if (accessToken) {
                login(accessToken, user);
            }

            // 3. Upload Logo (if selected)
            if (logo) {
                setStatusMessage('Uploading logo...');
                try {
                    // Start compression now if not done, or reusing the file.
                    // Doing compression here to ensure we don't block the UI earlier.
                    const { compressImage } = await import('@/lib/image-compression');
                    const compressedLogo = await compressImage(logo);

                    const logoData = new FormData();
                    logoData.append('file', compressedLogo);

                    // Use the NEW access token if we got one, otherwise api interceptor handles it.
                    // If we just called login(), the interceptor might not pick up the new token immediately if it reads from exact moment?
                    // Usually axios interceptors read from localStorage or variable. login() updates localStorage.
                    // We might need to handle a race condition, but usually it is fast enough.
                    await api.post('/vendors/upload-logo', logoData, { headers: { 'Content-Type': 'multipart/form-data' } });
                } catch (uploadError) {
                    console.error("Logo upload failed", uploadError);
                    // Don't block success just for logo
                    // alert("Profile created, but logo upload failed.");
                }
            }

            navigate('/vendor/dashboard');
        } catch (error: any) {
            console.error('Onboarding failed', error);
            if (error.response?.status === 401) {
                alert("Account role update required. Please log in again.");
                logout();
                navigate('/login');
            } else {
                alert('Failed to save profile. Please check your connection.');
            }
        } finally {
            setLoading(false);
            setStatusMessage('');
        }
    };

    const variants = {
        enter: (direction: number) => ({ x: direction > 0 ? 100 : -100, opacity: 0 }),
        center: { x: 0, opacity: 1 },
        exit: (direction: number) => ({ x: direction < 0 ? 100 : -100, opacity: 0 }),
    };

    const steps = [
        { title: "Basic Info", icon: Building2 },
        { title: "Business Details", icon: Building2 },
        { title: "Market Insights", icon: TrendingUp },
        { title: "Brand Assets", icon: Upload },
    ];

    return (
        <div className="min-h-screen bg-gradient-to-br from-indigo-50 to-pink-50 flex items-center justify-center p-4 font-sans">
            <Card className="w-full max-w-3xl glass-card border-white/20 shadow-2xl overflow-hidden">
                <div className="bg-gradient-to-r from-primary to-secondary p-1 h-2" />
                <CardHeader className="pb-8">
                    <div className="flex justify-between items-center mb-6">
                        <div>
                            <h1 className="text-3xl font-heading font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600">
                                {steps[step - 1].title}
                            </h1>
                            <p className="text-gray-500 mt-1">Step {step} of 4</p>
                        </div>
                        <div className="bg-primary/10 p-3 rounded-full text-primary">
                            {(() => { const Icon = steps[step - 1].icon; return <Icon size={24} />; })()}
                        </div>
                    </div>
                    {/* Progress Bar */}
                    <div className="w-full bg-gray-100 h-2 rounded-full overflow-hidden">
                        <motion.div
                            className="bg-primary h-full rounded-full"
                            initial={{ width: 0 }}
                            animate={{ width: `${(step / 4) * 100}%` }}
                            transition={{ duration: 0.5, ease: "easeInOut" }}
                        />
                    </div>
                </CardHeader>

                <CardContent className="min-h-[400px] relative">
                    <AnimatePresence mode='wait' custom={1}>
                        <motion.div
                            key={step}
                            custom={1}
                            variants={variants}
                            initial="enter"
                            animate="center"
                            exit="exit"
                            transition={{ duration: 0.3 }}
                            className="space-y-6"
                        >
                            {step === 1 && (
                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="space-y-2">
                                            <Label htmlFor="firstName">First Name</Label>
                                            <Input id="firstName" value={formData.firstName} onChange={handleInputChange} placeholder="Enter your first name" className="h-11" />
                                        </div>
                                        <div className="space-y-2">
                                            <Label htmlFor="lastName">Last Name</Label>
                                            <Input id="lastName" value={formData.lastName} onChange={handleInputChange} placeholder="Enter your last name" className="h-11" />
                                        </div>
                                    </div>
                                    <div className="space-y-2">
                                        <Label htmlFor="email">Email</Label>
                                        <Input id="email" type="email" value={formData.email} onChange={handleInputChange} placeholder="you@company.com" className="h-11" />
                                    </div>
                                    <div className="space-y-2">
                                        <Label>Phone Verified</Label>
                                        <Input value={user?.phone || ''} disabled className="bg-gray-50 border-green-200 text-green-700 font-medium" />
                                    </div>
                                </div>
                            )}

                            {step === 2 && (
                                <div className="space-y-6">
                                    <div className="space-y-4">
                                        <div className="space-y-2">
                                            <Label>Business Name</Label>
                                            <Input id="businessName" value={formData.businessName} onChange={handleInputChange} placeholder="e.g. Royal Weddings" className="h-11" />
                                        </div>
                                        <div className="space-y-2">
                                            <Label>Business Description</Label>
                                            <Input id="description" value={formData.description} onChange={handleInputChange} placeholder="Tell us about your services..." className="h-11" />
                                        </div>
                                        <div className="grid grid-cols-2 gap-4">
                                            <div className="space-y-2">
                                                <Label>Type</Label>
                                                <Select onValueChange={(v) => handleSelectChange('businessType', v)} defaultValue={formData.businessType}>
                                                    <SelectTrigger className="h-11"><SelectValue /></SelectTrigger>
                                                    <SelectContent>
                                                        <SelectItem value="individual">Freelancer</SelectItem>
                                                        <SelectItem value="company">Company</SelectItem>
                                                        <SelectItem value="agency">Agency</SelectItem>
                                                    </SelectContent>
                                                </Select>
                                            </div>
                                            <div className="space-y-2">
                                                <Label>Years Exp.</Label>
                                                <Input id="yearsInBusiness" type="number" value={formData.yearsInBusiness} onChange={handleInputChange} placeholder="0" className="h-11" />
                                            </div>
                                        </div>
                                        <div className="space-y-2">
                                            <Label>GST Number (Optional)</Label>
                                            <Input id="gstNumber" value={formData.gstNumber} onChange={handleInputChange} placeholder="GSTIN..." className="h-11" />
                                        </div>
                                    </div>

                                    <div className="pt-2">
                                        <div className="bg-primary/5 p-4 rounded-lg border border-primary/10 mb-4">
                                            <h3 className="text-sm font-semibold text-primary uppercase tracking-wider mb-4 flex items-center gap-2">
                                                <Building2 className="h-4 w-4" /> Address Details
                                            </h3>
                                            <div className="space-y-4">
                                                <div className="grid grid-cols-2 gap-4">
                                                    <div className="space-y-2">
                                                        <Label>Country *</Label>
                                                        <Select onValueChange={(v) => handleSelectChange('country', v)} defaultValue={formData.country}>
                                                            <SelectTrigger className="h-11 bg-white"><SelectValue placeholder="Select Country" /></SelectTrigger>
                                                            <SelectContent>
                                                                <SelectItem value="India">India</SelectItem>
                                                                <SelectItem value="Other">Other</SelectItem>
                                                            </SelectContent>
                                                        </Select>
                                                    </div>
                                                    <div className="space-y-2">
                                                        <Label>State/UT *</Label>
                                                        <Input id="state" value={formData.state} onChange={handleInputChange} placeholder="Enter State/UT" className="h-11 bg-white" />
                                                    </div>
                                                </div>

                                                <div className="grid grid-cols-2 gap-4">
                                                    <div className="space-y-2">
                                                        <Label>City *</Label>
                                                        <Input id="city" value={formData.city} onChange={handleInputChange} placeholder="Enter City" className="h-11 bg-white" />
                                                    </div>
                                                    <div className="space-y-2">
                                                        <Label>Locality (Optional)</Label>
                                                        <Input id="locality" value={formData.locality} onChange={handleInputChange} placeholder="Enter Locality" className="h-11 bg-white" />
                                                    </div>
                                                </div>

                                                <div className="grid grid-cols-2 gap-4">
                                                    <div className="space-y-2">
                                                        <Label>Pincode *</Label>
                                                        <Input id="pincode" value={formData.pincode} onChange={handleInputChange} placeholder="Enter Pincode" className="h-11 bg-white" />
                                                    </div>
                                                    <div className="space-y-2">
                                                        <Label>Plot No/Street/Area *</Label>
                                                        <Input id="plotNo" value={formData.plotNo} onChange={handleInputChange} placeholder="Plot No/Street/Area" className="h-11 bg-white" />
                                                    </div>
                                                </div>

                                                <div className="grid grid-cols-2 gap-4">
                                                    <div className="space-y-2">
                                                        <Label>Landmark (Optional)</Label>
                                                        <Input id="landmark" value={formData.landmark} onChange={handleInputChange} placeholder="Enter Landmark" className="h-11 bg-white" />
                                                    </div>
                                                    <div className="space-y-2">
                                                        <Label>Mobile Number *</Label>
                                                        <div className="flex bg-gray-50 border rounded-md h-11 items-center px-3 gap-2 overflow-hidden">
                                                            <span className="text-gray-500 text-sm whitespace-nowrap font-medium">IN +91</span>
                                                            <span className="text-gray-700 font-medium">{user?.phone?.replace('+91', '') || ''}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {step === 3 && (
                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="space-y-2">
                                            <Label>Monthly Events</Label>
                                            <Select onValueChange={(v) => handleSelectChange('eventVolume', v)} defaultValue={formData.eventVolume}>
                                                <SelectTrigger className="h-11"><SelectValue placeholder="Select Volume" /></SelectTrigger>
                                                <SelectContent>
                                                    <SelectItem value="0-5">0-5 Events</SelectItem>
                                                    <SelectItem value="6-20">6-20 Events</SelectItem>
                                                    <SelectItem value="21+">21+ Events</SelectItem>
                                                </SelectContent>
                                            </Select>
                                        </div>
                                        <div className="space-y-2">
                                            <Label>Avg Price</Label>
                                            <Select onValueChange={(v) => handleSelectChange('avgBookingPrice', v)} defaultValue={formData.avgBookingPrice}>
                                                <SelectTrigger className="h-11"><SelectValue placeholder="Select Range" /></SelectTrigger>
                                                <SelectContent>
                                                    <SelectItem value="low">Budget (&lt;25k)</SelectItem>
                                                    <SelectItem value="medium">Standard (25k-1L)</SelectItem>
                                                    <SelectItem value="high">Premium (&gt;1L)</SelectItem>
                                                </SelectContent>
                                            </Select>
                                        </div>
                                    </div>
                                    <div className="space-y-2">
                                        <Label>Service Categories</Label>
                                        <Popover>
                                            <PopoverTrigger asChild>
                                                <Button
                                                    variant="outline"
                                                    role="combobox"
                                                    className="w-full justify-between h-auto min-h-[44px]"
                                                >
                                                    {formData.serviceCategories.length > 0 ? (
                                                        <div className="flex flex-wrap gap-1">
                                                            {formData.serviceCategories.map((category) => (
                                                                <Badge key={category} variant="secondary" className="mr-1">
                                                                    {category}
                                                                </Badge>
                                                            ))}
                                                        </div>
                                                    ) : (
                                                        "Select categories"
                                                    )}
                                                    <ChevronsUpDown className="ml-2 h-4 w-4 shrink-0 opacity-50" />
                                                </Button>
                                            </PopoverTrigger>
                                            <PopoverContent className="w-[--radix-popover-trigger-width] p-0">
                                                <Command>
                                                    <CommandInput placeholder="Search category..." />
                                                    <CommandList>
                                                        <CommandEmpty>No category found.</CommandEmpty>
                                                        <CommandGroup>
                                                            {['Photographer', 'Videographer', 'Makeup Artist', 'Venue', 'Planner', 'Decorator', 'Caterer', 'Mehendi Artist', 'DJ/Entertainment', 'Other'].map((category) => (
                                                                <CommandItem
                                                                    key={category}
                                                                    value={category}
                                                                    onSelect={() => {
                                                                        const current = formData.serviceCategories;
                                                                        const updated = current.includes(category)
                                                                            ? current.filter((c) => c !== category)
                                                                            : [...current, category];
                                                                        handleSelectChange('serviceCategories', updated as any);
                                                                    }}
                                                                >
                                                                    <Check
                                                                        className={`mr-2 h-4 w-4 ${formData.serviceCategories.includes(category) ? "opacity-100" : "opacity-0"
                                                                            }`}
                                                                    />
                                                                    {category}
                                                                </CommandItem>
                                                            ))}
                                                        </CommandGroup>
                                                    </CommandList>
                                                </Command>
                                            </PopoverContent>
                                        </Popover>
                                    </div>
                                </div>
                            )}

                            {step === 4 && (
                                <div className="space-y-6">
                                    <div className="border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center relative hover:bg-gray-50/50 hover:border-primary/50 transition-all group">
                                        <Input id="logo" type="file" className="absolute inset-0 opacity-0 cursor-pointer z-10" onChange={handleFileChange} accept="image/*" />
                                        <div className="flex flex-col items-center gap-3">
                                            {logo ? (
                                                <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} className="h-16 w-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center">
                                                    <CheckCircle size={32} />
                                                </motion.div>
                                            ) : (
                                                <div className="h-16 w-16 bg-primary/5 text-primary rounded-full flex items-center justify-center group-hover:scale-110 transition-transform">
                                                    <Upload size={32} />
                                                </div>
                                            )}
                                            <div>
                                                <p className="font-semibold text-lg">{logo ? logo.name : "Upload Logo"}</p>
                                                <p className="text-sm text-gray-500">{logo ? "Click to change" : "Drag & drop or click to browse"}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3 bg-blue-50/80 p-4 rounded-lg text-blue-800 text-sm">
                                        <CheckCircle className="h-5 w-5 shrink-0 mt-0.5" />
                                        <p>By completing setup, you gain access to our Vendor Dashboard and agree to the Terms of Service.</p>
                                    </div>
                                </div>
                            )}
                        </motion.div>
                    </AnimatePresence>
                </CardContent>

                <CardFooter className="flex justify-between pt-6 border-t bg-gray-50/50">
                    <Button variant="ghost" onClick={() => setStep(s => Math.max(1, s - 1))} disabled={step === 1} className="text-gray-500 hover:text-gray-900">
                        <ArrowLeft className="mr-2 h-4 w-4" /> Previous
                    </Button>

                    {step < 4 ? (
                        <Button onClick={() => setStep(s => Math.min(4, s + 1))} className="bg-black hover:bg-gray-800 text-white rounded-full px-6">
                            Next Step <ArrowRight className="ml-2 h-4 w-4" />
                        </Button>
                    ) : (
                        <Button onClick={handleSubmit} disabled={loading} className="bg-primary hover:bg-primary/90 text-white rounded-full px-8 shadow-lg shadow-primary/25 min-w-[180px]">
                            {loading && <Loader2 className="mr-2 h-4 w-4 animate-spin" />}
                            {loading ? statusMessage : "Complete Setup"}
                        </Button>
                    )}
                </CardFooter>
            </Card>
        </div>
    );
}


================================================================================
FILE: src/pages/vendor/PackageManager.tsx
================================================================================

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { Plus, Pencil, Trash2, Package, Upload } from 'lucide-react';
import { useToast } from '@/components/ui/use-toast';

interface PackageType {
    id: string;
    name: string;
    description: string;
    price: string;
    features: string[];
    images?: string[]; // URLs of images/videos
}

// Mock data
const INITIAL_PACKAGES: PackageType[] = [
    {
        id: '1',
        name: 'Basic Photography',
        description: '4 hours of coverage, 200 edited photos.',
        price: '25000',
        features: ['4 Hours Coverage', '200 Photos', 'Digital Album']
    },
    {
        id: '2',
        name: 'Premium Wedding',
        description: 'Full day coverage, drone shots, cinematic video.',
        price: '85000',
        features: ['Full Day', 'Drone Shots', 'Cinematic Video', 'Physical Album']
    }
];

export default function PackageManager() {
    const { toast } = useToast();
    const [packages, setPackages] = useState<PackageType[]>(INITIAL_PACKAGES);
    const [isDialogOpen, setIsDialogOpen] = useState(false);
    const [editingPackage, setEditingPackage] = useState<PackageType | null>(null);
    const [formData, setFormData] = useState({
        name: '',
        description: '',
        price: '',
        features: '',
        images: [] as string[]
    });

    const handleOpenDialog = (pkg?: PackageType) => {
        if (pkg) {
            setEditingPackage(pkg);
            setFormData({
                name: pkg.name,
                description: pkg.description,
                price: pkg.price,
                features: pkg.features.join(', '),
                images: pkg.images || []
            });
        } else {
            setEditingPackage(null);
            setFormData({ name: '', description: '', price: '', features: '', images: [] });
        }
        setIsDialogOpen(true);
    };

    const handleDelete = (id: string) => {
        if (confirm("Are you sure you want to delete this package?")) {
            setPackages(packages.filter(p => p.id !== id));
            toast({ title: "Package Deleted" });
        }
    };

    const handleSubmit = () => {
        const newPackage: PackageType = {
            id: editingPackage ? editingPackage.id : Date.now().toString(),
            name: formData.name,
            description: formData.description,
            price: formData.price,
            features: formData.features.split(',').map(f => f.trim()).filter(f => f),
            images: formData.images
        };

        if (editingPackage) {
            setPackages(packages.map(p => p.id === editingPackage.id ? newPackage : p));
            toast({ title: "Package Updated" });
        } else {
            setPackages([...packages, newPackage]);
            toast({ title: "Package Created" });
        }
        setIsDialogOpen(false);
    };

    return (
        <div className="space-y-6">
            <div className="flex items-center justify-between">
                <div>
                    <h1 className="text-3xl font-bold tracking-tight">Packages</h1>
                    <p className="text-muted-foreground">Manage your service offerings and pricing.</p>
                </div>
                <Button onClick={() => handleOpenDialog()}>
                    <Plus className="mr-2 h-4 w-4" /> Add Package
                </Button>
            </div>

            <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                {packages.map((pkg) => (
                    <Card key={pkg.id} className="flex flex-col">
                        {pkg.images && pkg.images.length > 0 && (
                            <div className="h-48 w-full overflow-hidden rounded-t-lg relative">
                                <img src={pkg.images[0]} alt={pkg.name} className="w-full h-full object-cover" />
                                {pkg.images.length > 1 && (
                                    <div className="absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full">
                                        +{pkg.images.length - 1} more
                                    </div>
                                )}
                            </div>
                        )}
                        <CardHeader>
                            <CardTitle className="flex justify-between items-start">
                                <span>{pkg.name}</span>
                                <span className="text-xl font-bold text-primary">₹{pkg.price}</span>
                            </CardTitle>
                            <CardDescription className="line-clamp-2 min-h-[40px]">
                                {pkg.description}
                            </CardDescription>
                        </CardHeader>
                        <CardContent className="flex-1">
                            <ul className="list-disc list-inside text-sm text-muted-foreground space-y-1">
                                {pkg.features.map((feature, i) => (
                                    <li key={i}>{feature}</li>
                                ))}
                            </ul>
                        </CardContent>
                        <div className="p-6 pt-0 flex gap-2">
                            <Button variant="outline" className="flex-1" onClick={() => handleOpenDialog(pkg)}>
                                <Pencil className="mr-2 h-4 w-4" /> Edit
                            </Button>
                            <Button variant="ghost" size="icon" className="text-destructive hover:bg-red-50" onClick={() => handleDelete(pkg.id)}>
                                <Trash2 className="h-4 w-4" />
                            </Button>
                        </div>
                    </Card>
                ))}

                {packages.length === 0 && (
                    <div className="col-span-full flex flex-col items-center justify-center p-12 border-2 border-dashed rounded-lg bg-muted/10">
                        <Package className="h-12 w-12 text-muted-foreground mb-4" />
                        <h3 className="text-lg font-semibold">No packages yet</h3>
                        <p className="text-muted-foreground mb-4">Create your first package to start selling.</p>
                        <Button onClick={() => handleOpenDialog()}>Create Package</Button>
                    </div>
                )}
            </div>

            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>
                <DialogContent>
                    <DialogHeader>
                        <DialogTitle>{editingPackage ? 'Edit Package' : 'Create Package'}</DialogTitle>
                        <DialogDescription>
                            Define the details of your service package.
                        </DialogDescription>
                    </DialogHeader>
                    <div className="space-y-4 py-4">
                        <div className="grid gap-2">
                            <Label htmlFor="name">Package Name</Label>
                            <Input
                                id="name"
                                value={formData.name}
                                onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                                placeholder="e.g. Gold Tier"
                            />
                        </div>
                        <div className="grid gap-2">
                            <Label htmlFor="price">Price (₹)</Label>
                            <Input
                                id="price"
                                type="number"
                                value={formData.price}
                                onChange={(e) => setFormData({ ...formData, price: e.target.value })}
                                placeholder="5000"
                            />
                        </div>
                        <div className="grid gap-2">
                            <Label htmlFor="features">Features (comma separated)</Label>
                            <Input
                                id="features"
                                value={formData.features}
                                onChange={(e) => setFormData({ ...formData, features: e.target.value })}
                                placeholder="Feature 1, Feature 2, Feature 3"
                            />
                        </div>
                        <div className="grid gap-2">
                            <Label htmlFor="description">Description</Label>
                            <Textarea
                                id="description"
                                value={formData.description}
                                onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                                placeholder="Describe what's included..."
                            />
                        </div>
                        <div className="grid gap-2">
                            <Label>Package Media (Images & Video)</Label>
                            <div className="border-2 border-dashed rounded-lg p-4 text-center cursor-pointer hover:bg-muted/50 transition-colors relative">
                                <input
                                    type="file"
                                    multiple
                                    accept="image/*,video/*"
                                    className="absolute inset-0 opacity-0 cursor-pointer"
                                    onChange={async (e) => {
                                        const files = e.target.files;
                                        if (!files) return;
                                        const validFiles: File[] = [];
                                        for (const file of Array.from(files)) {
                                            if (file.size > 50 * 1024 * 1024) {
                                                toast({ title: "File too large", description: "Max 50MB", variant: "destructive" });
                                                continue;
                                            }
                                            if (file.type.startsWith('video/')) {
                                                const isValid = await new Promise((resolve) => {
                                                    const video = document.createElement('video');
                                                    video.preload = 'metadata';
                                                    video.onloadedmetadata = () => {
                                                        window.URL.revokeObjectURL(video.src);
                                                        if (video.duration < 15 || video.duration > 30) {
                                                            toast({ title: "Invalid Video", description: "Must be 15-30s", variant: "destructive" });
                                                            resolve(false);
                                                        } else resolve(true);
                                                    };
                                                    video.onerror = () => resolve(false);
                                                    video.src = URL.createObjectURL(file);
                                                });
                                                if (!isValid) continue;
                                            }
                                            validFiles.push(file);
                                        }
                                        const newUrls = validFiles.map(f => URL.createObjectURL(f));
                                        setFormData(prev => ({ ...prev, images: [...(prev.images || []), ...newUrls] }));
                                        toast({ title: "Added", description: `${validFiles.length} files added.` });
                                    }}
                                />
                                <div className="flex flex-col items-center gap-2 text-muted-foreground">
                                    <Upload className="h-8 w-8" />
                                    <span>Click to upload images or video (15-30s)</span>
                                </div>
                            </div>
                            {/* Preview List */}
                            {formData.images && formData.images.length > 0 && (
                                <div className="flex gap-2 overflow-x-auto py-2">
                                    {formData.images.map((url: string, i: number) => (
                                        <div key={i} className="h-16 w-16 flex-shrink-0 rounded overflow-hidden border relative group">
                                            {url.startsWith('blob:') || url.match(/\.(mp4|webm)$/i) ? (
                                                <video src={url} className="h-full w-full object-cover" />
                                            ) : (
                                                <img src={url} className="h-full w-full object-cover" />
                                            )}
                                            <button
                                                className="absolute top-0 right-0 p-0.5 bg-red-500 text-white opacity-0 group-hover:opacity-100 transition-opacity"
                                                onClick={() => setFormData(prev => ({ ...prev, images: prev.images?.filter((_, idx) => idx !== i) }))}
                                            >
                                                <Trash2 className="h-3 w-3" />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                    </div>
                    <DialogFooter>
                        <Button variant="outline" onClick={() => setIsDialogOpen(false)}>Cancel</Button>
                        <Button onClick={handleSubmit}>Save Package</Button>
                    </DialogFooter>
                </DialogContent>
            </Dialog>
        </div>
    );
}


================================================================================
FILE: src/pages/vendor/ProfileEditor.tsx
================================================================================

import { useState, useEffect } from 'react';
import { useAuth } from '@/context/AuthContext';

import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import { Upload, Save, Store, MapPin, Phone, Globe } from 'lucide-react';
import { useToast } from '@/components/ui/use-toast';

export default function VendorProfileEditor() {
    const { user } = useAuth();
    const { toast } = useToast();
    const [loading, setLoading] = useState(false);
    const [formData, setFormData] = useState({
        businessName: '',
        description: '',
        phone: '',
        address: '',
        website: '',
        category: '',
    });
    const [avatarFile, setAvatarFile] = useState<File | null>(null);

    useEffect(() => {
        // Load initial data
        // For now, we use the user object, but in real app we'd fetch /vendors/profile
        if (user) {
            setFormData({
                businessName: user.firstName ? `${user.firstName}'s Business` : '', // Fallback
                description: 'Professional event services.',
                phone: user.phone || '',
                address: '',
                website: '',
                category: user.role === 'vendor' ? 'Photography' : '', // Mock default
            });
        }
    }, [user]);

    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
        setFormData({ ...formData, [e.target.name]: e.target.value });
    };

    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
        if (e.target.files?.[0]) {
            setAvatarFile(e.target.files[0]);
        }
    };

    const handleSubmit = async (e: React.FormEvent) => {
        e.preventDefault();
        setLoading(true);

        try {
            // Mock API call
            await new Promise(resolve => setTimeout(resolve, 1000));

            // In a real app, we would upload the file and update the profile via API
            // const form = new FormData();
            // ... append fields
            // await api.patch('/vendors/profile', form);

            toast({
                title: "Profile Updated",
                description: "Your business details have been saved successfully.",
            });
        } catch (error) {
            toast({
                title: "Error",
                description: "Failed to update profile. Please try again.",
                variant: "destructive"
            });
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className="max-w-4xl mx-auto space-y-8">
            <div className="flex items-center justify-between">
                <div>
                    <h1 className="text-3xl font-bold tracking-tight">Business Profile</h1>
                    <p className="text-muted-foreground">
                        Manage how you appear to customers on the marketplace.
                    </p>
                </div>
                <Button onClick={handleSubmit} disabled={loading}>
                    <Save className="mr-2 h-4 w-4" />
                    {loading ? 'Saving...' : 'Save Changes'}
                </Button>
            </div>

            <div className="grid gap-6 md:grid-cols-3">
                {/* Visual Branding Section */}
                <Card className="md:col-span-1">
                    <CardHeader>
                        <CardTitle>Branding</CardTitle>
                        <CardDescription>Logo and visual identity</CardDescription>
                    </CardHeader>
                    <CardContent className="space-y-6 flex flex-col items-center text-center">
                        <div className="relative group">
                            <Avatar className="h-32 w-32 border-4 border-muted">
                                <AvatarImage src={avatarFile ? URL.createObjectURL(avatarFile) : user?.avatar} />
                                <AvatarFallback className="text-4xl">
                                    {formData.businessName.charAt(0) || "B"}
                                </AvatarFallback>
                            </Avatar>
                            <label className="absolute inset-0 flex items-center justify-center bg-black/60 text-white opacity-0 group-hover:opacity-100 transition-opacity rounded-full cursor-pointer">
                                <Upload className="h-6 w-6" />
                                <input type="file" className="hidden" accept="image/*" onChange={handleFileChange} />
                            </label>
                        </div>
                        <div className="space-y-1">
                            <h3 className="font-medium">Business Logo</h3>
                            <p className="text-xs text-muted-foreground">
                                Recommended: 400x400px, JPG or PNG.
                            </p>
                        </div>
                    </CardContent>
                </Card>

                {/* Main Details Section */}
                <Card className="md:col-span-2">
                    <CardHeader>
                        <CardTitle>Business Details</CardTitle>
                        <CardDescription>Public information about your services</CardDescription>
                    </CardHeader>
                    <CardContent className="space-y-4">
                        <div className="grid gap-2">
                            <Label htmlFor="businessName">Business Name</Label>
                            <div className="relative">
                                <Store className="absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" />
                                <Input
                                    id="businessName"
                                    name="businessName"
                                    value={formData.businessName}
                                    onChange={handleChange}
                                    className="pl-9"
                                    placeholder="e.g. Dreamy Weddings & Events"
                                />
                            </div>
                        </div>

                        <div className="grid gap-2">
                            <Label htmlFor="description">About Your Business</Label>
                            <Textarea
                                id="description"
                                name="description"
                                value={formData.description}
                                onChange={handleChange}
                                placeholder="Tell customers about your experience and style..."
                                className="min-h-[120px]"
                            />
                        </div>

                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="grid gap-2">
                                <Label htmlFor="category">Service Category</Label>
                                <Input
                                    id="category"
                                    name="category"
                                    value={formData.category}
                                    onChange={handleChange}
                                    placeholder="e.g. Photography"
                                />
                            </div>
                            <div className="grid gap-2">
                                <Label htmlFor="website">Website (Optional)</Label>
                                <div className="relative">
                                    <Globe className="absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" />
                                    <Input
                                        id="website"
                                        name="website"
                                        value={formData.website}
                                        onChange={handleChange}
                                        className="pl-9"
                                        placeholder="https://..."
                                    />
                                </div>
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="grid gap-2">
                                <Label htmlFor="phone">Contact Phone</Label>
                                <div className="relative">
                                    <Phone className="absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" />
                                    <Input
                                        id="phone"
                                        name="phone"
                                        value={formData.phone}
                                        onChange={handleChange}
                                        className="pl-9"
                                    />
                                </div>
                            </div>
                            <div className="grid gap-2">
                                <Label htmlFor="address">Location</Label>
                                <div className="relative">
                                    <MapPin className="absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground" />
                                    <Input
                                        id="address"
                                        name="address"
                                        value={formData.address}
                                        onChange={handleChange}
                                        className="pl-9"
                                        placeholder="City, State"
                                    />
                                </div>
                            </div>
                        </div>
                    </CardContent>
                </Card>
            </div>
        </div>
    );
}


================================================================================
FILE: src/pages/vendor/Settings.tsx
================================================================================

import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { LogOut } from 'lucide-react';
import { useAuth } from '@/context/AuthContext';
import { api } from '@/lib/api';
import { useToast } from '@/components/ui/use-toast';

export default function Settings() {
    const { user, logout, updateUser } = useAuth();
    const { toast } = useToast();
    const [loading, setLoading] = useState(false);

    // Form States
    const [accountForm, setAccountForm] = useState({
        firstName: '',
        lastName: '',
        email: '',
        phone: ''
    });

    const [passwordForm, setPasswordForm] = useState({
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
    });

    const [notificationForm, setNotificationForm] = useState({
        email: true,
        sms: true,
        bookingUpdates: true,
        marketing: false
    });

    useEffect(() => {
        if (user) {
            setAccountForm({
                firstName: user.firstName || '',
                lastName: user.lastName || '',
                email: user.email || '',
                phone: user.phone || ''
            });
            if (user.notificationPreferences) {
                setNotificationForm(user.notificationPreferences);
            }
        }
    }, [user]);

    const handleAccountUpdate = async () => {
        setLoading(true);
        try {
            const { data } = await api.patch('/users/me', {
                firstName: accountForm.firstName,
                lastName: accountForm.lastName,
                // Email/Phone updates might need verification, restricted for now or allow if backend permits
            });
            updateUser(data);
            toast({ title: "Profile Updated", description: "Your account details have been saved." });
        } catch (error) {
            toast({ title: "Error", description: "Failed to update profile.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    const handlePasswordUpdate = async () => {
        if (passwordForm.newPassword !== passwordForm.confirmPassword) {
            toast({ title: "Mismatch", description: "New passwords do not match.", variant: "destructive" });
            return;
        }
        setLoading(true);
        try {
            await api.patch('/users/me', { password: passwordForm.newPassword });
            toast({ title: "Password Updated", description: "Your password has been changed." });
            setPasswordForm({ currentPassword: '', newPassword: '', confirmPassword: '' });
        } catch (error) {
            toast({ title: "Error", description: "Failed to update password.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    const handleNotificationUpdate = async () => {
        setLoading(true);
        try {
            const { data } = await api.patch('/users/me', { notificationPreferences: notificationForm });
            updateUser(data);
            toast({ title: "Preferences Saved", description: "Notification settings updated." });
        } catch (error) {
            toast({ title: "Error", description: "Failed to update preferences.", variant: "destructive" });
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className="space-y-8">
            <div>
                <h1 className="text-3xl font-bold tracking-tight">Settings</h1>
                <p className="text-muted-foreground">Manage your account and notification preferences.</p>
            </div>

            <Tabs defaultValue="account" className="space-y-4">
                <TabsList>
                    <TabsTrigger value="account">Account</TabsTrigger>
                    <TabsTrigger value="security">Security</TabsTrigger>
                    <TabsTrigger value="notifications">Notifications</TabsTrigger>
                </TabsList>

                {/* Account Details */}
                <TabsContent value="account">
                    <Card>
                        <CardHeader>
                            <CardTitle>Personal Information</CardTitle>
                            <CardDescription>Your personal account details.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-4">
                            <div className="flex items-center gap-4 mb-4">
                                <div className="h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center text-2xl font-bold text-primary">
                                    {user?.firstName?.[0] || 'U'}
                                </div>
                                <div>
                                    <h3 className="font-medium text-lg">{user?.firstName} {user?.lastName}</h3>
                                    <p className="text-sm text-muted-foreground">{user?.email || user?.phone}</p>
                                </div>
                            </div>
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="space-y-2">
                                    <Label>First Name</Label>
                                    <Input value={accountForm.firstName} onChange={e => setAccountForm({ ...accountForm, firstName: e.target.value })} />
                                </div>
                                <div className="space-y-2">
                                    <Label>Last Name</Label>
                                    <Input value={accountForm.lastName} onChange={e => setAccountForm({ ...accountForm, lastName: e.target.value })} />
                                </div>
                                <div className="space-y-2">
                                    <Label>Email</Label>
                                    <Input value={accountForm.email} disabled className="bg-muted" />
                                </div>
                                <div className="space-y-2">
                                    <Label>Phone</Label>
                                    <Input value={accountForm.phone} disabled className="bg-muted" />
                                </div>
                            </div>
                            <div className="flex justify-end mt-4">
                                <Button onClick={handleAccountUpdate} disabled={loading}>{loading ? 'Saving...' : 'Save Changes'}</Button>
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>

                {/* Security */}
                <TabsContent value="security">
                    <Card>
                        <CardHeader>
                            <CardTitle>Login & Security</CardTitle>
                            <CardDescription>Manage your password.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-4">
                            <div className="space-y-2">
                                <Label>New Password</Label>
                                <Input type="password" value={passwordForm.newPassword} onChange={e => setPasswordForm({ ...passwordForm, newPassword: e.target.value })} />
                            </div>
                            <div className="space-y-2">
                                <Label>Confirm New Password</Label>
                                <Input type="password" value={passwordForm.confirmPassword} onChange={e => setPasswordForm({ ...passwordForm, confirmPassword: e.target.value })} />
                            </div>
                            <div className="flex justify-end mt-4">
                                <Button onClick={handlePasswordUpdate} disabled={loading}>{loading ? 'Updating...' : 'Update Password'}</Button>
                            </div>

                            <div className="border-t pt-6 mt-6">
                                <h3 className="text-lg font-medium text-destructive mb-2">Danger Zone</h3>
                                <div className="flex justify-between items-center p-4 border border-destructive/20 rounded-md bg-destructive/5">
                                    <div>
                                        <p className="font-medium text-destructive">Sign out</p>
                                        <p className="text-sm text-muted-foreground">Log out of your account.</p>
                                    </div>
                                    <Button variant="destructive" onClick={logout}>
                                        <LogOut className="mr-2 h-4 w-4" /> Logout
                                    </Button>
                                </div>
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>

                {/* Notifications */}
                <TabsContent value="notifications">
                    <Card>
                        <CardHeader>
                            <CardTitle>Notifications</CardTitle>
                            <CardDescription>Choose how you want to be notified.</CardDescription>
                        </CardHeader>
                        <CardContent className="space-y-6">
                            <div className="space-y-4">
                                <div className="flex items-center justify-between">
                                    <div className="space-y-0.5">
                                        <Label>Email Alerts</Label>
                                        <p className="text-sm text-muted-foreground">Receive emails for important updates.</p>
                                    </div>
                                    <input type="checkbox" className="toggle" checked={notificationForm.email} onChange={e => setNotificationForm({ ...notificationForm, email: e.target.checked })} />
                                </div>
                                <div className="flex items-center justify-between">
                                    <div className="space-y-0.5">
                                        <Label>SMS Alerts</Label>
                                        <p className="text-sm text-muted-foreground">Receive SMS for bookings.</p>
                                    </div>
                                    <input type="checkbox" className="toggle" checked={notificationForm.sms} onChange={e => setNotificationForm({ ...notificationForm, sms: e.target.checked })} />
                                </div>
                            </div>
                            <div className="flex justify-end">
                                <Button onClick={handleNotificationUpdate} disabled={loading}>{loading ? 'Saving...' : 'Save Preferences'}</Button>
                            </div>
                        </CardContent>
                    </Card>
                </TabsContent>
            </Tabs>
        </div>
    );
}


